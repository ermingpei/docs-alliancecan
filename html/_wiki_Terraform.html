<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Terraform - Alliance Doc</title>
<script>(function(){var className="client-js";var cookie=document.cookie.match(/(?:^|; )ccwikimwclientpreferences=([^;]+)/);if(cookie){cookie[1].split('%2C').forEach(function(pref){className=className.replace(new RegExp('(^| )'+pref.replace(/-clientpref-\w+$|[^\w-]+/g,'')+'-clientpref-\\w+( |$)'),'$1'+pref+'$2');});}document.documentElement.className=className;}());RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"aDpETLFgDh4jAkatbzZEpAAAAI4","wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Terraform","wgTitle":"Terraform","wgCurRevisionId":145304,"wgRevisionId":145304,"wgArticleId":11450,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[
"Pages using deprecated source tags","Cloud"],"wgPageViewLanguage":"en","wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Terraform","wgRelevantArticleId":11450,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgULSAcceptLanguageList":[],"wgMFDisplayWikibaseDescriptions":{"search":false,"watchlist":false,"tagline":false},"wgCiteReferencePreviewsActive":true,"wgTranslatePageTranslation":"source","wgULSPosition":"personal","wgULSisCompactLinksEnabled":true,"wgVector2022LanguageInHeader":false,"wgULSisLanguageSelectorEmpty":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.translate.tag.languages":"ready","ext.pygments":"ready","skins.vector.styles.legacy":"ready","ext.translate.edit.documentation.styles":"ready","ext.translate":"ready","codex-search-styles":"ready","ext.uls.pt":"ready"};RLPAGEMODULES=["ext.pygments.view",
"mediawiki.page.media","site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js","ext.languageSelector","ext.translate.pagetranslation.uls","ext.uls.compactlinks","ext.uls.geoclient","ext.uls.interface","ext.moderation.notify","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
<link rel="stylesheet" href="/mediawiki/load.php?lang=en&amp;modules=codex-search-styles%7Cext.pygments%2Ctranslate%7Cext.translate.edit.documentation.styles%7Cext.translate.tag.languages%7Cext.uls.pt%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector">
<script async="" src="/mediawiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="/mediawiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=1120">
<link rel="icon" href="/mediawiki/resources/assets/Alliance_favicon.png">
<link rel="search" type="application/opensearchdescription+xml" href="/mediawiki/rest.php/v1/search" title="Alliance Doc (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://docs.alliancecan.ca/mediawiki/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="Alliance Doc Atom feed" href="/mediawiki/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector-legacy mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Terraform rootpage-Terraform skin-vector action-view"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	<div id="mw-indicator-languageselector" class="mw-indicator"><span id="languageselector-box-1" class="languageselector " style=""><form name="languageselector-form-1" id="languageselector-form-1" method="get" action="/mediawiki/index.php" style="display:inline;"><input type="hidden" value="Terraform" name="title"><select name="setlang" id="languageselector-select-1" style=""><option value="aae">Arbërisht</option><option value="ab">аԥсшәа</option><option value="abs">bahasa ambon</option><option value="ace">Acèh</option><option value="acf">Kwéyòl Sent Lisi</option><option value="acm">عراقي</option><option value="ady">адыгабзэ</option><option value="ady-cyrl">адыгабзэ</option><option value="aeb">تونسي / Tûnsî</option><option value="aeb-arab">تونسي</option><option value="aeb-latn">Tûnsî</option><option value="af">Afrikaans</option><option value="aln">Gegë</option><option value="alt">алтай тил</option><option value="am">አማርኛ</option><option value="ami">Pangcah</option><option value="an">aragonés</option><option value="ang">Ænglisc</option><option value="ann">Obolo</option><option value="anp">अंगिका</option><option value="apc">شامي</option><option value="ar">العربية</option><option value="arc">ܐܪܡܝܐ</option><option value="arn">mapudungun</option><option value="arq">جازايرية</option><option value="ary">الدارجة</option><option value="arz">مصرى</option><option value="as">অসমীয়া</option><option value="ase">American sign language</option><option value="ast">asturianu</option><option value="atj">Atikamekw</option><option value="av">авар</option><option value="avk">Kotava</option><option value="awa">अवधी</option><option value="ay">Aymar aru</option><option value="az">azərbaycanca</option><option value="azb">تۆرکجه</option><option value="ba">башҡортса</option><option value="ban">Basa Bali</option><option value="ban-bali">ᬩᬲᬩᬮᬶ</option><option value="bar">Boarisch</option><option value="bbc">Batak Toba</option><option value="bbc-latn">Batak Toba</option><option value="bcc">جهلسری بلوچی</option><option value="bci">wawle</option><option value="bcl">Bikol Central</option><option value="bdr">Bajau Sama</option><option value="be">беларуская</option><option value="be-tarask">беларуская (тарашкевіца)</option><option value="bew">Betawi</option><option value="bg">български</option><option value="bgc">हरियाणवी</option><option value="bgn">روچ کپتین بلوچی</option><option value="bh">भोजपुरी</option><option value="bho">भोजपुरी</option><option value="bi">Bislama</option><option value="bjn">Banjar</option><option value="blk">ပအိုဝ်ႏဘာႏသာႏ</option><option value="bm">bamanankan</option><option value="bn">বাংলা</option><option value="bo">བོད་ཡིག</option><option value="bpy">বিষ্ণুপ্রিয়া মণিপুরী</option><option value="bqi">بختیاری</option><option value="br">brezhoneg</option><option value="brh">Bráhuí</option><option value="bs">bosanski</option><option value="btm">Batak Mandailing</option><option value="bto">Iriga Bicolano</option><option value="bug">Basa Ugi</option><option value="bxr">буряад</option><option value="ca">català</option><option value="cbk-zam">Chavacano de Zamboanga</option><option value="ccp">𑄌𑄋𑄴𑄟𑄳𑄦</option><option value="cdo">閩東語 / Mìng-dĕ̤ng-ngṳ̄</option><option value="ce">нохчийн</option><option value="ceb">Cebuano</option><option value="ch">Chamoru</option><option value="chn">chinuk wawa</option><option value="chr">ᏣᎳᎩ</option><option value="chy">Tsetsêhestâhese</option><option value="ckb">کوردی</option><option value="co">corsu</option><option value="cps">Capiceño</option><option value="cpx">莆仙語 / Pó-sing-gṳ̂</option><option value="cpx-hans">莆仙语（简体）</option><option value="cpx-hant">莆仙語（繁體）</option><option value="cr">Nēhiyawēwin / ᓀᐦᐃᔭᐍᐏᐣ</option><option value="crh">qırımtatarca</option><option value="crh-cyrl">къырымтатарджа (Кирилл)</option><option value="crh-latn">qırımtatarca (Latin)</option><option value="crh-ro">tatarşa</option><option value="cs">čeština</option><option value="csb">kaszëbsczi</option><option value="cu">словѣньскъ / ⰔⰎⰑⰂⰡⰐⰠⰔⰍⰟ</option><option value="cv">чӑвашла</option><option value="cy">Cymraeg</option><option value="da">dansk</option><option value="dag">dagbanli</option><option value="de">Deutsch</option><option value="de-at">Österreichisches Deutsch</option><option value="de-ch">Schweizer Hochdeutsch</option><option value="de-formal">Deutsch (Sie-Form)</option><option value="dga">Dagaare</option><option value="din">Thuɔŋjäŋ</option><option value="diq">Zazaki</option><option value="dsb">dolnoserbski</option><option value="dtp">Kadazandusun</option><option value="dty">डोटेली</option><option value="dua">Duálá</option><option value="dv">ދިވެހިބަސް</option><option value="dz">ཇོང་ཁ</option><option value="ee">eʋegbe</option><option value="efi">Efịk</option><option value="egl">emiliàn e rumagnòl</option><option value="el">Ελληνικά</option><option value="eml">emiliàn e rumagnòl</option><option value="en" selected="">English</option><option value="en-ca">Canadian English</option><option value="en-gb">British English</option><option value="eo">Esperanto</option><option value="es">español</option><option value="es-formal">español (formal)</option><option value="et">eesti</option><option value="eu">euskara</option><option value="ext">estremeñu</option><option value="fa">فارسی</option><option value="fat">mfantse</option><option value="ff">Fulfulde</option><option value="fi">suomi</option><option value="fit">meänkieli</option><option value="fj">Na Vosa Vakaviti</option><option value="fo">føroyskt</option><option value="fon">fɔ̀ngbè</option><option value="fr">français</option><option value="frc">français cadien</option><option value="frp">arpetan</option><option value="frr">Nordfriisk</option><option value="fur">furlan</option><option value="fy">Frysk</option><option value="ga">Gaeilge</option><option value="gaa">Ga</option><option value="gag">Gagauz</option><option value="gan">贛語</option><option value="gan-hans">赣语（简体）</option><option value="gan-hant">贛語（繁體）</option><option value="gcf">kréyòl Gwadloup</option><option value="gcr">kriyòl gwiyannen</option><option value="gd">Gàidhlig</option><option value="gl">galego</option><option value="gld">на̄ни</option><option value="glk">گیلکی</option><option value="gn">Avañe'ẽ</option><option value="gom">गोंयची कोंकणी / Gõychi Konknni</option><option value="gom-deva">गोंयची कोंकणी</option><option value="gom-latn">Gõychi Konknni</option><option value="gor">Bahasa Hulontalo</option><option value="got">𐌲𐌿𐍄𐌹𐍃𐌺</option><option value="gpe">Ghanaian Pidgin</option><option value="grc">Ἀρχαία ἑλληνικὴ</option><option value="gsw">Alemannisch</option><option value="gu">ગુજરાતી</option><option value="guc">wayuunaiki</option><option value="gur">farefare</option><option value="guw">gungbe</option><option value="gv">Gaelg</option><option value="ha">Hausa</option><option value="hak">客家語 / Hak-kâ-ngî</option><option value="haw">Hawaiʻi</option><option value="he">עברית</option><option value="hi">हिन्दी</option><option value="hif">Fiji Hindi</option><option value="hif-latn">Fiji Hindi</option><option value="hil">Ilonggo</option><option value="hno">ہندکو</option><option value="hr">hrvatski</option><option value="hrx">Hunsrik</option><option value="hsb">hornjoserbsce</option><option value="hsn">湘語</option><option value="ht">Kreyòl ayisyen</option><option value="hu">magyar</option><option value="hu-formal">magyar (formal)</option><option value="hy">հայերեն</option><option value="hyw">Արեւմտահայերէն</option><option value="ia">interlingua</option><option value="iba">Jaku Iban</option><option value="ibb">ibibio</option><option value="id">Bahasa Indonesia</option><option value="ie">Interlingue</option><option value="ig">Igbo</option><option value="igl">Igala</option><option value="ii">ꆇꉙ</option><option value="ik">Iñupiatun</option><option value="ike-cans">ᐃᓄᒃᑎᑐᑦ</option><option value="ike-latn">inuktitut</option><option value="ilo">Ilokano</option><option value="inh">гӀалгӀай</option><option value="io">Ido</option><option value="is">íslenska</option><option value="isv-cyrl">меджусловјанскы</option><option value="isv-latn">medžuslovjansky</option><option value="it">italiano</option><option value="iu">ᐃᓄᒃᑎᑐᑦ / inuktitut</option><option value="ja">日本語</option><option value="jam">Patois</option><option value="jbo">la .lojban.</option><option value="jut">jysk</option><option value="jv">Jawa</option><option value="ka">ქართული</option><option value="kaa">Qaraqalpaqsha</option><option value="kab">Taqbaylit</option><option value="kai">Karai-karai</option><option value="kbd">адыгэбзэ</option><option value="kbd-cyrl">адыгэбзэ</option><option value="kbp">Kabɩyɛ</option><option value="kcg">Tyap</option><option value="kea">kabuverdianu</option><option value="kg">Kongo</option><option value="kge">Kumoring</option><option value="khw">کھوار</option><option value="ki">Gĩkũyũ</option><option value="kiu">Kırmancki</option><option value="kjh">хакас</option><option value="kjp">ဖၠုံလိက်</option><option value="kk">қазақша</option><option value="kk-arab">قازاقشا (تٴوتە)</option><option value="kk-cn">قازاقشا (جۇنگو)</option><option value="kk-cyrl">қазақша (кирил)</option><option value="kk-kz">қазақша (Қазақстан)</option><option value="kk-latn">qazaqşa (latın)</option><option value="kk-tr">qazaqşa (Türkïya)</option><option value="kl">kalaallisut</option><option value="km">ភាសាខ្មែរ</option><option value="kn">ಕನ್ನಡ</option><option value="knc">Yerwa Kanuri</option><option value="ko">한국어</option><option value="ko-kp">조선말</option><option value="koi">перем коми</option><option value="kr">kanuri</option><option value="krc">къарачай-малкъар</option><option value="kri">Krio</option><option value="krj">Kinaray-a</option><option value="krl">karjal</option><option value="ks">कॉशुर / کٲشُر</option><option value="ks-arab">کٲشُر</option><option value="ks-deva">कॉशुर</option><option value="ksh">Ripoarisch</option><option value="ksw">စှီၤ</option><option value="ku">kurdî</option><option value="ku-arab">کوردی (عەرەبی)</option><option value="ku-latn">kurdî (latînî)</option><option value="kum">къумукъ</option><option value="kus">Kʋsaal</option><option value="kv">коми</option><option value="kw">kernowek</option><option value="ky">кыргызча</option><option value="la">Latina</option><option value="lad">Ladino</option><option value="lb">Lëtzebuergesch</option><option value="lbe">лакку</option><option value="lez">лезги</option><option value="lfn">Lingua Franca Nova</option><option value="lg">Luganda</option><option value="li">Limburgs</option><option value="lij">Ligure</option><option value="liv">Līvõ kēļ</option><option value="lki">لەکی</option><option value="lld">Ladin</option><option value="lmo">lombard</option><option value="ln">lingála</option><option value="lo">ລາວ</option><option value="loz">Silozi</option><option value="lrc">لۊری شومالی</option><option value="lt">lietuvių</option><option value="ltg">latgaļu</option><option value="lua">ciluba</option><option value="lus">Mizo ţawng</option><option value="luz">لئری دوٙمینی</option><option value="lv">latviešu</option><option value="lzh">文言</option><option value="lzz">Lazuri</option><option value="mad">Madhurâ</option><option value="mag">मगही</option><option value="mai">मैथिली</option><option value="map-bms">Basa Banyumasan</option><option value="mdf">мокшень</option><option value="mg">Malagasy</option><option value="mhr">олык марий</option><option value="mi">Māori</option><option value="min">Minangkabau</option><option value="mk">македонски</option><option value="ml">മലയാളം</option><option value="mn">монгол</option><option value="mnc">manju gisun</option><option value="mnc-latn">manju gisun</option><option value="mnc-mong">ᠮᠠᠨᠵᡠ ᡤᡳᠰᡠᠨ</option><option value="mni">ꯃꯤꯇꯩ ꯂꯣꯟ</option><option value="mnw">ဘာသာမန်</option><option value="mo">молдовеняскэ</option><option value="mos">moore</option><option value="mr">मराठी</option><option value="mrh">Mara</option><option value="mrj">кырык мары</option><option value="ms">Bahasa Melayu</option><option value="ms-arab">بهاس ملايو</option><option value="mt">Malti</option><option value="mui">Baso Palembang</option><option value="mwl">Mirandés</option><option value="my">မြန်မာဘာသာ</option><option value="myv">эрзянь</option><option value="mzn">مازِرونی</option><option value="na">Dorerin Naoero</option><option value="nah">Nāhuatl</option><option value="nan">閩南語 / Bân-lâm-gú</option><option value="nan-hant">閩南語（傳統漢字）</option><option value="nan-latn-pehoeji">Bân-lâm-gú (Pe̍h-ōe-jī)</option><option value="nan-latn-tailo">Bân-lâm-gú (Tâi-lô)</option><option value="nap">Napulitano</option><option value="nb">norsk bokmål</option><option value="nds">Plattdüütsch</option><option value="nds-nl">Nedersaksies</option><option value="ne">नेपाली</option><option value="new">नेपाल भाषा</option><option value="nia">Li Niha</option><option value="nit">కొలామి</option><option value="niu">Niuē</option><option value="nl">Nederlands</option><option value="nl-informal">Nederlands (informeel)</option><option value="nmz">nawdm</option><option value="nn">norsk nynorsk</option><option value="nod">ᨣᩤᩴᨾᩮᩬᩥᨦ</option><option value="nog">ногайша</option><option value="nov">Novial</option><option value="nqo">ߒߞߏ</option><option value="nr">isiNdebele seSewula</option><option value="nrm">Nouormand</option><option value="nso">Sesotho sa Leboa</option><option value="nup">Nupe</option><option value="nv">Diné bizaad</option><option value="ny">Chi-Chewa</option><option value="nyn">runyankore</option><option value="nyo">Orunyoro</option><option value="nys">Nyunga</option><option value="oc">occitan</option><option value="ojb">Ojibwemowin</option><option value="olo">livvinkarjala</option><option value="om">Oromoo</option><option value="or">ଓଡ଼ିଆ</option><option value="os">ирон</option><option value="pa">ਪੰਜਾਬੀ</option><option value="pag">Pangasinan</option><option value="pam">Kapampangan</option><option value="pap">Papiamentu</option><option value="pcd">Picard</option><option value="pcm">Naijá</option><option value="pdc">Deitsch</option><option value="pdt">Plautdietsch</option><option value="pfl">Pälzisch</option><option value="pi">पालि</option><option value="pih">Norfuk / Pitkern</option><option value="pl">polski</option><option value="pms">Piemontèis</option><option value="pnb">پنجابی</option><option value="pnt">Ποντιακά</option><option value="prg">prūsiskan</option><option value="ps">پښتو</option><option value="pt">português</option><option value="pt-br">português do Brasil</option><option value="pwn">pinayuanan</option><option value="qqq">Message documentation</option><option value="qu">Runa Simi</option><option value="qug">Runa shimi</option><option value="rgn">Rumagnôl</option><option value="rif">Tarifit</option><option value="rki">ရခိုင်</option><option value="rm">rumantsch</option><option value="rmc">romaňi čhib</option><option value="rmy">romani čhib</option><option value="rn">ikirundi</option><option value="ro">română</option><option value="roa-tara">tarandíne</option><option value="rsk">руски</option><option value="ru">русский</option><option value="rue">русиньскый</option><option value="rup">armãneashti</option><option value="ruq">Vlăheşte</option><option value="ruq-cyrl">Влахесте</option><option value="ruq-latn">Vlăheşte</option><option value="rut">мыхаӀбишды</option><option value="rw">Ikinyarwanda</option><option value="ryu">うちなーぐち</option><option value="sa">संस्कृतम्</option><option value="sah">саха тыла</option><option value="sat">ᱥᱟᱱᱛᱟᱲᱤ</option><option value="sc">sardu</option><option value="scn">sicilianu</option><option value="sco">Scots</option><option value="sd">سنڌي</option><option value="sdc">Sassaresu</option><option value="sdh">کوردی خوارگ</option><option value="se">davvisámegiella</option><option value="se-fi">davvisámegiella (Suoma bealde)</option><option value="se-no">davvisámegiella (Norgga bealde)</option><option value="se-se">davvisámegiella (Ruoŧa bealde)</option><option value="sei">Cmique Itom</option><option value="ses">Koyraboro Senni</option><option value="sg">Sängö</option><option value="sgs">žemaitėška</option><option value="sh">srpskohrvatski / српскохрватски</option><option value="sh-cyrl">српскохрватски (ћирилица)</option><option value="sh-latn">srpskohrvatski (latinica)</option><option value="shi">Taclḥit</option><option value="shn">ၽႃႇသႃႇတႆး </option><option value="shy">tacawit</option><option value="shy-latn">tacawit</option><option value="si">සිංහල</option><option value="sjd">кӣллт са̄мь кӣлл</option><option value="sje">bidumsámegiella</option><option value="sk">slovenčina</option><option value="skr">سرائیکی</option><option value="skr-arab">سرائیکی</option><option value="sl">slovenščina</option><option value="sli">Schläsch</option><option value="sm">Gagana Samoa</option><option value="sma">åarjelsaemien</option><option value="smn">anarâškielâ</option><option value="sms">nuõrttsääʹmǩiõll</option><option value="sn">chiShona</option><option value="so">Soomaaliga</option><option value="sq">shqip</option><option value="sr">српски / srpski</option><option value="sr-ec">српски (ћирилица)</option><option value="sr-el">srpski (latinica)</option><option value="srn">Sranantongo</option><option value="sro">sardu campidanesu</option><option value="ss">SiSwati</option><option value="st">Sesotho</option><option value="stq">Seeltersk</option><option value="sty">себертатар</option><option value="su">Sunda</option><option value="sv">svenska</option><option value="sw">Kiswahili</option><option value="syl">ꠍꠤꠟꠐꠤ</option><option value="szl">ślůnski</option><option value="szy">Sakizaya</option><option value="ta">தமிழ்</option><option value="tay">Tayal</option><option value="tcy">ತುಳು</option><option value="tdd">ᥖᥭᥰ ᥖᥬᥲ ᥑᥨᥒᥰ</option><option value="te">తెలుగు</option><option value="tet">tetun</option><option value="tg">тоҷикӣ</option><option value="tg-cyrl">тоҷикӣ</option><option value="tg-latn">tojikī</option><option value="th">ไทย</option><option value="ti">ትግርኛ</option><option value="tig">ትግሬ</option><option value="tk">Türkmençe</option><option value="tl">Tagalog</option><option value="tly">tolışi</option><option value="tn">Setswana</option><option value="to">lea faka-Tonga</option><option value="tok">toki pona</option><option value="tpi">Tok Pisin</option><option value="tr">Türkçe</option><option value="tru">Ṫuroyo</option><option value="trv">Seediq</option><option value="ts">Xitsonga</option><option value="tt">татарча / tatarça</option><option value="tt-cyrl">татарча</option><option value="tt-latn">tatarça</option><option value="ttj">Orutooro</option><option value="tum">chiTumbuka</option><option value="tw">Twi</option><option value="ty">reo tahiti</option><option value="tyv">тыва дыл</option><option value="tzm">ⵜⴰⵎⴰⵣⵉⵖⵜ</option><option value="udm">удмурт</option><option value="ug">ئۇيغۇرچە / Uyghurche</option><option value="ug-arab">ئۇيغۇرچە</option><option value="ug-latn">Uyghurche</option><option value="uk">українська</option><option value="ur">اردو</option><option value="uz">oʻzbekcha / ўзбекча</option><option value="ve">Tshivenda</option><option value="vec">vèneto</option><option value="vep">vepsän kel’</option><option value="vi">Tiếng Việt</option><option value="vls">West-Vlams</option><option value="vmf">Mainfränkisch</option><option value="vmw">emakhuwa</option><option value="vo">Volapük</option><option value="vot">Vaďďa</option><option value="vro">võro</option><option value="wa">walon</option><option value="wal">wolaytta</option><option value="war">Winaray</option><option value="wls">Fakaʻuvea</option><option value="wo">Wolof</option><option value="wuu">吴语</option><option value="wuu-hans">吴语（简体）</option><option value="wuu-hant">吳語（正體）</option><option value="xal">хальмг</option><option value="xh">isiXhosa</option><option value="xmf">მარგალური</option><option value="xsy">saisiyat</option><option value="yi">ייִדיש</option><option value="yo">Yorùbá</option><option value="yrl">Nhẽẽgatú</option><option value="yue">粵語</option><option value="yue-hans">粵语（简体）</option><option value="yue-hant">粵語（繁體）</option><option value="za">Vahcuengh</option><option value="zea">Zeêuws</option><option value="zgh">ⵜⴰⵎⴰⵣⵉⵖⵜ ⵜⴰⵏⴰⵡⴰⵢⵜ</option><option value="zh">中文</option><option value="zh-cn">中文（中国大陆）</option><option value="zh-hans">中文（简体）</option><option value="zh-hant">中文（繁體）</option><option value="zh-hk">中文（香港）</option><option value="zh-mo">中文（澳門）</option><option value="zh-my">中文（马来西亚）</option><option value="zh-sg">中文（新加坡）</option><option value="zh-tw">中文（臺灣）</option><option value="zu">isiZulu</option></select><input id="languageselector-commit-1" style="" type="submit" value="set"></form></span></div>
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Terraform</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Alliance Doc</div>
		<div id="contentSub"><div id="mw-content-subtitle"></div></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content"><div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="en" dir="ltr">English</span></li>
<li><a href="/wiki/Terraform/fr" class="mw-pt-progress mw-pt-progress--complete" title="Terraform (100% translated)" lang="fr" dir="ltr">français</a></li></ul></div>
<p><a rel="nofollow" class="external text" href="https://www.terraform.io/">Terraform</a> is a tool for defining and provisioning data centre infrastructure, including virtual machines.  Terraform is seeing growing use within the Alliance Federation.  Its infrastructure-as-code model allows one to maintain OpenStack resources as a collection of definitions which can be easily updated using favourite text editors, shared among members of a group, and stored in version control.
</p><p>This page is written as a tutorial in which we introduce Terraform and demonstrate its use on our OpenStack clouds.  We set up our local workspace for Terraform and create a VM with a floating IP and attached volume.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Preparation"><span class="tocnumber">1</span> <span class="toctext">Preparation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Access_to_OpenStack"><span class="tocnumber">1.1</span> <span class="toctext">Access to OpenStack</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Terraform"><span class="tocnumber">1.2</span> <span class="toctext">Terraform</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Credentials"><span class="tocnumber">1.3</span> <span class="toctext">Credentials</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#OpenStack_session"><span class="tocnumber">1.4</span> <span class="toctext">OpenStack session</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Terraform_workspace"><span class="tocnumber">1.5</span> <span class="toctext">Terraform workspace</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Defining_OpenStack_provider"><span class="tocnumber">2</span> <span class="toctext">Defining OpenStack provider</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#What_should_you_use?"><span class="tocnumber">2.1</span> <span class="toctext">What should you use?</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Initializing_Terraform"><span class="tocnumber">2.2</span> <span class="toctext">Initializing Terraform</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Defining_a_VM"><span class="tocnumber">3</span> <span class="toctext">Defining a VM</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Trying_it_out"><span class="tocnumber">3.1</span> <span class="toctext">Trying it out</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Side_note:_What_happens_to_existing_OpenStack_resources?"><span class="tocnumber">3.2</span> <span class="toctext">Side note: What happens to existing OpenStack resources?</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Applying_the_configuration"><span class="tocnumber">3.3</span> <span class="toctext">Applying the configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Adding_a_network"><span class="tocnumber">4</span> <span class="toctext">Adding a network</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Recap"><span class="tocnumber">4.1</span> <span class="toctext">Recap</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Adding_a_floating_IP"><span class="tocnumber">5</span> <span class="toctext">Adding a floating IP</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Adding_a_volume"><span class="tocnumber">6</span> <span class="toctext">Adding a volume</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#The_full_example"><span class="tocnumber">7</span> <span class="toctext">The full example</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Appendix"><span class="tocnumber">8</span> <span class="toctext">Appendix</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#References"><span class="tocnumber">8.1</span> <span class="toctext">References</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Examples"><span class="tocnumber">8.2</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Finding_image_and_flavour_UUIDs_in_Horizon"><span class="tocnumber">8.3</span> <span class="toctext">Finding image and flavour UUIDs in Horizon</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Preparation">Preparation</span></h2>
<p>Before starting with Terraform, you need 
</p>
<ul><li>access to an OpenStack tenant with available resources,</li>
<li>Terraform itself, and</li>
<li>a few things configured on your workstation or laptop.</li></ul>
<h3><span class="mw-headline" id="Access_to_OpenStack">Access to OpenStack</span></h3>
<p>For access to the cloud, see <a href="/wiki/Cloud#Getting_a_Cloud_project" title="Cloud"> Getting a Cloud project</a> on our wiki. If you’ve never used OpenStack before, you should familiarize yourself with it first by creating a VM, attaching a volume, associating a floating IP, and ensuring you can log in to the VM afterwards.  This tutorial also assumes you already have an SSH key pair created and the public key stored with OpenStack.
</p><p>If you don’t yet know how to do these things, the <a href="/wiki/Cloud_Quick_Start" title="Cloud Quick Start">Cloud Quick Start</a> guide will get you going.  The experience of creating these resources using the web interface will lay a foundation for understanding both what Terraform is doing, and where it has value.
</p>
<h3><span class="mw-headline" id="Terraform">Terraform</span></h3>
<p>See the <a rel="nofollow" class="external text" href="https://www.terraform.io/downloads.html">Terraform downloads page</a> for the latest client. This guide is based on Terraform 0.12.
</p>
<h3><span class="mw-headline" id="Credentials">Credentials</span></h3>
<p>There are two ways to provide your OpenStack credentials in a command-line environment: via environment variables or in a configuration file.  We'll need to use one of these methods with Terraform, described in the <a href="#Defining_OpenStack_provider">next section</a>.  Regardless of your preferred method, the OpenStack web interface offers a simple way to download credentials: once logged in, click on <i>API Access</i> in the navigation bar, and on that page is a drop-down menu entitled “Download OpenStack RC File”. From here you may download a <code>clouds.yaml</code> file or an RC file which can be sourced from your shell session.
</p><p>The RC file is a series of shell commands which export environment variables to your current shell session.  It's not a standalone script and must be sourced in the context of the current session, like so:
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>openrc.sh
</pre></div>
<p>It will then prompt you for your OpenStack password, which along with necessary information about you, your tenant and the cloud you’re connecting to will be stored in environment variables prefixed by <code>OS_</code>, such as <code>$OS_AUTH_URL</code> and so on.
</p><p>The other method is to create a configuration in <code>$HOME/.config/openstack/clouds.yaml</code>. If you don’t have such a file already, you can download `clouds.yaml` as described above and move it into place.  We recommend changing the name given to the cloud in the downloaded file to something meaningful, especially if you use more than one OpenStack cloud. Then, to use the CLI tools described below, simply create an environment variable <code>$OS_CLOUD</code> with the name of the cloud you want to use.
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">OS_CLOUD</span><span class="o">=</span>arbutus
</pre></div>
<p>Whichever you have chosen, you will use this to configure Terraform.
</p>
<h3><span class="mw-headline" id="OpenStack_session">OpenStack session</span></h3>
<p>It is helpful to have a terminal window open running the OpenStack CLI. This provides a handy reference for the specifications you will be building, as you will be looking up flavour and image IDs, and it is useful for verifying the actions performed by Terraform. Horizon can be used for looking up images, and for verifying in general that Terraform is having the intended effects, but it is not possible to directly lookup flavour IDs.
</p><p>The OpenStack CLI (referred to as “OSC”) is a Python client which can be best installed through Python Pip, <a rel="nofollow" class="external text" href="https://docs.openstack.org/newton/user-guide/common/cli-install-openstack-command-line-clients.html">and available for multiple OSes and distributions</a>.
</p>
<h3><span class="mw-headline" id="Terraform_workspace">Terraform workspace</span></h3>
<p>Finally, create a directory for your Terraform configuration and state files and consider this your home base for this guide. This is where we will start.
</p>
<h2><span class="mw-headline" id="Defining_OpenStack_provider">Defining OpenStack provider</span></h2>
<p>First, describe the <i>provider</i>: this is where you tell Terraform to use OpenStack, and how. On initialization the most recent version of the OpenStack provider plugin will be installed in the working directory and on subsequent Terraform operations, the included credentials will be used to connect to the specified cloud.
</p><p>Your connection and credential information for OpenStack can be provided to Terraform in the specification, in the environment, or partially in the specification with the rest in the environment.
</p><p>The following is an example of a provider specification with connection and credential information:
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">provider</span><span class="w"> </span><span class="nv">&quot;openstack&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">tenant_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;some_tenant&quot;</span>
<span class="w">  </span><span class="na">tenant_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1a2b3c45678901234d567890fa1b2cd3&quot;</span>
<span class="w">  </span><span class="na">auth_url</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://cloud.example.org:5000/v3&quot;</span>
<span class="w">  </span><span class="na">user_name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;joe&quot;</span>
<span class="w">  </span><span class="na">password</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;sharethiswithyourfriends!&quot;</span>
<span class="w">  </span><span class="na">user_domain_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;CentralID&quot;</span>
<span class="p">}</span>
</pre></div>
<p>For some OpenStack instances, the above would specify the complete set of information necessary to connect to the instance and manage resources in the given project (“tenant”). However, Terraform supports <i>partial credentials</i> in which you could leave some values out of the Terraform configuration and supply them a different way. This would allow us, for example, to leave the password out of the configuration file, in which case it would need to be specified in the environment with <code>$OS_PASSWORD</code>.
</p><p>Alternatively, if you prefer to use <code>clouds.yaml</code>, specify <code>cloud</code> in the provider stanza:
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">provider</span><span class="w"> </span><span class="nv">&quot;openstack&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">cloud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cloud&quot;</span>
<span class="p">}</span>
</pre></div>
<p>It's acceptable to leave the provider definition completely empty:
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">provider</span><span class="w"> </span><span class="nv">&quot;openstack&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</pre></div>
<p>In this case, either <code>$OS_CLOUD</code> or the variables set by the appropriate RC file would need to be in the executing environment for Terraform to proceed.
</p><p>The <a rel="nofollow" class="external text" href="https://www.terraform.io/docs/providers/openstack/index.html">configuration reference of the OpenStack Provider</a> describes the available options in detail.
</p>
<h3><span id="What_should_you_use.3F"></span><span class="mw-headline" id="What_should_you_use?">What should you use?</span></h3>
<p>It may be tempting to leave some of the details in the environment so that the Terraform configuration is more portable or reusable, but as we will see later, the Terraform configuration will and must contain details which are specific to each cloud, such as flavour and image UUIDs, network names, and tenants.
</p><p>The most important consideration in what goes into your configuration in this regard is security. You probably want to avoid storing your credentials in the Terraform configuration, even if you’re not sharing it with anyone, even if it’s on your own workstation and nobody has access but you. Even if you’re not worried about hacking, it is definitely not good practice to store passwords and such in configuration files which may wind up getting copied and moved around your filesystem as you try things out. But also, always remember the “ABC” of Hacking: <strong>A</strong>lways <strong>B</strong>e <strong>C</strong>oncerned about Hacking!
</p>
<h3><span class="mw-headline" id="Initializing_Terraform">Initializing Terraform</span></h3>
<p>To ensure we have the provider set up correctly, initialize Terraform and check the configuration so far. With the provider definition in a file called, for example, <code>nodes.tf</code>, run <code>terraform init</code>:
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>terraform<span class="w"> </span>init
Initializing<span class="w"> </span>the<span class="w"> </span>backend...

Initializing<span class="w"> </span>provider<span class="w"> </span>plugins...
-<span class="w"> </span>Checking<span class="w"> </span><span class="k">for</span><span class="w"> </span>available<span class="w"> </span>provider<span class="w"> </span>plugins...
-<span class="w"> </span>Downloading<span class="w"> </span>plugin<span class="w"> </span><span class="k">for</span><span class="w"> </span>provider<span class="w"> </span><span class="s2">&quot;openstack&quot;</span><span class="w"> </span><span class="o">(</span>terraform-providers/openstack<span class="o">)</span>
<span class="w">  </span><span class="m">1</span>.19.0...

The<span class="w"> </span>following<span class="w"> </span>providers<span class="w"> </span><span class="k">do</span><span class="w"> </span>not<span class="w"> </span>have<span class="w"> </span>any<span class="w"> </span>version<span class="w"> </span>constraints<span class="w"> </span><span class="k">in</span><span class="w"> </span>configuration,
so<span class="w"> </span>the<span class="w"> </span>latest<span class="w"> </span>version<span class="w"> </span>was<span class="w"> </span>installed.

To<span class="w"> </span>prevent<span class="w"> </span>automatic<span class="w"> </span>upgrades<span class="w"> </span>to<span class="w"> </span>new<span class="w"> </span>major<span class="w"> </span>versions<span class="w"> </span>that<span class="w"> </span>may<span class="w"> </span>contain<span class="w"> </span>breaking
changes,<span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>recommended<span class="w"> </span>to<span class="w"> </span>add<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="w"> </span>constraints<span class="w"> </span>to<span class="w"> </span>the
corresponding<span class="w"> </span>provider<span class="w"> </span>blocks<span class="w"> </span><span class="k">in</span><span class="w"> </span>configuration,<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>constraint<span class="w"> </span>strings
suggested<span class="w"> </span>below.

*<span class="w"> </span>provider.openstack:<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;~&gt; 1.19&quot;</span>

Terraform<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>successfully<span class="w"> </span>initialized!

You<span class="w"> </span>may<span class="w"> </span>now<span class="w"> </span>begin<span class="w"> </span>working<span class="w"> </span>with<span class="w"> </span>Terraform.<span class="w"> </span>Try<span class="w"> </span>running<span class="w"> </span><span class="s2">&quot;terraform plan&quot;</span><span class="w"> </span>to<span class="w"> </span>see
any<span class="w"> </span>changes<span class="w"> </span>that<span class="w"> </span>are<span class="w"> </span>required<span class="w"> </span><span class="k">for</span><span class="w"> </span>your<span class="w"> </span>infrastructure.<span class="w"> </span>All<span class="w"> </span>Terraform<span class="w"> </span>commands
should<span class="w"> </span>now<span class="w"> </span>work.

If<span class="w"> </span>you<span class="w"> </span>ever<span class="w"> </span><span class="nb">set</span><span class="w"> </span>or<span class="w"> </span>change<span class="w"> </span>modules<span class="w"> </span>or<span class="w"> </span>backend<span class="w"> </span>configuration<span class="w"> </span><span class="k">for</span><span class="w"> </span>Terraform,
rerun<span class="w"> </span>this<span class="w"> </span><span class="nb">command</span><span class="w"> </span>to<span class="w"> </span>reinitialize<span class="w"> </span>your<span class="w"> </span>working<span class="w"> </span>directory.<span class="w"> </span>If<span class="w"> </span>you<span class="w"> </span>forget,<span class="w"> </span>other
commands<span class="w"> </span>will<span class="w"> </span>detect<span class="w"> </span>it<span class="w"> </span>and<span class="w"> </span>remind<span class="w"> </span>you<span class="w"> </span>to<span class="w"> </span><span class="k">do</span><span class="w"> </span>so<span class="w"> </span><span class="k">if</span><span class="w"> </span>necessary.
</pre></div>
<p>This shows success in initializing Terraform and downloading the OpenStack provider plugin so the OpenStack stanzas will be handled correctly. This does not test out the credentials because this operation doesn’t actually try to connect to the defined provider.
</p>
<h2><span class="mw-headline" id="Defining_a_VM">Defining a VM</span></h2>
<p>So let’s look at defining a basic VM.
</p>
<blockquote><p><b>Important</b>: It is good practice to <b>always</b> specify flavours and images using their IDs even when Terraform supports using the name. Although the name is more readable, the ID is what actually defines the state of the resource and the ID of a given image or flavour <b>will never change</b>. It is possible, however, for the <b>name</b> to change. If a flavour or image is retired, for example, and replaced with another of the same name, the next time you run Terraform, the updated ID will be detected and Terraform will determine that you want to <b>rebuild or resize the associated resource</b>. This is a destructive (and reconstructive) operation.
</p></blockquote>
<p>A minimal OpenStack VM may be defined as follows in Terraform:
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="nv">&quot;myvm&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span>
<span class="w">  </span><span class="na">image_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span>
<span class="w">  </span><span class="na">flavor_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0351ddb0-00d0-4269-80d3-913029d1a111&quot;</span>
<span class="w">  </span><span class="na">key_pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Aluminum&quot;</span>
<span class="w">  </span><span class="na">security_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
<p>This will create a VM with the given name, image and flavor, and associate with it a key pair and the default security group.
</p>
<blockquote><p><b>Note</b>: If you’re following along (please do!), use your own values for <code>image_id</code>, <code>flavor_id</code>, and <code>key_pair</code>, or this will probably fail!
</p></blockquote>
<p>The values for <code>image_id</code> and <code>flavor_id</code> are one reason I like to have a terminal session open running the OpenStack CLI, connected to the cloud I’m targeting with Terraform: I switch over to it and issue <code>flavor list</code> or <code>image list</code>. These list the names and IDs.
</p><p>If using Horizon (the OpenStack web interface), this is semi-possible–see the <a href="#Finding_image_and_flavour_UUIDs_in_Horizon">guide in the appendix</a>.
</p><p>Note that no volumes are supplied. A compute instance on our clouds will already have an associated volume but a persistent instance will probably fail unless there is sufficient empty space in the image itself. It is <a href="/wiki/Working_with_volumes#Booting_from_a_volume" title="Working with volumes">recommended that a boot volume be created</a> for VMs using persistent flavours.
</p>
<h3><span class="mw-headline" id="Trying_it_out">Trying it out</span></h3>
<p>The command <code>terraform plan</code> compiles the Terraform definition and attempts to determine how to reconcile the resulting state with the actual state on the cloud, and produces a plan of what it would if the changes were applied.
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>terraform<span class="w"> </span>plan
Refreshing<span class="w"> </span>Terraform<span class="w"> </span>state<span class="w"> </span><span class="k">in</span>-memory<span class="w"> </span>prior<span class="w"> </span>to<span class="w"> </span>plan...
The<span class="w"> </span>refreshed<span class="w"> </span>state<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used<span class="w"> </span>to<span class="w"> </span>calculate<span class="w"> </span>this<span class="w"> </span>plan,<span class="w"> </span>but<span class="w"> </span>will<span class="w"> </span>not<span class="w"> </span>be
persisted<span class="w"> </span>to<span class="w"> </span><span class="nb">local</span><span class="w"> </span>or<span class="w"> </span>remote<span class="w"> </span>state<span class="w"> </span>storage.


------------------------------------------------------------------------

An<span class="w"> </span>execution<span class="w"> </span>plan<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>generated<span class="w"> </span>and<span class="w"> </span>is<span class="w"> </span>shown<span class="w"> </span>below.
Resource<span class="w"> </span>actions<span class="w"> </span>are<span class="w"> </span>indicated<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>symbols:
<span class="w">  </span>+<span class="w"> </span>create

Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>actions:

<span class="w">  </span><span class="c1"># openstack_compute_instance_v2.myvm will be created</span>
<span class="w">  </span>+<span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">access_ip_v4</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">access_ip_v6</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">all_metadata</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">availability_zone</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">flavor_id</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0351ddb0-00d0-4269-80d3-913029d1a111&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">flavor_name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">force_delete</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">id</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">image_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">image_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">key_pair</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Aluminum&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">power_state</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;active&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">region</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">security_groups</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<span class="w">          </span>+<span class="w"> </span><span class="s2">&quot;default&quot;</span>,
<span class="w">        </span><span class="o">]</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">stop_before_destroy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>

<span class="w">      </span>+<span class="w"> </span>network<span class="w"> </span><span class="o">{</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">access_network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">fixed_ip_v4</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">fixed_ip_v6</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">floating_ip</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">mac</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">port</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">uuid</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>

Plan:<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>add,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>change,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>destroy.

------------------------------------------------------------------------

Note:<span class="w"> </span>You<span class="w"> </span>didn<span class="s1">&#39;t specify an &quot;-out&quot; parameter to save this plan, so Terraform</span>
<span class="s1">can&#39;</span>t<span class="w"> </span>guarantee<span class="w"> </span>that<span class="w"> </span>exactly<span class="w"> </span>these<span class="w"> </span>actions<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>performed<span class="w"> </span><span class="k">if</span>
<span class="s2">&quot;terraform apply&quot;</span><span class="w"> </span>is<span class="w"> </span>subsequently<span class="w"> </span>run.
</pre></div>
<p>Read through this output.  This is a lot of information but it’s <i>definitely</i> required to check this before applying changes to ensure there are no surprises.
</p>
<blockquote><p>If you get an error about incomplete credentials, you may have forgotten to define <code>OS_CLOUD</code> or source the RC file, or your <code>clouds.yaml</code> file may be missing.</p></blockquote>
<p>These values are to resources as they’d be defined in OpenStack. Anything marked <code>known after apply</code> will be determined from the state of newly created resources queried from OpenStack. Other values are set according to what we’ve defined or determined by the Terraform and the OpenStack plugin as either calculated or default values.
</p><p>If you are in a hurry and don’t mind risking destroying or rebuilding resources by mistake, at <i>least</i> make sure you double-check the last line of the plan:
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>Plan:<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>add,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>change,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>destroy.
</pre></div>
<p>In this case, we know we’re adding a resource so this looks right. If the other values were non-zero then we’d better have another look at our configuration, state and what’s actually defined in OpenStack and make whatever corrections are necessary.
</p>
<h3><span id="Side_note:_What_happens_to_existing_OpenStack_resources.3F"></span><span class="mw-headline" id="Side_note:_What_happens_to_existing_OpenStack_resources?">Side note: What happens to existing OpenStack resources?</span></h3>
<p>You may have VMs already defined in your OpenStack project and wonder whether Terraform will affect those resources.
</p><p>It will not. Terraform has no knowledge of resources already defined in the project and does not attempt to determine existing state. Terraform bases its actions on the given configuration and previously determined state relevant to that configuration. Any existing resources are not represented in either and are invisible to Terraform.
</p><p>It is possible to import previously defined OpenStack resources into Terraform but <a rel="nofollow" class="external text" href="https://dleske.gitlab.io/posts/terraform-import-manually/">it is not a trivial amount of work</a> and outside the scope of this tutorial. The important thing here is that any existing resources in your OpenStack project are safe from inadvertent mangling from Terraform&#8212;but just to be on the safe side, why don’t you make sure you read the output plans carefully?&#160;:)
</p>
<h3><span class="mw-headline" id="Applying_the_configuration">Applying the configuration</span></h3>
<p>Now, use <code>terraform apply</code> to actually effect the changes described in the plan.
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>terraform<span class="w"> </span>apply

An<span class="w"> </span>execution<span class="w"> </span>plan<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>generated<span class="w"> </span>and<span class="w"> </span>is<span class="w"> </span>shown<span class="w"> </span>below.
Resource<span class="w"> </span>actions<span class="w"> </span>are<span class="w"> </span>indicated<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>symbols:
<span class="w">  </span>+<span class="w"> </span>create

Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>actions:

<span class="o">[</span>...<span class="w"> </span>repeat<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>plan<span class="w"> </span>from<span class="w"> </span>above<span class="w"> </span>...<span class="o">]</span>

Plan:<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>add,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>change,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>destroy.

Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>perform<span class="w"> </span>these<span class="w"> </span>actions?
<span class="w">  </span>Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>actions<span class="w"> </span>described<span class="w"> </span>above.
<span class="w">  </span>Only<span class="w"> </span><span class="s1">&#39;yes&#39;</span><span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>accepted<span class="w"> </span>to<span class="w"> </span>approve.

<span class="w">  </span>Enter<span class="w"> </span>a<span class="w"> </span>value:<span class="w"> </span>yes

openstack_compute_instance_v2.myvm:<span class="w"> </span>Creating...

Error:<span class="w"> </span>Error<span class="w"> </span>creating<span class="w"> </span>OpenStack<span class="w"> </span>server:<span class="w"> </span>Expected<span class="w"> </span>HTTP<span class="w"> </span>response<span class="w"> </span>code<span class="w"> </span><span class="o">[]</span><span class="w"> </span>when
accessing<span class="w"> </span><span class="o">[</span>POST
https://cloud.example.org:8774/v2.1/43b86742c5ee4eaf800a36d7d234d95c/servers<span class="o">]</span>,
but<span class="w"> </span>got<span class="w"> </span><span class="m">409</span><span class="w"> </span>instead
<span class="o">{</span><span class="s2">&quot;conflictingRequest&quot;</span>:<span class="w"> </span><span class="o">{</span><span class="s2">&quot;message&quot;</span>:<span class="w"> </span><span class="s2">&quot;Multiple possible networks found, use a</span>
<span class="s2">Network ID to be more specific.&quot;</span>,<span class="w"> </span><span class="s2">&quot;code&quot;</span>:<span class="w"> </span><span class="m">409</span><span class="o">}}</span>

<span class="w">  </span>on<span class="w"> </span>nodes.tf<span class="w"> </span>line<span class="w"> </span><span class="m">4</span>,<span class="w"> </span><span class="k">in</span><span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span>:
<span class="w">   </span><span class="m">4</span>:<span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span><span class="w"> </span><span class="o">{</span>
</pre></div>
<p>This fails in this example.  OpenStack projects have at least two networks defined: one private and one public.  Terraform needs to know which one to use.
</p>
<h2><span class="mw-headline" id="Adding_a_network">Adding a network</span></h2>
<p>The name of the private network differs from project to project and the naming convention can differ from cloud to cloud, but typically they are on a 192.168.X.Y network, and can be found in the CLI using `network list` or on Horizon under <i>Network -&gt; Networks</i>.  If your project's private network is <code>my-tenant-net</code>, you will add a <code>network</code> resource sub-block to your VM definition similar to the following:
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="nv">&quot;myvm&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span>
<span class="w">  </span><span class="na">image_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span>
<span class="w">  </span><span class="na">flavor_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0351ddb0-00d0-4269-80d3-913029d1a111&quot;</span>
<span class="w">  </span><span class="na">key_pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Aluminum&quot;</span>
<span class="w">  </span><span class="na">security_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span>

<span class="w">  </span><span class="nb">network</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-tenant-net&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Try again:
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>terraform<span class="w"> </span>apply

An<span class="w"> </span>execution<span class="w"> </span>plan<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>generated<span class="w"> </span>and<span class="w"> </span>is<span class="w"> </span>shown<span class="w"> </span>below.
Resource<span class="w"> </span>actions<span class="w"> </span>are<span class="w"> </span>indicated<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>symbols:
<span class="w">  </span>+<span class="w"> </span>create

Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>actions:

<span class="w">  </span><span class="c1"># openstack_compute_instance_v2.myvm will be created</span>
<span class="w">  </span>+<span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">access_ip_v4</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">access_ip_v6</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">all_metadata</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">availability_zone</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">flavor_id</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0351ddb0-00d0-4269-80d3-913029d1a111&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">flavor_name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">force_delete</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">id</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">image_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">image_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">key_pair</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Aluminum&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">power_state</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;active&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">region</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">security_groups</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<span class="w">          </span>+<span class="w"> </span><span class="s2">&quot;default&quot;</span>,
<span class="w">        </span><span class="o">]</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">stop_before_destroy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>

<span class="w">      </span>+<span class="w"> </span>network<span class="w"> </span><span class="o">{</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">access_network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">fixed_ip_v4</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">fixed_ip_v6</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">floating_ip</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">mac</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-tenant-net&quot;</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">port</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">uuid</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>

Plan:<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>add,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>change,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>destroy.

Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>perform<span class="w"> </span>these<span class="w"> </span>actions?
<span class="w">  </span>Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>actions<span class="w"> </span>described<span class="w"> </span>above.
<span class="w">  </span>Only<span class="w"> </span><span class="s1">&#39;yes&#39;</span><span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>accepted<span class="w"> </span>to<span class="w"> </span>approve.

<span class="w">  </span>Enter<span class="w"> </span>a<span class="w"> </span>value:<span class="w"> </span>yes

openstack_compute_instance_v2.myvm:<span class="w"> </span>Creating...
openstack_compute_instance_v2.myvm:<span class="w"> </span>Still<span class="w"> </span>creating...<span class="w"> </span><span class="o">[</span>10s<span class="w"> </span>elapsed<span class="o">]</span>
openstack_compute_instance_v2.myvm:<span class="w"> </span>Still<span class="w"> </span>creating...<span class="w"> </span><span class="o">[</span>20s<span class="w"> </span>elapsed<span class="o">]</span>
openstack_compute_instance_v2.myvm:<span class="w"> </span>Still<span class="w"> </span>creating...<span class="w"> </span><span class="o">[</span>30s<span class="w"> </span>elapsed<span class="o">]</span>
openstack_compute_instance_v2.myvm:<span class="w"> </span>Creation<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>after<span class="w"> </span>32s<span class="w"> </span><span class="o">[</span><span class="nv">id</span><span class="o">=</span>1f7f73ff-b9b5-40ad-9ddf-d848efe13e42<span class="o">]</span>

Apply<span class="w"> </span>complete!<span class="w"> </span>Resources:<span class="w"> </span><span class="m">1</span><span class="w"> </span>added,<span class="w"> </span><span class="m">0</span><span class="w"> </span>changed,<span class="w"> </span><span class="m">0</span><span class="w"> </span>destroyed.
</pre></div>
<p>You now have a VM created by Terraform. You should see your new VM on Horizon or in the output of <code>server list</code> in your OpenStack terminal window:
</p>
<pre class="plaintext">(openstack) server list -c ID -c Name -c Status
+--------------------------------------+--------+--------+
| ID                                   | Name   | Status |
+--------------------------------------+--------+--------+
| 1f7f73ff-b9b5-40ad-9ddf-d848efe13e42 | myvm   | ACTIVE |
| c3fa7d11-4122-412a-ad19-32e52cbb8f66 | store  | ACTIVE |
| f778f65f-c9d5-4808-930b-9f50d82a8c9c | puppet | ACTIVE |
| 9b42cbf3-3782-4472-bdd0-9028bbb73460 | lbr    | ACTIVE |
+--------------------------------------+--------+--------+</pre>
<p>In this example output, there are three other VMs created previously which survive untouched by Terraform.
</p>
<h3><span class="mw-headline" id="Recap">Recap</span></h3>
<p>Note there is now a file in your workspace called <code>terraform.tfstate</code>. This was created by Terraform during the application of the new configuration and confirmation of its success. The state file contains details about the managed resources Terraform uses to determine how to arrive at a new state described by configuration updates. In general, you will not need to look at this file, but know that without it, Terraform cannot properly manage resources and if you delete it, you will need to restore it or recreate it, or manage those resources without Terraform.
</p><p>You now have a working VM which has successfully been initialized and is on the private network. You can’t log in and check it out, however, because you haven’t assigned a floating IP to this host, so it’s not directly accessible from outside the tenant.
</p><p>If you had another host in that tenant with a floating IP, you could use that host as a jump host (sometimes called a <i>bastion host</i>) to the new VM, as they will both be on the same private network. This is a good strategy to use for nodes that do not need to be directly accessible from the internet, such as a database server, or just to preserve floating IPs, which are a limited resource.
</p><p>For now, add a floating IP to your new VM.
</p>
<h2><span class="mw-headline" id="Adding_a_floating_IP">Adding a floating IP</span></h2>
<p>Floating IPs are not created directly on a VM in OpenStack: they are allocated to the project from a pool and associated with the VM’s private network interface.
</p><p>Assuming you do not already have a floating IP allocated for this use, declare a floating IP resource like the following example. The only thing you need is to know the pool from which to allocate the floating IP; on our clouds, this is the external network (<code>ext_net</code> in this example).
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;openstack_networking_floatingip_v2&quot;</span><span class="w"> </span><span class="nv">&quot;myvm_fip&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">pool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ext_net&quot;</span>
<span class="p">}</span>
</pre></div>
<p>You may either apply this change immediately or just use <code>terraform plan</code> to show what would happen.
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>terraform<span class="w"> </span>apply
openstack_compute_instance_v2.myvm:<span class="w"> </span>Refreshing<span class="w"> </span>state...
<span class="o">[</span><span class="nv">id</span><span class="o">=</span>1f7f73ff-b9b5-40ad-9ddf-d848efe13e42<span class="o">]</span>

An<span class="w"> </span>execution<span class="w"> </span>plan<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>generated<span class="w"> </span>and<span class="w"> </span>is<span class="w"> </span>shown<span class="w"> </span>below.
Resource<span class="w"> </span>actions<span class="w"> </span>are<span class="w"> </span>indicated<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>symbols:
<span class="w">  </span>+<span class="w"> </span>create

Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>actions:

<span class="w">  </span><span class="c1"># openstack_networking_floatingip_v2.myvm_fip will be created</span>
<span class="w">  </span>+<span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_networking_floatingip_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm_fip&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">address</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">all_tags</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">fixed_ip</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">id</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">pool</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;provider-199-2&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">port_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">region</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">tenant_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">    </span><span class="o">}</span>

Plan:<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>add,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>change,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>destroy.

Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>perform<span class="w"> </span>these<span class="w"> </span>actions?
<span class="w">  </span>Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>actions<span class="w"> </span>described<span class="w"> </span>above.
<span class="w">  </span>Only<span class="w"> </span><span class="s1">&#39;yes&#39;</span><span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>accepted<span class="w"> </span>to<span class="w"> </span>approve.

<span class="w">  </span>Enter<span class="w"> </span>a<span class="w"> </span>value:<span class="w"> </span>yes

openstack_networking_floatingip_v2.myvm_fip:<span class="w"> </span>Creating...
openstack_networking_floatingip_v2.myvm_fip:<span class="w"> </span>Creation<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>after<span class="w"> </span>9s
<span class="o">[</span><span class="nv">id</span><span class="o">=</span><span class="m">20190061</span>-c2b6-4740-bbfc-6facbb300dd4<span class="o">]</span>

Apply<span class="w"> </span>complete!<span class="w"> </span>Resources:<span class="w"> </span><span class="m">1</span><span class="w"> </span>added,<span class="w"> </span><span class="m">0</span><span class="w"> </span>changed,<span class="w"> </span><span class="m">0</span><span class="w"> </span>destroyed.
</pre></div>
<p>This floating IP is now <i>allocated</i> but not yet associated with your VM.  Add the following definition:
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;openstack_compute_floatingip_associate_v2&quot;</span><span class="w"> </span><span class="nv">&quot;myvm_fip&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">floating_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">openstack_networking_floatingip_v2.myvm_fip.address</span>
<span class="w">  </span><span class="na">instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">openstack_compute_instance_v2.myvm.id</span>
<span class="p">}</span>
</pre></div>
<p>This new resource defines as its attributes references to other resources and their attributes.
</p>
<blockquote><p><b>Note</b>: Current documentation of the OpenStack provider documentation uses syntax which differs from what is presented here as it has not yet been updated for changes to Terraform v.12.
</p></blockquote>
<p>References like this are typically <code>&lt;resource type&gt;.&lt;resource name&gt;.&lt;attribute&gt;</code>. Others you may soon see include <code>var.&lt;variable name&gt;</code>. At any rate, this resource forms an association between the created earlier, and the floating IP allocated in the next step.
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>terraform<span class="w"> </span>apply
openstack_networking_floatingip_v2.myvm_fip:<span class="w"> </span>Refreshing<span class="w"> </span>state...
<span class="o">[</span><span class="nv">id</span><span class="o">=</span><span class="m">20190061</span>-c2b6-4740-bbfc-6facbb300dd4<span class="o">]</span>
openstack_compute_instance_v2.myvm:<span class="w"> </span>Refreshing<span class="w"> </span>state...
<span class="o">[</span><span class="nv">id</span><span class="o">=</span>1f7f73ff-b9b5-40ad-9ddf-d848efe13e42<span class="o">]</span>

An<span class="w"> </span>execution<span class="w"> </span>plan<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>generated<span class="w"> </span>and<span class="w"> </span>is<span class="w"> </span>shown<span class="w"> </span>below.
Resource<span class="w"> </span>actions<span class="w"> </span>are<span class="w"> </span>indicated<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>symbols:
<span class="w">  </span>+<span class="w"> </span>create

Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>actions:

<span class="w">  </span><span class="c1"># openstack_compute_floatingip_associate_v2.myvm_fip will be created</span>
<span class="w">  </span>+<span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_compute_floatingip_associate_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm_fip&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">floating_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;X.Y.Z.W&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1f7f73ff-b9b5-40ad-9ddf-d848efe13e42&quot;</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">region</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">    </span><span class="o">}</span>

Plan:<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>add,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>change,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>destroy.

Do<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>perform<span class="w"> </span>these<span class="w"> </span>actions?
<span class="w">  </span>Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>actions<span class="w"> </span>described<span class="w"> </span>above.
<span class="w">  </span>Only<span class="w"> </span><span class="s1">&#39;yes&#39;</span><span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>accepted<span class="w"> </span>to<span class="w"> </span>approve.

<span class="w">  </span>Enter<span class="w"> </span>a<span class="w"> </span>value:<span class="w"> </span>yes

openstack_compute_floatingip_associate_v2.myvm_fip:<span class="w"> </span>Creating...
openstack_compute_floatingip_associate_v2.myvm_fip:<span class="w"> </span>Creation<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>after<span class="w"> </span>5s
<span class="o">[</span><span class="nv">id</span><span class="o">=</span>X.Y.Z.W/1f7f73ff-b9b5-40ad-9ddf-d848efe13e42/<span class="o">]</span>

Apply<span class="w"> </span>complete!<span class="w"> </span>Resources:<span class="w"> </span><span class="m">1</span><span class="w"> </span>added,<span class="w"> </span><span class="m">0</span><span class="w"> </span>changed,<span class="w"> </span><span class="m">0</span><span class="w"> </span>destroyed.
</pre></div>
<p>Note that it has an associated floating IP, you could probably SSH into the new VM right now.
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>ssh<span class="w"> </span>centos@X.Y.Z.W<span class="w"> </span>hostname
The<span class="w"> </span>authenticity<span class="w"> </span>of<span class="w"> </span>host<span class="w"> </span><span class="s1">&#39;X.Y.Z.W (X.Y.Z.W)&#39;</span><span class="w"> </span>can<span class="s1">&#39;t be established.</span>
<span class="s1">ECDSA key fingerprint is SHA256:XmN5crnyxvE1sezdpo5tG5Z2nw0Z+2pspvkNSGpB99A.</span>
<span class="s1">Are you sure you want to continue connecting (yes/no)? yes</span>
<span class="s1">Warning: Permanently added &#39;</span>X.Y.Z.W<span class="err">&#39;</span><span class="w"> </span><span class="o">(</span>ECDSA<span class="o">)</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>known<span class="w"> </span>hosts.
myvm.novalocal
</pre></div>
<p>If not, it may be necessary to add your workstation's IP address to the project's default security group.
</p>
<h2><span class="mw-headline" id="Adding_a_volume">Adding a volume</span></h2>
<p>Next, add a root volume to the VM. Since this will replace its boot disk, <i>this is a destructive operation</i>. This is something you need to watch out for in Terraform, and one of the chief reasons for reading your plans carefully before applying.  It’s unlikely you’re going to accidentally cause critical issues in creating new resources, but it can be deceptively easy to accidentally create configuration changes that require <i>rebuilding</i> existing VMs.
</p><p>Since this is a root volume, create it as part of the compute instance, as another subblock along with the network subblock:
</p>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="w">  </span><span class="nb">block_device</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">uuid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span>
<span class="w">    </span><span class="na">source_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;image&quot;</span>
<span class="w">    </span><span class="na">destination_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;volume&quot;</span>
<span class="w">    </span><span class="na">volume_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
<span class="w">    </span><span class="na">boot_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="na">delete_on_termination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
<p>Set the <code>uuid</code> attribute to the UUID of the image you want to use and remove <code>image_id</code> from the outer block definition. The other attributes are self-explanatory, except for <code>destination_type</code>, which is here set to <code>volume</code> to indicate this is to be stored with an OpenStack-provided volume rather than using disk on the hypervisor. <code>delete_on_termination</code> is important&#8212;for testing, you will probably want this to be <code>true</code> so you don’t have to remember to constantly clean up leftover volumes, but for real use you should consider setting it to <code>false</code> as a last defence against accidental deletion of resources.
</p>
<blockquote><p>Do <i>not</i> leave the <code>image_id</code> attribute defined in the outer compute instance definition! This will work, but Terraform will see a change from “boot from volume” to “boot directly from image” on every run, and so will always attempt to rebuild your instance. (This is probably a flaw in the OpenStack provider.)
</p></blockquote>
<p>Here’s how the plan looks:
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>An<span class="w"> </span>execution<span class="w"> </span>plan<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>generated<span class="w"> </span>and<span class="w"> </span>is<span class="w"> </span>shown<span class="w"> </span>below.
Resource<span class="w"> </span>actions<span class="w"> </span>are<span class="w"> </span>indicated<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>symbols:
-/+<span class="w"> </span>destroy<span class="w"> </span>and<span class="w"> </span><span class="k">then</span><span class="w"> </span>create<span class="w"> </span>replacement

Terraform<span class="w"> </span>will<span class="w"> </span>perform<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>actions:

<span class="w">  </span><span class="c1"># openstack_compute_floatingip_associate_v2.myvm_fip must be replaced</span>
-/+<span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_compute_floatingip_associate_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm_fip&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="nv">floating_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;199.241.167.122&quot;</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;199.241.167.122/1f7f73ff-b9b5-40ad-9ddf-d848efe13e42/&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1f7f73ff-b9b5-40ad-9ddf-d848efe13e42&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span><span class="w"> </span><span class="c1"># forces replacement</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">region</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;RegionOne&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">    </span><span class="o">}</span>

<span class="w">  </span><span class="c1"># openstack_compute_instance_v2.myvm must be replaced</span>
-/+<span class="w"> </span>resource<span class="w"> </span><span class="s2">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">access_ip_v4</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;192.168.2.11&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>+<span class="w"> </span><span class="nv">access_ip_v6</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">all_metadata</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">{}</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">availability_zone</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;nova&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="nv">flavor_id</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0351ddb0-00d0-4269-80d3-913029d1a111&quot;</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">flavor_name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;p1-3gb&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="nv">force_delete</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">id</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1f7f73ff-b9b5-40ad-9ddf-d848efe13e42&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="nv">image_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">image_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;CentOS-7-x64-2018-05&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="nv">key_pair</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Aluminum&quot;</span>
<span class="w">        </span><span class="nv">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span>
<span class="w">        </span><span class="nv">power_state</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;active&quot;</span>
<span class="w">      </span>~<span class="w"> </span><span class="nv">region</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;RegionOne&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="nv">security_groups</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<span class="w">            </span><span class="s2">&quot;default&quot;</span>,
<span class="w">        </span><span class="o">]</span>
<span class="w">        </span><span class="nv">stop_before_destroy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>

<span class="w">      </span>+<span class="w"> </span>block_device<span class="w"> </span><span class="o">{</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">boot_index</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="c1"># forces replacement</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">delete_on_termination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="c1"># forces replacement</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">destination_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;volume&quot;</span><span class="w"> </span><span class="c1"># forces replacement</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">source_type</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;image&quot;</span><span class="w"> </span><span class="c1"># forces replacement</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">uuid</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span><span class="w"> </span><span class="c1"># forces replacement</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">volume_size</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="c1"># forces replacement</span>
<span class="w">        </span><span class="o">}</span>

<span class="w">      </span>~<span class="w"> </span>network<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="nv">access_network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
<span class="w">          </span>~<span class="w"> </span><span class="nv">fixed_ip_v4</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;192.168.2.11&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">fixed_ip_v6</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">floating_ip</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>~<span class="w"> </span><span class="nv">mac</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fa:16:3e:3b:79:27&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">            </span><span class="nv">name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-tenant-net&quot;</span>
<span class="w">          </span>+<span class="w"> </span><span class="nv">port</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>known<span class="w"> </span>after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">          </span>~<span class="w"> </span><span class="nv">uuid</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;5c96bf54-a396-47c5-ab12-574f630bcb80&quot;</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">(</span>known
after<span class="w"> </span>apply<span class="o">)</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
</pre></div>
<p>So note there are several warnings of what’s going to be replaced and what’s going to change, not to mention this line:
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span>Plan:<span class="w"> </span><span class="m">2</span><span class="w"> </span>to<span class="w"> </span>add,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>change,<span class="w"> </span><span class="m">2</span><span class="w"> </span>to<span class="w"> </span>destroy.
</pre></div>
<p>Your VM will be created with a new SSH key, so if you connected previously you'll need to remove the SSH key from your <code>known_hosts</code> file (or the equivalent).  After this, the first thing to do is log on and <i>apply all available updates</i>.
</p>
<div class="mw-highlight mw-highlight-lang-shell mw-content-ltr" dir="ltr"><pre><span></span><span class="o">[</span>centos@myvm<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>yum<span class="w"> </span>update<span class="w"> </span>-y
...
<span class="o">[</span><span class="w"> </span>goes<span class="w"> </span><span class="k">for</span><span class="w"> </span>ages<span class="w"> </span><span class="o">]</span>
</pre></div>
<p>So you now have a working, Terraformed VM and a way to get to it and a place on it to store data once we get there, with the latest OS patches applied.
</p>
<h2><span class="mw-headline" id="The_full_example">The full example</span></h2>
<div class="mw-highlight mw-highlight-lang-terraform mw-content-ltr" dir="ltr"><pre><span></span><span class="kr">provider</span><span class="w"> </span><span class="nv">&quot;openstack&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;openstack_compute_instance_v2&quot;</span><span class="w"> </span><span class="nv">&quot;myvm&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myvm&quot;</span>
<span class="w">  </span><span class="na">flavor_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0351ddb0-00d0-4269-80d3-913029d1a111&quot;</span>
<span class="w">  </span><span class="na">key_pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Aluminum&quot;</span>
<span class="w">  </span><span class="na">security_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span>

<span class="w">  </span><span class="nb">network</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-tenant-net&quot;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nb">block_device</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="na">uuid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;80ceebef-f9aa-462e-a793-d3c1cf96123b&quot;</span>
<span class="w">    </span><span class="na">source_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;image&quot;</span>
<span class="w">    </span><span class="na">destination_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;volume&quot;</span>
<span class="w">    </span><span class="na">volume_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
<span class="w">    </span><span class="na">boot_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="na">delete_on_termination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;openstack_networking_floatingip_v2&quot;</span><span class="w"> </span><span class="nv">&quot;myvm_fip&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">pool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;provider-199-2&quot;</span>
<span class="p">}</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;openstack_compute_floatingip_associate_v2&quot;</span><span class="w"> </span><span class="nv">&quot;myvm_fip&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="na">floating_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">openstack_networking_floatingip_v2.myvm_fip.address</span>
<span class="w">  </span><span class="na">instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">openstack_compute_instance_v2.myvm.id</span>
<span class="p">}</span>
</pre></div>
<h2><span class="mw-headline" id="Appendix">Appendix</span></h2>
<h3><span class="mw-headline" id="References">References</span></h3>
<p>The following might be of interest to those exploring further and building on the work done in this tutorial. Note that as of this writing the OpenStack provider’s documentation conforms to v0.11 syntax, but this should work under v0.12 without trouble.
</p>
<ul><li><a rel="nofollow" class="external text" href="https://www.terraform.io/intro/index.html">Introduction to Terraform</a></li>
<li><a rel="nofollow" class="external text" href="https://www.terraform.io/docs/providers/openstack/index.html">OpenStack provider</a></li>
<li><a rel="nofollow" class="external text" href="https://www.terraform.io/docs/providers/openstack/r/compute_instance_v2.html">OpenStack compute instance resource</a>: many examples of different use cases for creating VMs under OpenStack with Terraform.</li>
<li><a href="/wiki/Cloud" title="Cloud">Our cloud documentation</a> and the <a href="/wiki/Cloud_Quick_Start" title="Cloud Quick Start">Cloud Quick Start</a> guide</li></ul>
<h3><span class="mw-headline" id="Examples">Examples</span></h3>
<ul><li>The <a rel="nofollow" class="external text" href="https://github.com/ComputeCanada/magic_castle">Magic Castle</a> project</li>
<li><a rel="nofollow" class="external text" href="https://github.com/diodonfrost/terraform-openstack-examples">diodonfrost/terraform-openstack-examples</a> on GitHub</li></ul>
<h3><span class="mw-headline" id="Finding_image_and_flavour_UUIDs_in_Horizon">Finding image and flavour UUIDs in Horizon</span></h3>
<p>For those more comfortable using the web interface to OpenStack, here is a quick cheat sheet on finding flavour and image UUIDs in Horizon. You’ll need to log into the web interface of the cloud for this information.
</p><p>To find an image’s UUID, find the <i>Images</i> menu item under <i>Compute</i> (1).
</p>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:Images-1.png" class="mw-file-description"><img src="/mediawiki/images/thumb/d/df/Images-1.png/300px-Images-1.png" decoding="async" width="300" height="119" class="mw-file-element" srcset="/mediawiki/images/thumb/d/df/Images-1.png/450px-Images-1.png 1.5x, /mediawiki/images/thumb/d/df/Images-1.png/600px-Images-1.png 2x" /></a><figcaption>Find and select an image</figcaption></figure>
<p>You’ll get a list of images available to your project. Click on the one you’d like to use. (2)
</p>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:Images-2.png" class="mw-file-description"><img src="/mediawiki/images/thumb/7/7a/Images-2.png/300px-Images-2.png" decoding="async" width="300" height="114" class="mw-file-element" srcset="/mediawiki/images/thumb/7/7a/Images-2.png/450px-Images-2.png 1.5x, /mediawiki/images/thumb/7/7a/Images-2.png/600px-Images-2.png 2x" /></a><figcaption>Now you’ve got the UUID</figcaption></figure>
<p>…and there’s the ID.
</p><p>It’s a little tougher for flavours.
</p><p>For this you have to fake out launching an instance, but that doesn’t even give you the ID of the flavour. But at least you’ll know the <i>name</i> of the flavour you want.
</p>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:Flavour-1.png" class="mw-file-description"><img src="/mediawiki/images/thumb/b/b4/Flavour-1.png/300px-Flavour-1.png" decoding="async" width="300" height="69" class="mw-file-element" srcset="/mediawiki/images/thumb/b/b4/Flavour-1.png/450px-Flavour-1.png 1.5x, /mediawiki/images/thumb/b/b4/Flavour-1.png/600px-Flavour-1.png 2x" /></a><figcaption>Go to launch an instance</figcaption></figure>
<p>Once the launch dialog is open, select the <i>Flavor</i> pane.
</p>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:Flavour-2.png" class="mw-file-description"><img src="/mediawiki/images/thumb/c/cd/Flavour-2.png/300px-Flavour-2.png" decoding="async" width="300" height="98" class="mw-file-element" srcset="/mediawiki/images/thumb/c/cd/Flavour-2.png/450px-Flavour-2.png 1.5x, /mediawiki/images/thumb/c/cd/Flavour-2.png/600px-Flavour-2.png 2x" /></a><figcaption>On the instance launch dialog select “Flavor”</figcaption></figure>
<p>Now you should have a list of flavours and it’ll also show you which ones fit within your quotas. All you’ve got here is the name, though.
</p>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:Flavour-3.png" class="mw-file-description"><img src="/mediawiki/images/thumb/d/d4/Flavour-3.png/300px-Flavour-3.png" decoding="async" width="300" height="93" class="mw-file-element" srcset="/mediawiki/images/thumb/d/d4/Flavour-3.png/450px-Flavour-3.png 1.5x, /mediawiki/images/thumb/d/d4/Flavour-3.png/600px-Flavour-3.png 2x" /></a><figcaption>Select a flavour from the list</figcaption></figure>
<p>To actually get the ID, you have two options:
</p>
<ol><li>Use the name for the first Terraform run, and then get the ID from the output or state file, and finally, switch your configuration to use the ID instead. This should not attempt to recreate the VM, but check before you agree to <code>terraform apply</code>.</li>
<li>Switch to using the OpenStack CLI. (Recommended.)</li></ol>
<!-- 
NewPP limit report
Cached time: 20250530235036
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.080 seconds
Real time usage: 0.080 seconds
Preprocessor visited node count: 330/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 22/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 67319/5000000 bytes
ExtLoops count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key ccwiki:pcache:idhash:11450-0!canonical and timestamp 20250530235036 and revision id 145304. Rendering was triggered because: page-view
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://docs.alliancecan.ca/mediawiki/index.php?title=Terraform&amp;oldid=145304">https://docs.alliancecan.ca/mediawiki/index.php?title=Terraform&amp;oldid=145304</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/mediawiki/index.php?title=Category:Pages_using_deprecated_source_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using deprecated source tags (page does not exist)">Pages using deprecated source tags</a></li><li><a href="/wiki/Category:Cloud" title="Category:Cloud">Cloud</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		
<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-uls" class="mw-list-item active"><a class="uls-trigger" href="#"><span>English</span></a></li><li id="pt-login" class="mw-list-item"><a href="/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Terraform" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li>
		</ul>
		
	</div>
</nav>

		<div id="left-navigation">
			
<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy vector-menu" aria-labelledby="p-namespaces-label"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-main" class="selected mw-list-item"><a href="/wiki/Terraform" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="new mw-list-item"><a href="/mediawiki/index.php?title=Talk:Terraform&amp;action=edit&amp;redlink=1" rel="discussion" class="new" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
		</ul>
		
	</div>
</nav>

			
<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown vector-menu" aria-labelledby="p-variants-label"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	>
	<label
		id="p-variants-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			
<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy vector-menu" aria-labelledby="p-views-label"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected mw-list-item"><a href="/wiki/Terraform"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="/mediawiki/index.php?title=Terraform&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="/mediawiki/index.php?title=Terraform&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</nav>

			
<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-menu" aria-labelledby="p-cactions-label"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<h3 >Search</h3>
	<form action="/mediawiki/index.php" id="searchform" class="vector-search-box-form">
		<div id="simpleSearch"
			class="vector-search-box-inner"
			 data-search-loc="header-navigation">
			<input class="vector-search-box-input"
				 type="search" name="search" placeholder="Search Alliance Doc" aria-label="Search Alliance Doc" autocapitalize="sentences" title="Search Alliance Doc [f]" accesskey="f" id="searchInput"
			>
			<input type="hidden" name="title" value="Special:Search">
			<input id="mw-searchButton"
				 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
			<input id="searchButton"
				 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel" class="vector-legacy-sidebar">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Technical_documentation"
			title="Visit the main page"></a>
	</div>
	
<nav id="p-navigation" class="mw-portlet mw-portlet-navigation vector-menu-portal portal vector-menu" aria-labelledby="p-navigation-label"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-wiki-main-page" class="mw-list-item"><a href="/wiki/Technical_documentation"><span>Wiki Main Page</span></a></li>
		</ul>
		
	</div>
</nav>

	
<nav id="p-sidebar-support" class="mw-portlet mw-portlet-sidebar-support vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-support-label"  >
	<h3
		id="p-sidebar-support-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Support</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-getting-started" class="mw-list-item"><a href="/wiki/Getting_started"><span>Getting started</span></a></li><li id="n-sidebar-technical-support" class="mw-list-item"><a href="/wiki/Technical_support"><span>Getting help</span></a></li><li id="n-sidebar-running-jobs" class="mw-list-item"><a href="/wiki/Running_jobs"><span>Running jobs</span></a></li><li id="n-sidebar-known-issues" class="mw-list-item"><a href="/wiki/Known_issues"><span>Known issues</span></a></li><li id="n-sidebar-system-status" class="mw-list-item"><a href="http://status.computecanada.ca" rel="nofollow"><span>System status</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-resources" class="mw-portlet mw-portlet-sidebar-resources vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-resources-label"  >
	<h3
		id="p-sidebar-resources-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Resources</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-Béluga" class="mw-list-item"><a href="/wiki/B%C3%A9luga/en"><span>Béluga</span></a></li><li id="n-Cedar" class="mw-list-item"><a href="/wiki/Cedar"><span>Cedar</span></a></li><li id="n-Graham" class="mw-list-item"><a href="/wiki/Graham"><span>Graham</span></a></li><li id="n-Narval" class="mw-list-item"><a href="/wiki/Narval/en"><span>Narval</span></a></li><li id="n-Niagara" class="mw-list-item"><a href="/wiki/Niagara"><span>Niagara</span></a></li><li id="n-sidebar-cloud" class="mw-list-item"><a href="/wiki/CC-Cloud"><span>Cloud</span></a></li><li id="n-tamIA" class="mw-list-item"><a href="/wiki/TamIA/en"><span>tamIA</span></a></li><li id="n-Killarney" class="mw-list-item"><a href="/wiki/Killarney"><span>Killarney</span></a></li><li id="n-sidebar-quantum-computing" class="mw-list-item"><a href="/wiki/Services_d%27informatique_quantique/en"><span>Quantum computing</span></a></li><li id="n-sidebar-available-software" class="mw-list-item"><a href="/wiki/Available_software"><span>Available software</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-alliance" class="mw-portlet mw-portlet-sidebar-alliance vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-alliance-label"  >
	<h3
		id="p-sidebar-alliance-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">The Alliance</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-alliance-main-page" class="mw-list-item"><a href="https://alliancecan.ca/en" rel="nofollow"><span>Alliance main page</span></a></li><li id="n-sidebar-ccdb" class="mw-list-item"><a href="https://ccdb.computecanada.ca/security/login" rel="nofollow"><span>CCDB</span></a></li><li id="n-sidebar-getting-an-account" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/account-management/apply-account" rel="nofollow"><span>Getting An Account</span></a></li><li id="n-sidebar-acknowledging-alliance" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/research-portal/acknowledging-alliance" rel="nofollow"><span>Acknowledging the Alliance</span></a></li><li id="n-sidebar-aup" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/account-management/policies" rel="nofollow"><span>Acceptable Use Policy</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-authoring" class="mw-portlet mw-portlet-sidebar-authoring vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-authoring-label"  >
	<h3
		id="p-sidebar-authoring-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Authoring</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-guidelines" class="mw-list-item"><a href="/wiki/Authoring_guidelines"><span>Guidelines</span></a></li><li id="n-sidebar-mediawiki-help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu-portal portal vector-menu" aria-labelledby="p-tb-label"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/Terraform" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/Terraform" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/mediawiki/index.php?title=Terraform&amp;oldid=145304" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/mediawiki/index.php?title=Terraform&amp;action=info" title="More information about this page"><span>Page information</span></a></li>
		</ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 10 October 2023, at 20:05.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="/wiki/CCWiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/CCWiki:About">About Alliance Doc</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/CCWiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://docs.alliancecan.ca/mediawiki/index.php?title=Terraform&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/mediawiki/resources/assets/poweredby_mediawiki.svg" alt="Powered by MediaWiki" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.log.warn("This page is using the deprecated ResourceLoader module \"codex-search-styles\".\n[1.43] Use a CodexModule with codexComponents to set your specific components used: https://www.mediawiki.org/wiki/Codex#Using_a_limited_subset_of_components");});</script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-TVBPRD78K4" async=""></script><script>
window.dataLayer = window.dataLayer || [];

function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-TVBPRD78K4', {});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":188,"wgPageParseReport":{"limitreport":{"cputime":"0.080","walltime":"0.080","ppvisitednodes":{"value":330,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":100},"expensivefunctioncount":{"value":22,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":67319,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"loops":{"limitreport-count-limited":{"value":0,"limit":100}},"cachereport":{"timestamp":"20250530235036","ttl":86400,"transientcontent":false}}});});</script>
</body>
</html>