<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Exécuter des tâches - Alliance Doc</title>
<script>(function(){var className="client-js";var cookie=document.cookie.match(/(?:^|; )ccwikimwclientpreferences=([^;]+)/);if(cookie){cookie[1].split('%2C').forEach(function(pref){className=className.replace(new RegExp('(^| )'+pref.replace(/-clientpref-\w+$|[^\w-]+/g,'')+'-clientpref-\\w+( |$)'),'$1'+pref+'$2');});}document.documentElement.className=className;}());RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],"wgRequestId":"aDpEh@3hIy4PhCb@BtLJVAAAAtU","wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Running_jobs/fr","wgTitle":"Running jobs/fr","wgCurRevisionId":173016,"wgRevisionId":173016,"wgArticleId":2540,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[
"Pages using deprecated source tags"],"wgPageViewLanguage":"fr","wgPageContentLanguage":"fr","wgPageContentModel":"wikitext","wgRelevantPageName":"Running_jobs/fr","wgRelevantArticleId":2540,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgULSAcceptLanguageList":[],"wgMFDisplayWikibaseDescriptions":{"search":false,"watchlist":false,"tagline":false},"wgCiteReferencePreviewsActive":true,"wgTranslatePageTranslation":"translation","wgULSPosition":"personal","wgULSisCompactLinksEnabled":true,"wgVector2022LanguageInHeader":false,"wgULSisLanguageSelectorEmpty":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.translate.tag.languages":"ready","ext.pygments":"ready","skins.vector.styles.legacy":"ready","ext.translate":"ready","codex-search-styles":"ready","ext.uls.pt":"ready"};RLPAGEMODULES=["ext.pygments.view","ext.tabs","site","mediawiki.page.ready","mediawiki.toc",
"skins.vector.legacy.js","ext.languageSelector","ext.translate.pagetranslation.uls","ext.uls.compactlinks","ext.uls.geoclient","ext.uls.interface","ext.moderation.notify","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
<link rel="stylesheet" href="/mediawiki/load.php?lang=en&amp;modules=codex-search-styles%7Cext.pygments%2Ctranslate%7Cext.translate.tag.languages%7Cext.uls.pt%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector">
<script async="" src="/mediawiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="/mediawiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=1120">
<link rel="icon" href="/mediawiki/resources/assets/Alliance_favicon.png">
<link rel="search" type="application/opensearchdescription+xml" href="/mediawiki/rest.php/v1/search" title="Alliance Doc (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://docs.alliancecan.ca/mediawiki/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="Alliance Doc Atom feed" href="/mediawiki/index.php?title=Special:RecentChanges&amp;feed=atom">
<style type="text/css" id="tabs-dynamic-styles">/*<![CDATA[*/
/* Dynamically generated tabs styles */
.tabs-input-1:checked ~ .tabs-container .tabs-content-1,
.tabs-input-2:checked ~ .tabs-container .tabs-content-2,
.tabs-input-3:checked ~ .tabs-container .tabs-content-3,
.tabs-input-4:checked ~ .tabs-container .tabs-content-4,
.tabs-input-5:checked ~ .tabs-container .tabs-content-5,
.tabs-input-0:checked ~ .tabs-container .tabs-content-1 {display:inline-block;}
.tabs-input-1:checked ~ .tabs-container .tabs-inline.tabs-content-1,
.tabs-input-2:checked ~ .tabs-container .tabs-inline.tabs-content-2,
.tabs-input-3:checked ~ .tabs-container .tabs-inline.tabs-content-3,
.tabs-input-4:checked ~ .tabs-container .tabs-inline.tabs-content-4,
.tabs-input-5:checked ~ .tabs-container .tabs-inline.tabs-content-5,
.tabs-input-0:checked ~ .tabs-container .tabs-inline.tabs-content-1 {display:inline;}
.tabs-input-1:checked ~ .tabs-container .tabs-block.tabs-content-1,
.tabs-input-2:checked ~ .tabs-container .tabs-block.tabs-content-2,
.tabs-input-3:checked ~ .tabs-container .tabs-block.tabs-content-3,
.tabs-input-4:checked ~ .tabs-container .tabs-block.tabs-content-4,
.tabs-input-5:checked ~ .tabs-container .tabs-block.tabs-content-5,
.tabs-input-0:checked ~ .tabs-container .tabs-block.tabs-content-1 {display:block;}
/* The same styles, but with .checked instead of :checked, for browsers that rely on the JavaScript fallback */
.tabs-input-1.checked ~ .tabs-container .tabs-content-1,
.tabs-input-2.checked ~ .tabs-container .tabs-content-2,
.tabs-input-3.checked ~ .tabs-container .tabs-content-3,
.tabs-input-4.checked ~ .tabs-container .tabs-content-4,
.tabs-input-5.checked ~ .tabs-container .tabs-content-5,
.tabs-input-0.checked ~ .tabs-container .tabs-content-1 {display:inline-block;}
.tabs-input-1.checked ~ .tabs-container .tabs-inline.tabs-content-1,
.tabs-input-2.checked ~ .tabs-container .tabs-inline.tabs-content-2,
.tabs-input-3.checked ~ .tabs-container .tabs-inline.tabs-content-3,
.tabs-input-4.checked ~ .tabs-container .tabs-inline.tabs-content-4,
.tabs-input-5.checked ~ .tabs-container .tabs-inline.tabs-content-5,
.tabs-input-0.checked ~ .tabs-container .tabs-inline.tabs-content-1 {display:inline;}
.tabs-input-1.checked ~ .tabs-container .tabs-block.tabs-content-1,
.tabs-input-2.checked ~ .tabs-container .tabs-block.tabs-content-2,
.tabs-input-3.checked ~ .tabs-container .tabs-block.tabs-content-3,
.tabs-input-4.checked ~ .tabs-container .tabs-block.tabs-content-4,
.tabs-input-5.checked ~ .tabs-container .tabs-block.tabs-content-5,
.tabs-input-0.checked ~ .tabs-container .tabs-block.tabs-content-1 {display:block;}
.tabs-dropdown .tabs-content,.tabs-dropdown .tabs-container,.tabs-dropdown li,.tabs-dropdown ul,.tabs-dropdown ol {background-color: white /* Malicious data in tabs-dropdown-bgcolor */}
/*]]>*/</style>
</head>
<body class="skin-vector-legacy mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Running_jobs_fr rootpage-Running_jobs_fr skin-vector action-view"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	<div id="mw-indicator-languageselector" class="mw-indicator"><span id="languageselector-box-1" class="languageselector " style=""><form name="languageselector-form-1" id="languageselector-form-1" method="get" action="/mediawiki/index.php" style="display:inline;"><input type="hidden" value="Running_jobs/fr" name="title"><select name="setlang" id="languageselector-select-1" style=""><option value="aae">Arbërisht</option><option value="ab">аԥсшәа</option><option value="abs">bahasa ambon</option><option value="ace">Acèh</option><option value="acf">Kwéyòl Sent Lisi</option><option value="acm">عراقي</option><option value="ady">адыгабзэ</option><option value="ady-cyrl">адыгабзэ</option><option value="aeb">تونسي / Tûnsî</option><option value="aeb-arab">تونسي</option><option value="aeb-latn">Tûnsî</option><option value="af">Afrikaans</option><option value="aln">Gegë</option><option value="alt">алтай тил</option><option value="am">አማርኛ</option><option value="ami">Pangcah</option><option value="an">aragonés</option><option value="ang">Ænglisc</option><option value="ann">Obolo</option><option value="anp">अंगिका</option><option value="apc">شامي</option><option value="ar">العربية</option><option value="arc">ܐܪܡܝܐ</option><option value="arn">mapudungun</option><option value="arq">جازايرية</option><option value="ary">الدارجة</option><option value="arz">مصرى</option><option value="as">অসমীয়া</option><option value="ase">American sign language</option><option value="ast">asturianu</option><option value="atj">Atikamekw</option><option value="av">авар</option><option value="avk">Kotava</option><option value="awa">अवधी</option><option value="ay">Aymar aru</option><option value="az">azərbaycanca</option><option value="azb">تۆرکجه</option><option value="ba">башҡортса</option><option value="ban">Basa Bali</option><option value="ban-bali">ᬩᬲᬩᬮᬶ</option><option value="bar">Boarisch</option><option value="bbc">Batak Toba</option><option value="bbc-latn">Batak Toba</option><option value="bcc">جهلسری بلوچی</option><option value="bci">wawle</option><option value="bcl">Bikol Central</option><option value="bdr">Bajau Sama</option><option value="be">беларуская</option><option value="be-tarask">беларуская (тарашкевіца)</option><option value="bew">Betawi</option><option value="bg">български</option><option value="bgc">हरियाणवी</option><option value="bgn">روچ کپتین بلوچی</option><option value="bh">भोजपुरी</option><option value="bho">भोजपुरी</option><option value="bi">Bislama</option><option value="bjn">Banjar</option><option value="blk">ပအိုဝ်ႏဘာႏသာႏ</option><option value="bm">bamanankan</option><option value="bn">বাংলা</option><option value="bo">བོད་ཡིག</option><option value="bpy">বিষ্ণুপ্রিয়া মণিপুরী</option><option value="bqi">بختیاری</option><option value="br">brezhoneg</option><option value="brh">Bráhuí</option><option value="bs">bosanski</option><option value="btm">Batak Mandailing</option><option value="bto">Iriga Bicolano</option><option value="bug">Basa Ugi</option><option value="bxr">буряад</option><option value="ca">català</option><option value="cbk-zam">Chavacano de Zamboanga</option><option value="ccp">𑄌𑄋𑄴𑄟𑄳𑄦</option><option value="cdo">閩東語 / Mìng-dĕ̤ng-ngṳ̄</option><option value="ce">нохчийн</option><option value="ceb">Cebuano</option><option value="ch">Chamoru</option><option value="chn">chinuk wawa</option><option value="chr">ᏣᎳᎩ</option><option value="chy">Tsetsêhestâhese</option><option value="ckb">کوردی</option><option value="co">corsu</option><option value="cps">Capiceño</option><option value="cpx">莆仙語 / Pó-sing-gṳ̂</option><option value="cpx-hans">莆仙语（简体）</option><option value="cpx-hant">莆仙語（繁體）</option><option value="cr">Nēhiyawēwin / ᓀᐦᐃᔭᐍᐏᐣ</option><option value="crh">qırımtatarca</option><option value="crh-cyrl">къырымтатарджа (Кирилл)</option><option value="crh-latn">qırımtatarca (Latin)</option><option value="crh-ro">tatarşa</option><option value="cs">čeština</option><option value="csb">kaszëbsczi</option><option value="cu">словѣньскъ / ⰔⰎⰑⰂⰡⰐⰠⰔⰍⰟ</option><option value="cv">чӑвашла</option><option value="cy">Cymraeg</option><option value="da">dansk</option><option value="dag">dagbanli</option><option value="de">Deutsch</option><option value="de-at">Österreichisches Deutsch</option><option value="de-ch">Schweizer Hochdeutsch</option><option value="de-formal">Deutsch (Sie-Form)</option><option value="dga">Dagaare</option><option value="din">Thuɔŋjäŋ</option><option value="diq">Zazaki</option><option value="dsb">dolnoserbski</option><option value="dtp">Kadazandusun</option><option value="dty">डोटेली</option><option value="dua">Duálá</option><option value="dv">ދިވެހިބަސް</option><option value="dz">ཇོང་ཁ</option><option value="ee">eʋegbe</option><option value="efi">Efịk</option><option value="egl">emiliàn e rumagnòl</option><option value="el">Ελληνικά</option><option value="eml">emiliàn e rumagnòl</option><option value="en" selected="">English</option><option value="en-ca">Canadian English</option><option value="en-gb">British English</option><option value="eo">Esperanto</option><option value="es">español</option><option value="es-formal">español (formal)</option><option value="et">eesti</option><option value="eu">euskara</option><option value="ext">estremeñu</option><option value="fa">فارسی</option><option value="fat">mfantse</option><option value="ff">Fulfulde</option><option value="fi">suomi</option><option value="fit">meänkieli</option><option value="fj">Na Vosa Vakaviti</option><option value="fo">føroyskt</option><option value="fon">fɔ̀ngbè</option><option value="fr">français</option><option value="frc">français cadien</option><option value="frp">arpetan</option><option value="frr">Nordfriisk</option><option value="fur">furlan</option><option value="fy">Frysk</option><option value="ga">Gaeilge</option><option value="gaa">Ga</option><option value="gag">Gagauz</option><option value="gan">贛語</option><option value="gan-hans">赣语（简体）</option><option value="gan-hant">贛語（繁體）</option><option value="gcf">kréyòl Gwadloup</option><option value="gcr">kriyòl gwiyannen</option><option value="gd">Gàidhlig</option><option value="gl">galego</option><option value="gld">на̄ни</option><option value="glk">گیلکی</option><option value="gn">Avañe'ẽ</option><option value="gom">गोंयची कोंकणी / Gõychi Konknni</option><option value="gom-deva">गोंयची कोंकणी</option><option value="gom-latn">Gõychi Konknni</option><option value="gor">Bahasa Hulontalo</option><option value="got">𐌲𐌿𐍄𐌹𐍃𐌺</option><option value="gpe">Ghanaian Pidgin</option><option value="grc">Ἀρχαία ἑλληνικὴ</option><option value="gsw">Alemannisch</option><option value="gu">ગુજરાતી</option><option value="guc">wayuunaiki</option><option value="gur">farefare</option><option value="guw">gungbe</option><option value="gv">Gaelg</option><option value="ha">Hausa</option><option value="hak">客家語 / Hak-kâ-ngî</option><option value="haw">Hawaiʻi</option><option value="he">עברית</option><option value="hi">हिन्दी</option><option value="hif">Fiji Hindi</option><option value="hif-latn">Fiji Hindi</option><option value="hil">Ilonggo</option><option value="hno">ہندکو</option><option value="hr">hrvatski</option><option value="hrx">Hunsrik</option><option value="hsb">hornjoserbsce</option><option value="hsn">湘語</option><option value="ht">Kreyòl ayisyen</option><option value="hu">magyar</option><option value="hu-formal">magyar (formal)</option><option value="hy">հայերեն</option><option value="hyw">Արեւմտահայերէն</option><option value="ia">interlingua</option><option value="iba">Jaku Iban</option><option value="ibb">ibibio</option><option value="id">Bahasa Indonesia</option><option value="ie">Interlingue</option><option value="ig">Igbo</option><option value="igl">Igala</option><option value="ii">ꆇꉙ</option><option value="ik">Iñupiatun</option><option value="ike-cans">ᐃᓄᒃᑎᑐᑦ</option><option value="ike-latn">inuktitut</option><option value="ilo">Ilokano</option><option value="inh">гӀалгӀай</option><option value="io">Ido</option><option value="is">íslenska</option><option value="isv-cyrl">меджусловјанскы</option><option value="isv-latn">medžuslovjansky</option><option value="it">italiano</option><option value="iu">ᐃᓄᒃᑎᑐᑦ / inuktitut</option><option value="ja">日本語</option><option value="jam">Patois</option><option value="jbo">la .lojban.</option><option value="jut">jysk</option><option value="jv">Jawa</option><option value="ka">ქართული</option><option value="kaa">Qaraqalpaqsha</option><option value="kab">Taqbaylit</option><option value="kai">Karai-karai</option><option value="kbd">адыгэбзэ</option><option value="kbd-cyrl">адыгэбзэ</option><option value="kbp">Kabɩyɛ</option><option value="kcg">Tyap</option><option value="kea">kabuverdianu</option><option value="kg">Kongo</option><option value="kge">Kumoring</option><option value="khw">کھوار</option><option value="ki">Gĩkũyũ</option><option value="kiu">Kırmancki</option><option value="kjh">хакас</option><option value="kjp">ဖၠုံလိက်</option><option value="kk">қазақша</option><option value="kk-arab">قازاقشا (تٴوتە)</option><option value="kk-cn">قازاقشا (جۇنگو)</option><option value="kk-cyrl">қазақша (кирил)</option><option value="kk-kz">қазақша (Қазақстан)</option><option value="kk-latn">qazaqşa (latın)</option><option value="kk-tr">qazaqşa (Türkïya)</option><option value="kl">kalaallisut</option><option value="km">ភាសាខ្មែរ</option><option value="kn">ಕನ್ನಡ</option><option value="knc">Yerwa Kanuri</option><option value="ko">한국어</option><option value="ko-kp">조선말</option><option value="koi">перем коми</option><option value="kr">kanuri</option><option value="krc">къарачай-малкъар</option><option value="kri">Krio</option><option value="krj">Kinaray-a</option><option value="krl">karjal</option><option value="ks">कॉशुर / کٲشُر</option><option value="ks-arab">کٲشُر</option><option value="ks-deva">कॉशुर</option><option value="ksh">Ripoarisch</option><option value="ksw">စှီၤ</option><option value="ku">kurdî</option><option value="ku-arab">کوردی (عەرەبی)</option><option value="ku-latn">kurdî (latînî)</option><option value="kum">къумукъ</option><option value="kus">Kʋsaal</option><option value="kv">коми</option><option value="kw">kernowek</option><option value="ky">кыргызча</option><option value="la">Latina</option><option value="lad">Ladino</option><option value="lb">Lëtzebuergesch</option><option value="lbe">лакку</option><option value="lez">лезги</option><option value="lfn">Lingua Franca Nova</option><option value="lg">Luganda</option><option value="li">Limburgs</option><option value="lij">Ligure</option><option value="liv">Līvõ kēļ</option><option value="lki">لەکی</option><option value="lld">Ladin</option><option value="lmo">lombard</option><option value="ln">lingála</option><option value="lo">ລາວ</option><option value="loz">Silozi</option><option value="lrc">لۊری شومالی</option><option value="lt">lietuvių</option><option value="ltg">latgaļu</option><option value="lua">ciluba</option><option value="lus">Mizo ţawng</option><option value="luz">لئری دوٙمینی</option><option value="lv">latviešu</option><option value="lzh">文言</option><option value="lzz">Lazuri</option><option value="mad">Madhurâ</option><option value="mag">मगही</option><option value="mai">मैथिली</option><option value="map-bms">Basa Banyumasan</option><option value="mdf">мокшень</option><option value="mg">Malagasy</option><option value="mhr">олык марий</option><option value="mi">Māori</option><option value="min">Minangkabau</option><option value="mk">македонски</option><option value="ml">മലയാളം</option><option value="mn">монгол</option><option value="mnc">manju gisun</option><option value="mnc-latn">manju gisun</option><option value="mnc-mong">ᠮᠠᠨᠵᡠ ᡤᡳᠰᡠᠨ</option><option value="mni">ꯃꯤꯇꯩ ꯂꯣꯟ</option><option value="mnw">ဘာသာမန်</option><option value="mo">молдовеняскэ</option><option value="mos">moore</option><option value="mr">मराठी</option><option value="mrh">Mara</option><option value="mrj">кырык мары</option><option value="ms">Bahasa Melayu</option><option value="ms-arab">بهاس ملايو</option><option value="mt">Malti</option><option value="mui">Baso Palembang</option><option value="mwl">Mirandés</option><option value="my">မြန်မာဘာသာ</option><option value="myv">эрзянь</option><option value="mzn">مازِرونی</option><option value="na">Dorerin Naoero</option><option value="nah">Nāhuatl</option><option value="nan">閩南語 / Bân-lâm-gú</option><option value="nan-hant">閩南語（傳統漢字）</option><option value="nan-latn-pehoeji">Bân-lâm-gú (Pe̍h-ōe-jī)</option><option value="nan-latn-tailo">Bân-lâm-gú (Tâi-lô)</option><option value="nap">Napulitano</option><option value="nb">norsk bokmål</option><option value="nds">Plattdüütsch</option><option value="nds-nl">Nedersaksies</option><option value="ne">नेपाली</option><option value="new">नेपाल भाषा</option><option value="nia">Li Niha</option><option value="nit">కొలామి</option><option value="niu">Niuē</option><option value="nl">Nederlands</option><option value="nl-informal">Nederlands (informeel)</option><option value="nmz">nawdm</option><option value="nn">norsk nynorsk</option><option value="nod">ᨣᩤᩴᨾᩮᩬᩥᨦ</option><option value="nog">ногайша</option><option value="nov">Novial</option><option value="nqo">ߒߞߏ</option><option value="nr">isiNdebele seSewula</option><option value="nrm">Nouormand</option><option value="nso">Sesotho sa Leboa</option><option value="nup">Nupe</option><option value="nv">Diné bizaad</option><option value="ny">Chi-Chewa</option><option value="nyn">runyankore</option><option value="nyo">Orunyoro</option><option value="nys">Nyunga</option><option value="oc">occitan</option><option value="ojb">Ojibwemowin</option><option value="olo">livvinkarjala</option><option value="om">Oromoo</option><option value="or">ଓଡ଼ିଆ</option><option value="os">ирон</option><option value="pa">ਪੰਜਾਬੀ</option><option value="pag">Pangasinan</option><option value="pam">Kapampangan</option><option value="pap">Papiamentu</option><option value="pcd">Picard</option><option value="pcm">Naijá</option><option value="pdc">Deitsch</option><option value="pdt">Plautdietsch</option><option value="pfl">Pälzisch</option><option value="pi">पालि</option><option value="pih">Norfuk / Pitkern</option><option value="pl">polski</option><option value="pms">Piemontèis</option><option value="pnb">پنجابی</option><option value="pnt">Ποντιακά</option><option value="prg">prūsiskan</option><option value="ps">پښتو</option><option value="pt">português</option><option value="pt-br">português do Brasil</option><option value="pwn">pinayuanan</option><option value="qqq">Message documentation</option><option value="qu">Runa Simi</option><option value="qug">Runa shimi</option><option value="rgn">Rumagnôl</option><option value="rif">Tarifit</option><option value="rki">ရခိုင်</option><option value="rm">rumantsch</option><option value="rmc">romaňi čhib</option><option value="rmy">romani čhib</option><option value="rn">ikirundi</option><option value="ro">română</option><option value="roa-tara">tarandíne</option><option value="rsk">руски</option><option value="ru">русский</option><option value="rue">русиньскый</option><option value="rup">armãneashti</option><option value="ruq">Vlăheşte</option><option value="ruq-cyrl">Влахесте</option><option value="ruq-latn">Vlăheşte</option><option value="rut">мыхаӀбишды</option><option value="rw">Ikinyarwanda</option><option value="ryu">うちなーぐち</option><option value="sa">संस्कृतम्</option><option value="sah">саха тыла</option><option value="sat">ᱥᱟᱱᱛᱟᱲᱤ</option><option value="sc">sardu</option><option value="scn">sicilianu</option><option value="sco">Scots</option><option value="sd">سنڌي</option><option value="sdc">Sassaresu</option><option value="sdh">کوردی خوارگ</option><option value="se">davvisámegiella</option><option value="se-fi">davvisámegiella (Suoma bealde)</option><option value="se-no">davvisámegiella (Norgga bealde)</option><option value="se-se">davvisámegiella (Ruoŧa bealde)</option><option value="sei">Cmique Itom</option><option value="ses">Koyraboro Senni</option><option value="sg">Sängö</option><option value="sgs">žemaitėška</option><option value="sh">srpskohrvatski / српскохрватски</option><option value="sh-cyrl">српскохрватски (ћирилица)</option><option value="sh-latn">srpskohrvatski (latinica)</option><option value="shi">Taclḥit</option><option value="shn">ၽႃႇသႃႇတႆး </option><option value="shy">tacawit</option><option value="shy-latn">tacawit</option><option value="si">සිංහල</option><option value="sjd">кӣллт са̄мь кӣлл</option><option value="sje">bidumsámegiella</option><option value="sk">slovenčina</option><option value="skr">سرائیکی</option><option value="skr-arab">سرائیکی</option><option value="sl">slovenščina</option><option value="sli">Schläsch</option><option value="sm">Gagana Samoa</option><option value="sma">åarjelsaemien</option><option value="smn">anarâškielâ</option><option value="sms">nuõrttsääʹmǩiõll</option><option value="sn">chiShona</option><option value="so">Soomaaliga</option><option value="sq">shqip</option><option value="sr">српски / srpski</option><option value="sr-ec">српски (ћирилица)</option><option value="sr-el">srpski (latinica)</option><option value="srn">Sranantongo</option><option value="sro">sardu campidanesu</option><option value="ss">SiSwati</option><option value="st">Sesotho</option><option value="stq">Seeltersk</option><option value="sty">себертатар</option><option value="su">Sunda</option><option value="sv">svenska</option><option value="sw">Kiswahili</option><option value="syl">ꠍꠤꠟꠐꠤ</option><option value="szl">ślůnski</option><option value="szy">Sakizaya</option><option value="ta">தமிழ்</option><option value="tay">Tayal</option><option value="tcy">ತುಳು</option><option value="tdd">ᥖᥭᥰ ᥖᥬᥲ ᥑᥨᥒᥰ</option><option value="te">తెలుగు</option><option value="tet">tetun</option><option value="tg">тоҷикӣ</option><option value="tg-cyrl">тоҷикӣ</option><option value="tg-latn">tojikī</option><option value="th">ไทย</option><option value="ti">ትግርኛ</option><option value="tig">ትግሬ</option><option value="tk">Türkmençe</option><option value="tl">Tagalog</option><option value="tly">tolışi</option><option value="tn">Setswana</option><option value="to">lea faka-Tonga</option><option value="tok">toki pona</option><option value="tpi">Tok Pisin</option><option value="tr">Türkçe</option><option value="tru">Ṫuroyo</option><option value="trv">Seediq</option><option value="ts">Xitsonga</option><option value="tt">татарча / tatarça</option><option value="tt-cyrl">татарча</option><option value="tt-latn">tatarça</option><option value="ttj">Orutooro</option><option value="tum">chiTumbuka</option><option value="tw">Twi</option><option value="ty">reo tahiti</option><option value="tyv">тыва дыл</option><option value="tzm">ⵜⴰⵎⴰⵣⵉⵖⵜ</option><option value="udm">удмурт</option><option value="ug">ئۇيغۇرچە / Uyghurche</option><option value="ug-arab">ئۇيغۇرچە</option><option value="ug-latn">Uyghurche</option><option value="uk">українська</option><option value="ur">اردو</option><option value="uz">oʻzbekcha / ўзбекча</option><option value="ve">Tshivenda</option><option value="vec">vèneto</option><option value="vep">vepsän kel’</option><option value="vi">Tiếng Việt</option><option value="vls">West-Vlams</option><option value="vmf">Mainfränkisch</option><option value="vmw">emakhuwa</option><option value="vo">Volapük</option><option value="vot">Vaďďa</option><option value="vro">võro</option><option value="wa">walon</option><option value="wal">wolaytta</option><option value="war">Winaray</option><option value="wls">Fakaʻuvea</option><option value="wo">Wolof</option><option value="wuu">吴语</option><option value="wuu-hans">吴语（简体）</option><option value="wuu-hant">吳語（正體）</option><option value="xal">хальмг</option><option value="xh">isiXhosa</option><option value="xmf">მარგალური</option><option value="xsy">saisiyat</option><option value="yi">ייִדיש</option><option value="yo">Yorùbá</option><option value="yrl">Nhẽẽgatú</option><option value="yue">粵語</option><option value="yue-hans">粵语（简体）</option><option value="yue-hant">粵語（繁體）</option><option value="za">Vahcuengh</option><option value="zea">Zeêuws</option><option value="zgh">ⵜⴰⵎⴰⵣⵉⵖⵜ ⵜⴰⵏⴰⵡⴰⵢⵜ</option><option value="zh">中文</option><option value="zh-cn">中文（中国大陆）</option><option value="zh-hans">中文（简体）</option><option value="zh-hant">中文（繁體）</option><option value="zh-hk">中文（香港）</option><option value="zh-mo">中文（澳門）</option><option value="zh-my">中文（马来西亚）</option><option value="zh-sg">中文（新加坡）</option><option value="zh-tw">中文（臺灣）</option><option value="zu">isiZulu</option></select><input id="languageselector-commit-1" style="" type="submit" value="set"></form></span></div>
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading">Exécuter des tâches</h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Alliance Doc</div>
		<div id="contentSub"><div id="mw-content-subtitle"></div></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content"><div class="mw-pt-translate-header noprint" dir="ltr" lang="en">This page is a <span class="plainlinks"><a rel="nofollow" class="external text" href="https://docs.alliancecan.ca/mediawiki/index.php?title=Special:Translate&amp;group=page-Running+jobs&amp;action=page&amp;filter=&amp;language=fr">translated version</a></span> of the page <a href="/wiki/Running_jobs" title="Running jobs">Running jobs</a> and the translation is 100% complete.</div><div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="/wiki/Running_jobs" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Running jobs (100% translated)" lang="en" dir="ltr">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="fr" dir="ltr">français</span></li></ul></div>
<p>Cette page présente l'information sur comment soumettre des tâches sur nos grappes; elle s'adresse à ceux et celles qui connaissent les concepts de préparation de scripts et d'ordonnancement des tâches.
Si vous n'avez jamais travaillé sur une grappe partagée de grande taille, nous vous recommandons de lire d'abord <a href="/wiki/What_is_a_scheduler%3F/fr" title="What is a scheduler?/fr">Qu'est-ce qu'un ordonnanceur?</a>
</p>
<table class="wikitable" width="600px">
<tbody><tr>
<td>
<p><b>Toutes les tâches doivent être soumises via l'ordonnanceur.</b>
<br /> 
Les seules exceptions sont pour les tâches de compilation et autres tâches qui devraient utiliser moins de 10 minutes de temps CPU et moins de 4Go de mémoire vive.  Ces tâches peuvent être exécutées sur un nœud de connexion.
Aucun processus ne doit être exécuté sur un nœud de calcul sans d’abord avoir été traité par l’ordonnanceur.
</p>
</td>
</tr>
</tbody></table>
<p>L'ordonnancement des tâches se fait à l'aide de  
<a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Slurm_Workload_Manager">Slurm Workload Manager</a>.
La <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/documentation.html">documentation Slurm</a> est préparée par SchedMD. Si vous utilisez PBS/Torque, SGE, LSF ou LoadLeveler, ce <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/rosetta.pdf">tableau de correspondance des commandes</a> vous sera utile.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Soumettre_des_tâches_avec_sbatch"><span class="tocnumber">1</span> <span class="toctext">Soumettre des tâches avec sbatch</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Mémoire"><span class="tocnumber">1.1</span> <span class="toctext">Mémoire</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Lister_les_tâches_avec_squeue_ou_sq"><span class="tocnumber">2</span> <span class="toctext">Lister les tâches avec squeue ou sq</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Enregistrer_le_résultat"><span class="tocnumber">3</span> <span class="toctext">Enregistrer le résultat</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Comptes_et_projets"><span class="tocnumber">4</span> <span class="toctext">Comptes et projets</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Exemples_de_scripts"><span class="tocnumber">5</span> <span class="toctext">Exemples de scripts</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Tâches_séquentielles"><span class="tocnumber">5.1</span> <span class="toctext">Tâches séquentielles</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Lot_de_tâches"><span class="tocnumber">5.2</span> <span class="toctext">Lot de tâches</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Tâche_multifil_ou_tâche_OpenMP"><span class="tocnumber">5.3</span> <span class="toctext">Tâche multifil ou tâche OpenMP</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Tâche_MPI"><span class="tocnumber">5.4</span> <span class="toctext">Tâche MPI</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Tâche_GPU_(avec_processeur_graphique)"><span class="tocnumber">5.5</span> <span class="toctext">Tâche GPU (avec processeur graphique)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Tâches_interactives"><span class="tocnumber">6</span> <span class="toctext">Tâches interactives</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Suivi_des_tâches"><span class="tocnumber">7</span> <span class="toctext">Suivi des tâches</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Tâches_en_cours"><span class="tocnumber">7.1</span> <span class="toctext">Tâches en cours</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Obtenir_des_renseignements_par_courriel"><span class="tocnumber">7.1.1</span> <span class="toctext">Obtenir des renseignements par courriel</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Résultats_en_mémoire_tampon"><span class="tocnumber">7.1.2</span> <span class="toctext">Résultats en mémoire tampon</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Tâches_terminées"><span class="tocnumber">7.2</span> <span class="toctext">Tâches terminées</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Surveillance_d&#39;une_tâche_en_cours"><span class="tocnumber">7.3</span> <span class="toctext">Surveillance d'une tâche en cours</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Annuler_une_tâche"><span class="tocnumber">8</span> <span class="toctext">Annuler une tâche</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Resoumettre_une_tâche_pour_un_calcul_de_longue_durée"><span class="tocnumber">9</span> <span class="toctext">Resoumettre une tâche pour un calcul de longue durée</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Redémarrage_avec_des_vecteurs_de_tâches"><span class="tocnumber">9.1</span> <span class="toctext">Redémarrage avec des vecteurs de tâches</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Resoumettre_à_partir_d&#39;un_script"><span class="tocnumber">9.2</span> <span class="toctext">Resoumettre à partir d'un script</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#Automatiser_la_soumission_de_tâches"><span class="tocnumber">10</span> <span class="toctext">Automatiser la soumission de tâches</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Ne_pas_spécifier_de_partition"><span class="tocnumber">10.1</span> <span class="toctext">Ne pas spécifier de partition</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25"><a href="#Particularités_de_certaines_grappes"><span class="tocnumber">11</span> <span class="toctext">Particularités de certaines grappes</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#Dépannage"><span class="tocnumber">12</span> <span class="toctext">Dépannage</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Pour_éviter_les_caractères_cachés"><span class="tocnumber">12.1</span> <span class="toctext">Pour éviter les caractères cachés</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Annulation_de_tâches_dont_les_conditions_de_dépendance_ne_sont_pas_satisfaites"><span class="tocnumber">12.2</span> <span class="toctext">Annulation de tâches dont les conditions de dépendance ne sont pas satisfaites</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Module_non_chargé_par_une_tâche"><span class="tocnumber">12.3</span> <span class="toctext">Module non chargé par une tâche</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Propagation_de_variables_d’environnement"><span class="tocnumber">12.4</span> <span class="toctext">Propagation de variables d’environnement</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Tâche_gèle_/_pas_de_résultats_/_résultats_incomplets"><span class="tocnumber">12.5</span> <span class="toctext">Tâche gèle / pas de résultats / résultats incomplets</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32"><a href="#État_des_tâches_et_priorité"><span class="tocnumber">13</span> <span class="toctext">État des tâches et priorité</span></a></li>
<li class="toclevel-1 tocsection-33"><a href="#Pour_plus_d&#39;information"><span class="tocnumber">14</span> <span class="toctext">Pour plus d'information</span></a></li>
</ul>
</div>

<h2><span id="Soumettre_des_t.C3.A2ches_avec_sbatch"></span><span class="mw-headline" id="Soumettre_des_tâches_avec_sbatch">Soumettre des tâches avec <code>sbatch</code></span></h2>
<p>La commande <code>sbatch</code> est utilisée pour soumettre une tâche.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>sbatch<span class="w"> </span>simple_job.sh
Submitted<span class="w"> </span>batch<span class="w"> </span>job<span class="w"> </span><span class="m">123456</span>
</pre></div>
<p>Un script simple Slurm ressemble à ceci&#160;:
</p>
<div class="code-file">
<div class="filename"><b>File&#160;:</b> simple_job.sh</div>
<div class="download_form">
<p class="mw-empty-elt"></p><form action="/mediawiki/resources/assets/download.php" method="post">
<input type="hidden" name="text" value="%23%21%2Fbin%2Fbash%0A%23SBATCH+--time%3D00%3A15%3A00%0A%23SBATCH+--account%3Ddef-someuser%0Aecho+%27Hello%2C+world%21%27%0Asleep+30" />
<input type="hidden" name="filename" value="simple_job.sh" />
<input type="submit" value="" name="submit" class="download_submit" />
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="mw-highlight mw-highlight-lang-sh mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH --time=00:15:00</span>
<span class="c1">#SBATCH --account=def-someuser</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hello, world!&#39;</span>
sleep<span class="w"> </span><span class="m">30</span>
</pre></div>
</div>
<p><br />
</p><p>Sur les superordinateurs d'usage général, cette tâche réserve un (1) cœur et 256Mo de mémoire pendant 15 minutes. Sur <a href="/wiki/Niagara/fr" title="Niagara/fr">Niagara</a>, la tâche réserve le nœud entier avec toute sa mémoire.
Les directives (ou <i>options</i>) comprises dans le script ont le préfixe <code>#SBATCH</code> et doivent précéder toutes les commandes exécutables. La <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sbatch.html">page sbatch</a> décrit toutes les directives disponibles. Pour chaque tâche, notre politique demande de fournir au moins une durée (<code>--time</code>) et un nom de compte (<code>--account</code>); voyez la section <a class="mw-selflink-fragment" href="#Comptes_et_projets">Comptes et projets</a> ci-après.
</p><p>Les directives peuvent aussi être des arguments en ligne de commande pour  <code>sbatch</code>. Par exemple,
</p>
<pre> $ sbatch --time=00:30:00 simple_job.sh  
</pre>
<p>soumet le script présenté plus haut en limitant la durée à 30 minutes. Les formats de date valides sont minutes, minutesːsecondes, heuresːminutesːsecondes, jours-heures, jours-heuresːminutes, jours-heuresːminutesːsecondes. Sachez que la durée a une incidence importante sur le temps d'attente avant que la tâche soit exécutée. En effet, les tâches de longue durée sont <a href="/wiki/Job_scheduling_policies/fr" title="Job scheduling policies/fr">susceptibles d'être exécutées sur moins de nœuds</a>.
</p><p>L'exécution d'un script qui soumet plusieurs tâches à de courts intervalles risque d'affecter la disponibilité de l'ordonnanceur Slurm pour les autres utilisateurs et utilisatrices (voir l'information sur le message d'erreur <a href="/wiki/Frequently_Asked_Questions/fr#sbatch:_error:_Batch_job_submission_failed:_Socket_timed_out_on_send/recv_operation" title="Frequently Asked Questions/fr">Batch job submission failed: Socket timed out on send/recv operation</a>). Utilisez plutôt un <a class="mw-selflink-fragment" href="#Redémarrage_avec_des_vecteurs_de_tâches">vecteur de tâches</a> ou espacez les appels à <code>sbatch</code> de une seconde ou plus avec la commande <code>sleep</code>.
</p>
<h3><span id="M.C3.A9moire"></span><span class="mw-headline" id="Mémoire">Mémoire</span></h3>
<p>La quantité de mémoire peut être demandée avec <code>--mem-per-cpu</code> (mémoire par cœur) ou <code>--mem</code> (mémoire par nœud). Avec les grappes d'usage général, 256Mo par cœur sont alloués par défaut. Avec <a href="/wiki/Niagara/fr" title="Niagara/fr">Niagara</a>, il n'est pas nécessaire de spécifier la quantité de mémoire car seuls les nœuds entiers sont alloués avec toute la mémoire disponible.
</p><p>Une source commune de confusion est qu'une certaine quantité de la mémoire du nœud n'est pas disponible pour la tâche, étant réservée pour le système d'exploitation, etc.  Chaque type de nœud a donc une quantité maximum à la disposition des tâches; par exemple, les nœuds de 128Go sont configurés de façon à offrir 125Go pour l'exécution des tâches soumises. Si vous demandez plus que cette quantité, votre tâche devra être exécutée avec des nœuds de plus de mémoire qui pourraient être moins nombreux.
</p><p>Pour compliquer davantage, K, M, G, etc. sont interprétés par Slurm comme étant des <a rel="nofollow" class="external text" href="https://fr.wikipedia.org/wiki/Pr%C3%A9fixe_binaire">préfixes binaires</a>; ainsi <code>--mem=125G</code> équivaut à <code>--mem=128000M</code>. La quantité de mémoire que vous pouvez demander est indiquée dans le tableau <i>Caractéristiques des nœuds</i> pour <a href="/wiki/B%C3%A9luga#Caractéristiques_des_nœuds" title="Béluga">Béluga</a>, <a href="/wiki/Cedar/fr#Caractéristiques_des_nœuds" title="Cedar/fr">Cedar</a>, <a href="/wiki/Graham/fr#Caractéristiques_des_nœuds" title="Graham/fr">Graham</a> et <a href="/wiki/Narval#Caractéristiques_des_nœuds" title="Narval">Narval</a>.
</p>
<h2><span id="Lister_les_t.C3.A2ches_avec_squeue_ou_sq"></span><span class="mw-headline" id="Lister_les_tâches_avec_squeue_ou_sq">Lister les tâches avec <code>squeue</code> ou <code>sq</code></span></h2>
<p>La commande utilisée pour vérifier le statut des tâches Slurm est <code>squeue</code>; par défaut, elle fournit l'information sur <b>toutes</b> les tâches. La forme courte <code>sq</code> ne listera que vos propres tâches.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>$<span class="w"> </span>sq
<span class="w">   </span>JOBID<span class="w">     </span>USER<span class="w">      </span>ACCOUNT<span class="w">      </span>NAME<span class="w">  </span>ST<span class="w">   </span>TIME_LEFT<span class="w"> </span>NODES<span class="w"> </span>CPUS<span class="w">    </span>GRES<span class="w"> </span>MIN_MEM<span class="w"> </span>NODELIST<span class="w"> </span><span class="o">(</span>REASON<span class="o">)</span>
<span class="w">  </span><span class="m">123456</span><span class="w">   </span>smithj<span class="w">   </span>def-smithj<span class="w">  </span>simple_j<span class="w">   </span>R<span class="w">        </span><span class="m">0</span>:03<span class="w">     </span><span class="m">1</span><span class="w">    </span><span class="m">1</span><span class="w">  </span><span class="o">(</span>null<span class="o">)</span><span class="w">      </span>4G<span class="w"> </span>cdr234<span class="w">  </span><span class="o">(</span>None<span class="o">)</span>
<span class="w">  </span><span class="m">123457</span><span class="w">   </span>smithj<span class="w">   </span>def-smithj<span class="w">  </span>bigger_j<span class="w">  </span>PD<span class="w">  </span><span class="m">2</span>-00:00:00<span class="w">     </span><span class="m">1</span><span class="w">   </span><span class="m">16</span><span class="w">  </span><span class="o">(</span>null<span class="o">)</span><span class="w">     </span>16G<span class="w"> </span><span class="o">(</span>Priority<span class="o">)</span>
</pre></div>
<p>En sortie, la colonne ST montre l'état de chaque tâche. Les états les plus communs sont PD (<i>pending</i>) pour en attente, et R (<i>running</i>) pour en cours. 
</p><p>Pour plus d'information sur les résultats fournis par <code>sq</code> et <code>squeue</code>, et comment modifier les résultats, consultez la <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/squeue.html">documentation pour squeue</a>. <code>sq</code> est une commande créée pour nos environnements.
</p><p><b>N'exécutez pas</b> à plusieurs reprises et à de courts intervalles les commandes <code>squeue</code> ou <code>sq</code> à partir d'un script ou d'une application. Ceci surcharge Slurm et risque fort de nuire à sa performance ou à son bon fonctionnement. Pour savoir quand une tâche commence et se termine, voyez plutôt <a class="mw-selflink-fragment" href="#Obtenir_des_renseignements_par_courriel"> Obtenir des renseignements par courriel</a> ci-dessous.
</p>
<h2><span id="Enregistrer_le_r.C3.A9sultat"></span><span class="mw-headline" id="Enregistrer_le_résultat">Enregistrer le résultat</span></h2>
<p>Par défaut, le résultat est écrit dans un fichier dont le nom commence par <i>slurm-</i>, suivi de l'ID de la tâche et du suffixe <i>.out</i>, par exemple <code>slurm-123456.out</code>. La présence de l'ID dans le nom du fichier s'avère pratique pour le débogage. Le fichier est placé dans le répertoire à partir duquel la tâche a été soumise.
</p><p><br />
Si vous avez besoin de spécifier un endroit ou un nom différent, utilisez la commande <code>--output</code>. 
Le nom du fichier peut contenir certains symboles de remplacement, par exemple l'ID de la tâche, le nom de la tâche ou l'ID du <a href="/wiki/Job_arrays/fr" title="Job arrays/fr">vecteur de tâches</a>. Voyez la <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sbatch.html">page sbatch</a> pour la liste complète.
</p><p>Les erreurs paraissent normalement dans le même fichier que le résultat standard en sortie, tout comme si les commandes étaient données interactivement. Pour diriger le canal standard d'erreurs (stderr pour <i>standard error</i>) vers un autre fichier, utilisez <code>--error</code>.
</p>
<h2><span class="mw-headline" id="Comptes_et_projets">Comptes et projets</span></h2>
<p>Chaque tâche doit être associée à un nom de compte correspondant à un <a href="/wiki/Frequently_Asked_Questions_about_the_CCDB/fr#Qu.27est-ce_qu.27un_RAP.3F" title="Frequently Asked Questions about the CCDB/fr">RAP (pour <i>Resource Allocation Project</i></a>). Si vous êtes membre d'un seul compte, l'ordonnanceur associe automatiquement vos tâches à ce compte.
</p><p>Si vous recevez un des messages suivants en soumettant une tâche, vous avez accès à plus d'un compte.
</p>
<pre> You are associated with multiple _cpu allocations...
 Please specify one of the following accounts to submit this job:
</pre>
<pre> You are associated with multiple _gpu allocations...
 Please specify one of the following accounts to submit this job:
</pre> 
<p>Dans ce cas, utilisez la directive <code>--account</code> pour spécifier un des comptes listés dans le message d'erreur, par exemple
</p>
<pre>#SBATCH --account=def-user-ab
</pre>
<p>Pour connaître le nom du compte correspondant à un projet, 
connectez-vous à <a rel="nofollow" class="external text" href="https://ccdb.alliancecan.ca">CCDB</a> 
et cliquez sur <i>Mon compte -&gt; Mes ressources et allocations</i> pour faire afficher la liste des projets dont vous êtes membre. Le deuxième champ (<i>Nom du groupe</i>) 
contient la chaîne de caractères à utiliser avec la directive <code>--account</code>. Sachez qu'un projet qui a reçu une allocation de ressources  
peut être associé à une grappe en particulier (ou à un groupe de grappes) et qu'il se peut
qu'il ne puisse être transféré de cette grappe à une autre. 
</p><p>Dans l'exemple suivant, les tâches soumises par <code>--account=def-fuenma</code> seront attribuées à zhf-914-aa.
</p>
<figure class="mw-halign-left" typeof="mw:File/Frame"><a href="/wiki/File:Find-group-name-FR.png" class="mw-file-description"><img src="/mediawiki/images/7/72/Find-group-name-FR.png" decoding="async" width="750" height="372" class="mw-file-element" /></a><figcaption> Comment trouver le nom du groupe pour un projet d'allocation de ressources (RAP)</figcaption></figure>
<p><br clear="all" /> 
</p><p>Si vous prévoyez utiliser toujours le même compte pour toutes les tâches, vous trouverez utile de définir les variables d'environnement suivantes dans votre fichier <code>~/.bashrc</code>&#160;: 
</p>
<pre>export SLURM_ACCOUNT=def-someuser
export SBATCH_ACCOUNT=$SLURM_ACCOUNT
export SALLOC_ACCOUNT=$SLURM_ACCOUNT
</pre>
<p>Slurm utilisera dans le script la valeur de <code>SBATCH_ACCOUNT</code> plutôt que la directive <code>--account</code>. Même si vous spécifiez un nom de compte dans le script, <b>la variable d'environnement a priorité</b>. Pour remplacer la variable d'environnement, il faut fournir un nom de compte comme argument en ligne de commande avec <code>sbatch</code>.
</p><p><code>SLURM_ACCOUNT</code> joue le même rôle que <code>SBATCH_ACCOUNT</code>, mais pour la commande <code>srun</code> plutôt que <code>sbatch</code>. Il en est de même pour <code>SALLOC_ACCOUNT</code>.
</p>
<h2><span class="mw-headline" id="Exemples_de_scripts">Exemples de scripts</span></h2>
<h3><span id="T.C3.A2ches_s.C3.A9quentielles"></span><span class="mw-headline" id="Tâches_séquentielles">Tâches séquentielles</span></h3>
<p>Une tâche séquentielle est une tâche qui ne nécessite qu'un seul cœur. Il s'agit du type de tâche le plus simple dont un exemple se trouve ci-dessus dans la section <a href="#Soumettre_des_tâches_avec_sbatch">Soumettre des tâches avec sbatch</a>.
</p>
<h3><span id="Lot_de_t.C3.A2ches"></span><span class="mw-headline" id="Lot_de_tâches">Lot de tâches</span></h3>
<p>Un lot de tâches (<i>task array</i> ou <i>array job</i>) sert à soumettre un ensemble de tâches à l'aide d'une seule commande. Chacune des tâches du lot se distingue par la variable d'environnement <code>$SLURM_ARRAY_TASK_ID</code> comportant une valeur distincte pour chaque instance de la tâche. L'exemple suivant crée 10 tâches avec <code>$SLURM_ARRAY_TASK_ID</code> ayant les valeurs de 1 à 10&#160;:
</p><p><br />
</p>
<div class="code-file">
<div class="filename"><b>File&#160;:</b> array_job.sh</div>
<div class="download_form">
<p class="mw-empty-elt"></p><form action="/mediawiki/resources/assets/download.php" method="post">
<input type="hidden" name="text" value="%23%21%2Fbin%2Fbash%0A%23SBATCH+--account%3Ddef-someuser%0A%23SBATCH+--time%3D0-0%3A5%0A%23SBATCH+--array%3D1-10%0A.%2Fmyapplication+%24SLURM_ARRAY_TASK_ID" />
<input type="hidden" name="filename" value="array_job.sh" />
<input type="submit" value="" name="submit" class="download_submit" />
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="mw-highlight mw-highlight-lang-sh mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH --account=def-someuser</span>
<span class="c1">#SBATCH --time=0-0:5</span>
<span class="c1">#SBATCH --array=1-10</span>
./myapplication<span class="w"> </span><span class="nv">$SLURM_ARRAY_TASK_ID</span>
</pre></div>
</div>
<p><br />
</p><p>Voyez d'autres exemples à la page <a href="/wiki/Job_arrays/fr" title="Job arrays/fr">Vecteurs de tâches</a> et la documentation détaillée <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/job_array.html">Slurm de SchedMD.com</a>.
</p>
<h3><span id="T.C3.A2che_multifil_ou_t.C3.A2che_OpenMP"></span><span class="mw-headline" id="Tâche_multifil_ou_tâche_OpenMP">Tâche multifil ou tâche OpenMP</span></h3>
<p>Le prochain exemple comprend un seul processus et huit cœurs CPU. N'oubliez pas que pour utiliser OpenMP, une application doit avoir été compilée avec les indicateurs (<i>flags</i>) appropriés, soit <code>gcc -fopenmp ...</code> ou <code>icc -openmp ...</code>.
</p><p><br />
</p>
<div class="code-file">
<div class="filename"><b>File&#160;:</b> openmp_job.sh</div>
<div class="download_form">
<p class="mw-empty-elt"></p><form action="/mediawiki/resources/assets/download.php" method="post">
<input type="hidden" name="text" value="%23%21%2Fbin%2Fbash%0A%23SBATCH+--account%3Ddef-someuser%0A%23SBATCH+--time%3D0-0%3A5%0A%23SBATCH+--cpus-per-task%3D8%0Aexport+OMP_NUM_THREADS%3D%24SLURM_CPUS_PER_TASK%0A.%2FompHello" />
<input type="hidden" name="filename" value="openmp_job.sh" />
<input type="submit" value="" name="submit" class="download_submit" />
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="mw-highlight mw-highlight-lang-sh mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH --account=def-someuser</span>
<span class="c1">#SBATCH --time=0-0:5</span>
<span class="c1">#SBATCH --cpus-per-task=8</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="nv">$SLURM_CPUS_PER_TASK</span>
./ompHello
</pre></div>
</div>
<p><br />
</p>
<h3><span id="T.C3.A2che_MPI"></span><span class="mw-headline" id="Tâche_MPI">Tâche MPI</span></h3>
<p>Le prochain script lance quatre processus MPI, chacun nécessitant 1024Mo de mémoire. Le temps d'exécution est limité à cinq minutes. 
</p><p><br />
</p>
<div class="code-file">
<div class="filename"><b>File&#160;:</b> mpi_job.sh</div>
<div class="download_form">
<p class="mw-empty-elt"></p><form action="/mediawiki/resources/assets/download.php" method="post">
<input type="hidden" name="text" value="%23%21%2Fbin%2Fbash%0A%23SBATCH+--account%3Ddef-someuser%0A%23SBATCH+--ntasks%3D4+++++++++++++++%23+nombre+de+processus+MPI%0A%23SBATCH+--mem-per-cpu%3D1024M++++++%23+memoire+%28par+d%C3%A9faut+en+m%C3%A9gaoctets%29%0A%23SBATCH+--time%3D0-00%3A05+++++++++++%23+limite+de+temps+%28JJ-HH%3AMM%29%0Asrun+.%2Fmpi_program+++++++++++++++%23+mpirun+et+mpiexec+fonctionnent+aussi" />
<input type="hidden" name="filename" value="mpi_job.sh" />
<input type="submit" value="" name="submit" class="download_submit" />
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="mw-highlight mw-highlight-lang-sh mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH --account=def-someuser</span>
<span class="c1">#SBATCH --ntasks=4               # nombre de processus MPI</span>
<span class="c1">#SBATCH --mem-per-cpu=1024M      # memoire (par défaut en mégaoctets)</span>
<span class="c1">#SBATCH --time=0-00:05           # limite de temps (JJ-HH:MM)</span>
srun<span class="w"> </span>./mpi_program<span class="w">               </span><span class="c1"># mpirun et mpiexec fonctionnent aussi</span>
</pre></div>
</div>
<p><br />
</p><p>Les tâches intensives avec MPI, et spécifiquement celles qui peuvent utiliser efficacement des nœuds entiers, devraient utiliser <code>--nodes</code> et <code>--ntasks-per-node</code> plutôt que <code>--ntasks</code>. Il est aussi possible d'avoir des tâches hybrides qui sont à la fois exécutées en MPI et en fils multiples. Pour plus d'information sur les tâches distribuées en parallèle, consultez <a href="/wiki/Advanced_MPI_scheduling/fr" title="Advanced MPI scheduling/fr">Contrôle de l'ordonnancement avec MPI</a>.
</p><p>Pour plus d'information, consultez la page <a href="/wiki/OpenMP/fr" title="OpenMP/fr">OpenMP</a>.
</p>
<h3><span id="T.C3.A2che_GPU_.28avec_processeur_graphique.29"></span><span class="mw-headline" id="Tâche_GPU_(avec_processeur_graphique)">Tâche GPU (avec processeur graphique)</span></h3>
<p>Pour utiliser un GPU, il faut considérer plusieurs options, surtout parce que
</p>
<ul><li>les nœuds de <a href="/wiki/Cedar/fr" title="Cedar/fr">Cedar</a> et <a href="/wiki/Graham/fr" title="Graham/fr">Graham</a> qui sont équipés de GPU ne sont pas tous configurés uniformément,</li>
<li>il y a deux configurations différentes sur Cedar,</li>
<li>les politiques sont différentes pour les nœuds GPU de Cedar.</li></ul>
<p>Pour des informations et des exemples d'ordonnancement sur les ressources GPU, consultez <a href="/wiki/Using_GPUs_with_Slurm/fr" title="Using GPUs with Slurm/fr">Ordonnancement Slurm des tâches avec GPU</a>.
</p>
<h2><span id="T.C3.A2ches_interactives"></span><span class="mw-headline" id="Tâches_interactives">Tâches interactives</span></h2>
<p>Si la soumission de tâches en lot est la façon la plus efficace d'utiliser les grappes de Calcul Canada, il est cependant possible de soumettre des tâches interactivement,  ce qui peut s'avérer utile pour&#160;:
</p>
<ul><li>l'exploration de données en mode ligne de commande;</li>
<li>l'utilisation des outils de console interactifs de R et iPython;</li>
<li>les projets intensifs de développement, de débogage ou de compilation.</li></ul>
<p>Pour démarrer une session interactive sur un nœud de calcul, utilisez <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/salloc.html">salloc</a>. Dans l'exemple suivant, nous avons une tâche sur un cœur CPU et 3Go de mémoire, pour une durée d'une heure.
</p>
<pre>$ salloc --time=1:0:0 --mem-per-cpu=3G --ntasks=1 --account=def-someuser
salloc: Granted job allocation 1234567
$ ...             # do some work
$ exit            # terminate the allocation
salloc: Relinquishing job allocation 1234567
</pre>
<p>Il est aussi possible d'exécuter des applications graphiques en mode interactif sur un nœud de calcul en ajoutant l'indicateur <b>--x11</b> à la commande <code>salloc</code>. Pour ce faire, il faut d'abord activer la redirection X11 (<i>Enable X11 forwarding</i>); consultez la page <a href="/wiki/SSH/fr" title="SSH/fr">SSH</a>. Prenez note qu'une tâche interactive d'une durée de moins de trois (3) heures est susceptible d'être lancée peu de temps après sa soumission puisque nous leur avons dédié des nœuds de test. Les tâches de plus de trois (3) heures sont exécutées sur les nœuds réguliers d'une grappe et peuvent être en attente pour plusieurs heures et même plusieurs jours avant d'être lancées à un moment imprévisible et possiblement inopportun.
</p>
<h2><span id="Suivi_des_t.C3.A2ches"></span><span class="mw-headline" id="Suivi_des_tâches">Suivi des tâches</span></h2>
<h3><span id="T.C3.A2ches_en_cours"></span><span class="mw-headline" id="Tâches_en_cours">Tâches en cours</span></h3>
<p>Par défaut, <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/squeue.html">squeue</a> montre toutes les tâches gérées à ce moment par l'ordonnanceur. Le résultat sera plus rapide si vous demandez uniquement vos propres tâches avec
</p>
<pre> $ squeue -u $USER
</pre>
<p>Vous pouvez aussi utiliser la forme courte <code>sq</code>.
</p><p>Pour connaître les tâches en cours d'exécution ou en attente, utilisez
</p>
<pre>$ squeue -u &lt;username&gt; -t RUNNING
$ squeue -u &lt;username&gt; -t PENDING
</pre>
<p>Pour connaître les détails d'une tâche en particulier, utilisez <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/scontrol.html">scontrol</a>&#160;:
</p>
<pre>$ scontrol show job &lt;jobid&gt;
</pre>
<p><b>N'exécutez pas</b> la commande <code>squeue</code> à plusieurs reprises et à de courts intervalles à partir d'un script ou d'une application. Cette commande surcharge Slurm et risque fort de nuire à sa performance ou à son bon fonctionnement. 
</p>
<h4><span class="mw-headline" id="Obtenir_des_renseignements_par_courriel">Obtenir des renseignements par courriel</span></h4>
<p>Pour recevoir par courriel certains renseignements sur une tâche, utilisez les diverses options avec  
</p>
<pre>#SBATCH --mail-user=your.email@example.com
#SBATCH --mail-type=ALL
</pre>
<p><b>Utilisez ces options uniquement si vous avez l'intention de lire tous les messages qui seront générés.</b>
Il arrive que nos fournisseurs de service (Google, Yahoo, etc.) limitent le nombre de courriels en provenance de nos domaines parce que trop de messages sont générés. 
</p><p>Pour la liste des options pour <code>--mail-type</code>, consultez <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sbatch.html#OPT_mail-type">la documentation de SchedMD</a>.
</p>
<h4><span id="R.C3.A9sultats_en_m.C3.A9moire_tampon"></span><span class="mw-headline" id="Résultats_en_mémoire_tampon">Résultats en mémoire tampon</span></h4>
<p>Normalement, les résultats d'une tâche non interactive sont mis en mémoire tampon (<i>buffered</i>), ce qui veut dire qu'il y a habituellement un temps d'attente entre le moment où les données de la tâche sont enregistrées et celui où vous pouvez voir les résultats dans un nœud de connexion. Ce temps d'attente dépend de l'application que vous utilisez et de la charge exercée sur le système de fichiers; il peut varier de moins d'une seconde à jusqu'à ce que la tâche se termine.
</p><p>Il existe des façons de réduire ou même d'éliminer ce temps d'attente, mais elles ne sont pas recommandées parce que l'utilisation de la mémoire tampon assure la bonne performance générale du système de fichiers. Si vous avez besoin de faire le suivi des résultats d'une tâche <i>en temps réel</i>, utilisez plutôt une <a href="#Tâches_interactives">tâche interactive</a>, comme décrit ci-dessus.
</p>
<h3><span id="T.C3.A2ches_termin.C3.A9es"></span><span class="mw-headline" id="Tâches_terminées">Tâches terminées</span></h3>
<p>La commande <code>seff</code> permet d'obtenir un sommaire de l'efficacité en CPU et mémoire pour une tâche terminée.
</p>
<pre>$ seff 12345678
Job ID: 12345678
Cluster: cedar
User/Group: jsmith/jsmith
State: COMPLETED (exit code 0)
Cores: 1
CPU Utilized: 02:48:58
CPU Efficiency: 99.72% of 02:49:26 core-walltime
Job Wall-clock time: 02:49:26
Memory Utilized: 213.85 MB
Memory Efficiency: 0.17% of 125.00 GB
</pre>
<p>Pour avoir plus de renseignements sur une tâche complétée, utilisez <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sacct.html">sacct</a>; ajoutez <code>--format</code> pour savoir le résultat de la tâche, ainsi
</p>
<pre>$ sacct -j &lt;jobid&gt;
$ sacct -j &lt;jobid&gt; --format=JobID,JobName,MaxRSS,Elapsed
</pre>
<p>Le résultat de <code>sacct</code> inclut généralement des enregistrements <code>.bat+</code> et <code>.ext+</code>, et possiblement aussi <code>.0, .1, .2, ...</code>. 
L'étape <i>batch</i> (<code>.bat+</code>) est votre script de soumission; pour plusieurs tâches, c'est ici que s'effectue la plus grande part du travail et que les ressources sont consommées.
Si vous utilisez <code>srun</code> dans votre script de soumission, une étape <code>.0</code> serait créée, ce qui consommerait presque toutes les ressources.
L'étape externe (<code>.ext+</code>) est surtout en prologue et en épilogue et ne consomme habituellement pas une grande quantité de ressources.
</p><p>S'il y a défaillance d'un nœud au cours de l'exécution d'une tâche, celle-ci peut être relancée. <code>sacct</code> montre normalement le dernier enregistrement pour la dernière exécution (présumée réussie). Pour consulter tous les enregistrements relatifs à une tâche, ajoutez l'option <code>--duplicates</code>.
</p><p>Le champ MaxRSS donne la quantité de mémoire utilisée par une tâche; il retourne la valeur du plus grand <a rel="nofollow" class="external text" href="https://fr.wikipedia.org/wiki/Resident_set_size"><i>resident set size</i></a>. Pour connaître la tâche et le nœud en cause, imprimez aussi les champs MaxRSSTask et MaxRSSNode.
</p><p>La commande <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sstat.html">sstat</a> fournit des renseignements sur l'état d'une tâche en cours d'exécution; la commande  <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sacct.html">sacct</a> est utilisée pour les tâches qui sont terminées.
</p>
<h3><span id="Surveillance_d.27une_t.C3.A2che_en_cours"></span><span class="mw-headline" id="Surveillance_d'une_tâche_en_cours">Surveillance d'une tâche en cours</span></h3>
<p>Il est possible de se connecter à un nœud sur lequel une tâche est en cours et d'y exécuter de nouveaux processus. Ceci est utile en particulier pour des opérations de dépannage ou pour suivre le déroulement d'une tâche.
</p><p>L'utilitaire <a rel="nofollow" class="external text" href="https://developer.nvidia.com/nvidia-system-management-interface"><code>nvidia-smi</code></a> est employé pour surveiller l'utilisation d'un GPU sur un nœud où une tâche est en cours d'exécution. L'exemple suivant exécute <code>watch</code> sur le nœud qui à son tour lance <code>nvidia-smi</code> toutes les 30 secondes et affiche le résultat au terminal.
</p>
<pre>$ srun --jobid 123456 --pty watch -n 30 nvidia-smi
</pre>
<p>Plusieurs commandes de surveillance peuvent être lancées avec <a rel="nofollow" class="external text" href="https://fr.wikipedia.org/wiki/Tmux"><code>tmux</code></a>. L'exemple suivant exécute <code>htop</code> et <code>nvidia-smi</code> dans des fenêtres distinctes pour faire le suivi de l'activité sur le nœud où la tâche est exécutée.
</p>
<pre>$ srun --jobid 123456 --pty tmux new-session -d 'htop -u $USER' \; split-window -h 'watch nvidia-smi' \; attach
</pre>
<p>Les processus lancés avec <code>srun</code> partagent les ressources utilisées par la tâche en question. Il faut donc éviter de lancer des processus qui utiliseraient les ressources au détriment de la tâche. Dans les cas où les processus utilisent trop de ressources, la tâche pourrait être arrêtée; le fait d'utiliser trop de cycles CPU ralentit une tâche.
</p><p><b>Note ː</b> Dans les exemples précédents, <code>srun</code> fonctionne uniquement sur des tâches soumises avec <code>sbatch</code>. Pour faire le suivi d'une tâche interactive, ouvrez plusieurs fenêtres avec <code>tmux</code> et démarrez les processus dans des fenêtres distinctes.
</p>
<h2><span id="Annuler_une_t.C3.A2che"></span><span class="mw-headline" id="Annuler_une_tâche">Annuler une tâche</span></h2>
<p>Pour annuler une tâche, spécifiez son identifiant ainsi
</p>
<pre>$ scancel &lt;jobid&gt;
</pre>
<p>Annulez toutes vos tâches ou uniquement vos tâches qui sont en attente ainsi
</p>
<pre>$ scancel -u $USER
$ scancel -t PENDING -u $USER
</pre>
<h2><span id="Resoumettre_une_t.C3.A2che_pour_un_calcul_de_longue_dur.C3.A9e"></span><span class="mw-headline" id="Resoumettre_une_tâche_pour_un_calcul_de_longue_durée">Resoumettre une tâche pour un calcul de longue durée</span></h2>
<p>Pour les calculs nécessitant une durée plus longue que la limite de temps du système, l'application doit pouvoir gérer des <a href="/wiki/Points_de_contr%C3%B4le" title="Points de contrôle">points de contrôle</a>
(<i>checkpointing</i>). Elle doit aussi permettre la sauvegarde de son état intégral dans un fichier de point de contrôle (<i>checkpoint file</i>) et pouvoir redémarrer et poursuivre le calcul à partir du dernier état. 
</p><p>Plusieurs utilisateurs auront peu d'occasions de redémarrer un calcul, et ceci peut se faire manuellement. Dans certains cas cependant, des redémarrages fréquents sont requis et une certaine forme d'automatisation peut être appliquée. 
</p><p>Les deux méthodes recommandées sont 
</p>
<ul><li>l'utilisation de vecteurs de tâches (<i>job arrays</i>) Slurm;</li>
<li>la resoumission à partir de la fin du script.</li></ul>
<p>Consultez l'information sur le <a href="/wiki/Tutoriel_Apprentissage_machine#Morcellement_d&#39;une_longue_tâche" title="Tutoriel Apprentissage machine"> morcellement d'une longue tâche</a> dans notre <a href="/wiki/Tutoriel_Apprentissage_machine" title="Tutoriel Apprentissage machine">tutoriel en apprentissage machine</a>.
</p>
<h3><span id="Red.C3.A9marrage_avec_des_vecteurs_de_t.C3.A2ches"></span><span class="mw-headline" id="Redémarrage_avec_des_vecteurs_de_tâches">Redémarrage avec des vecteurs de tâches</span></h3>
<p>La syntaxe <code>--array=1-100%10</code> permet de soumettre une collection de tâches identiques en n'exécutant qu'une tâche à la fois.
Le script doit faire en sorte que le dernier point de contrôle soit toujours utilisé pour la prochaine tâche. Le nombre de redémarrages est spécifié avec l'argument <code>--array</code>.
</p><p>Dans l'exemple suivant en dynamique moléculaire, la simulation comporte 1 million d'étapes et dépasse la limite de temps imposée pour la grappe. La simulation peut cependant être divisée en 10 tâches de 100,000 étapes séquentielles. 
</p><p>Redémarrage d'une simulation avec un vecteur de tâches&#160;:
</p>
<div class="code-file">
<div class="filename"><b>File&#160;:</b> job_array_restart.sh</div>
<div class="download_form">
<p class="mw-empty-elt"></p><form action="/mediawiki/resources/assets/download.php" method="post">
<input type="hidden" name="text" value="%23%21%2Fbin%2Fbash%0A%23+---------------------------------------------------------------------%0A%23+script+Slurm+pour+une+t%C3%A2che+de+plusieurs+%C3%A9tapes+%0A%23+---------------------------------------------------------------------%0A%23SBATCH+--account%3Ddef-someuser%0A%23SBATCH+--cpus-per-task%3D1%0A%23SBATCH+--time%3D0-10%3A00%0A%23SBATCH+--mem%3D100M%0A%23SBATCH+--array%3D1-10%251+++%23+ex%C3%A9cuter+un+vecteur+de+10+t%C3%A2ches%2C+une+%C3%A0+la+fois%0A%23+---------------------------------------------------------------------%0Aecho+%22Current+working+directory%3A+%60pwd%60%22%0Aecho+%22Starting+run+at%3A+%60date%60%22%0A%23+---------------------------------------------------------------------%0Aecho+%22%22%0Aecho+%22Job+Array+ID+%2F+Job+ID%3A+%24SLURM_ARRAY_JOB_ID+%2F+%24SLURM_JOB_ID%22%0Aecho+%22This+is+job+%24SLURM_ARRAY_TASK_ID+out+of+%24SLURM_ARRAY_TASK_COUNT+jobs.%22%0Aecho+%22%22%0A%23+---------------------------------------------------------------------%0A%23+ex%C3%A9cuter+l%27%C3%A9tape+de+simulation+ici...%0A%0A%0Aif+test+-e+state.cpt%3B+then+%0A+++++%23+il+y+a+un+point+de+contr%C3%B4le%2C+red%C3%A9marrer%0A+++++mdrun+--restart+state.cpt%0Aelse%0A+++++%23+il+n%27y+a+pas+de+point+de+contr%C3%B4le%2C+commencer+une+nouvelle+simulation%0A+++++mdrun%0Afi%0A%0A%23+---------------------------------------------------------------------%0Aecho+%22Job+finished+with+exit+code+%24%3F+at%3A+%60date%60%22%0A%23+---------------------------------------------------------------------" />
<input type="hidden" name="filename" value="job_array_restart.sh" />
<input type="submit" value="" name="submit" class="download_submit" />
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="mw-highlight mw-highlight-lang-sh mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="c1"># script Slurm pour une tâche de plusieurs étapes </span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="c1">#SBATCH --account=def-someuser</span>
<span class="c1">#SBATCH --cpus-per-task=1</span>
<span class="c1">#SBATCH --time=0-10:00</span>
<span class="c1">#SBATCH --mem=100M</span>
<span class="c1">#SBATCH --array=1-10%1   # exécuter un vecteur de 10 tâches, une à la fois</span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Current working directory: `pwd`&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting run at: `date`&quot;</span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Job Array ID / Job ID: </span><span class="nv">$SLURM_ARRAY_JOB_ID</span><span class="s2"> / </span><span class="nv">$SLURM_JOB_ID</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;This is job </span><span class="nv">$SLURM_ARRAY_TASK_ID</span><span class="s2"> out of </span><span class="nv">$SLURM_ARRAY_TASK_COUNT</span><span class="s2"> jobs.&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="c1"># exécuter l&#39;étape de simulation ici...</span>


<span class="k">if</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>-e<span class="w"> </span>state.cpt<span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>
<span class="w">     </span><span class="c1"># il y a un point de contrôle, redémarrer</span>
<span class="w">     </span>mdrun<span class="w"> </span>--restart<span class="w"> </span>state.cpt
<span class="k">else</span>
<span class="w">     </span><span class="c1"># il n&#39;y a pas de point de contrôle, commencer une nouvelle simulation</span>
<span class="w">     </span>mdrun
<span class="k">fi</span>

<span class="c1"># ---------------------------------------------------------------------</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Job finished with exit code </span><span class="nv">$?</span><span class="s2"> at: `date`&quot;</span>
<span class="c1"># ---------------------------------------------------------------------</span>
</pre></div>
</div>
<p><br />
</p>
<h3><span id="Resoumettre_.C3.A0_partir_d.27un_script"></span><span class="mw-headline" id="Resoumettre_à_partir_d'un_script">Resoumettre à partir d'un script</span></h3>
<p>Dans le prochain exemple, la tâche exécute la première partie du calcul et enregistre un point de contrôle. 
Lorsque la première partie est terminée, mais avant que le temps d'exécution alloué pour la tâche ne soit échu,
le script vérifie si le calcul est terminé.
Si le calcul n'est pas terminé, le script soumet une copie de lui-même et poursuit le travail.
</p><p>Resoumission avec un script&#160;:
</p>
<div class="code-file">
<div class="filename"><b>File&#160;:</b> job_resubmission.sh</div>
<div class="download_form">
<p class="mw-empty-elt"></p><form action="/mediawiki/resources/assets/download.php" method="post">
<input type="hidden" name="text" value="%23%21%2Fbin%2Fbash%0A%23+---------------------------------------------------------------------%0A%23+script+Slurm+pour+resoumettre+une+t%C3%A2che+%0A%23+---------------------------------------------------------------------%0A%23SBATCH+--job-name%3Djob_chain%0A%23SBATCH+--account%3Ddef-someuser%0A%23SBATCH+--cpus-per-task%3D1%0A%23SBATCH+--time%3D0-10%3A00%0A%23SBATCH+--mem%3D100M%0A%23+---------------------------------------------------------------------%0Aecho+%22Current+working+directory%3A+%60pwd%60%22%0Aecho+%22Starting+run+at%3A+%60date%60%22%0A%23+---------------------------------------------------------------------%0A%23+ex%C3%A9cuter+l%27%C3%A9tape+de+simulation+ici...%0A%0Aif+test+-e+state.cpt%3B+then+%0A+++++%23+il+y+a+un+point+de+contr%C3%B4le%2C+red%C3%A9marrer%0A+++++mdrun+--restart+state.cpt%0Aelse%0A+++++%23+il+n%27y+a+pas+de+point+de+contr%C3%B4le%2C+commencer+une+nouvelle+simulation%0A+++++mdrun%0Afi%0A%0A%0A%23+resoumettre+si+le+travail+n%27est+pas+encore+termin%C3%A9%0A%23+d%C3%A9finir+la+fonction+work_should_continue%28%29%0Aif+work_should_continue%3B+then%0A+++++sbatch+%24%7BBASH_SOURCE%5B0%5D%7D%0Afi%0A%0A%23+---------------------------------------------------------------------%0Aecho+%22Job+finished+with+exit+code+%24%3F+at%3A+%60date%60%22%0A%23+---------------------------------------------------------------------" />
<input type="hidden" name="filename" value="job_resubmission.sh" />
<input type="submit" value="" name="submit" class="download_submit" />
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="mw-highlight mw-highlight-lang-sh mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="c1"># script Slurm pour resoumettre une tâche </span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="c1">#SBATCH --job-name=job_chain</span>
<span class="c1">#SBATCH --account=def-someuser</span>
<span class="c1">#SBATCH --cpus-per-task=1</span>
<span class="c1">#SBATCH --time=0-10:00</span>
<span class="c1">#SBATCH --mem=100M</span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Current working directory: `pwd`&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting run at: `date`&quot;</span>
<span class="c1"># ---------------------------------------------------------------------</span>
<span class="c1"># exécuter l&#39;étape de simulation ici...</span>

<span class="k">if</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>-e<span class="w"> </span>state.cpt<span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>
<span class="w">     </span><span class="c1"># il y a un point de contrôle, redémarrer</span>
<span class="w">     </span>mdrun<span class="w"> </span>--restart<span class="w"> </span>state.cpt
<span class="k">else</span>
<span class="w">     </span><span class="c1"># il n&#39;y a pas de point de contrôle, commencer une nouvelle simulation</span>
<span class="w">     </span>mdrun
<span class="k">fi</span>


<span class="c1"># resoumettre si le travail n&#39;est pas encore terminé</span>
<span class="c1"># définir la fonction work_should_continue()</span>
<span class="k">if</span><span class="w"> </span>work_should_continue<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">     </span>sbatch<span class="w"> </span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span>
<span class="k">fi</span>

<span class="c1"># ---------------------------------------------------------------------</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Job finished with exit code </span><span class="nv">$?</span><span class="s2"> at: `date`&quot;</span>
<span class="c1"># ---------------------------------------------------------------------</span>
</pre></div>
</div>
<p><br />
</p><p><b>Remarque ː</b> Le test servant à déterminer s'il faut soumettre une seconde tâche (<code>work_should_continue</code> dans notre exemple) doit être un <i>test positif</i>. Vous pourriez être tenté de vérifier l'existence d'une condition d'arrêt (par exemple, la rencontre d'un critère de convergence) et soumettre une seconde tâche si la condition <i>n'est pas détectée</i>. Cependant, si une erreur inattendue survient, la condition d'arrêt pourrait ne pas être repérée et la séquence de tâche se poursuivrait indéfiniment.
</p>
<h2><span id="Automatiser_la_soumission_de_t.C3.A2ches"></span><span class="mw-headline" id="Automatiser_la_soumission_de_tâches">Automatiser la soumission de tâches</span></h2>
<p>Comme nous l'avons déjà mentionné, <a class="mw-selflink-fragment" href="#Lot_de_tâches">les lots de tâches</a> peuvent être utilisés pour automatiser la soumission des tâches. Nous offrons quelques autres outils plus avancés pour l'exécution d'un grand nombre de tâches séquentielles, parallèles ou utilisant des GPU. Ces outils appliquent une technique nommée <i>farming</i>, <i>serial farming</i> ou <i>task farming</i> qui se traduit par <i>grappe de serveurs</i> et parfois <i>ferme de serveurs</i> ou <i>ferme de calcul</i>.  En plus d'automatiser le flux du travail, ces outils améliorent l'efficacité du traitement en regroupant plusieurs petites tâches de calcul pour créer moins de tâches, mais qui ont des durées plus longues.
</p><p>Les outils suivants sont disponibles sur nos grappes&#160;:
</p>
<ul><li><a href="/wiki/META-Farm/fr" title="META-Farm/fr"> META-Farm</a></li>
<li><a href="/wiki/GNU_Parallel/fr" title="GNU Parallel/fr"> GNU Parallel</a></li>
<li><a href="/wiki/GLOST/fr" title="GLOST/fr"> GLOST</a></li></ul>
<h3><span id="Ne_pas_sp.C3.A9cifier_de_partition"></span><span class="mw-headline" id="Ne_pas_spécifier_de_partition">Ne pas spécifier de partition</span></h3>
<p>Avec certains paquets logiciels comme <a rel="nofollow" class="external text" href="https://github.com/alekseyzimin/masurca">Masurca</a>, les tâches sont soumises à Slurm de façon automatique et le logiciel s'attend à ce qu'une partition soit spécifiée pour chacune des tâches. Ceci est contraire à nos meilleures pratiques qui veulent que l'ordonnanceur assigne les tâches de lui-même, selon les ressources requises. Si vous utilisez un tel logiciel, vous pouvez le configurer afin qu'il utilise <code>--partition=default</code> pour que le script l'interprète comme si aucune partition n'est spécifiée.
</p>
<h2><span id="Particularit.C3.A9s_de_certaines_grappes"></span><span class="mw-headline" id="Particularités_de_certaines_grappes">Particularités de certaines grappes</span></h2>
<p>Les politiques d'ordonnancement ne sont pas les mêmes sur toutes nos grappes.
</p>
<form id="tabs-inputform" class="tabs tabs-inputform" action="#"></form><div class="tabs tabs-tabbox"><input type="radio" form="tabs-inputform" id="tabs-input-1-0" name="tabs-1" class="tabs-input tabs-input-0" checked="" /><input type="radio" form="tabs-inputform" id="tabs-input-1-1" name="tabs-1" class="tabs-input tabs-input-1" /><label class="tabs-label" for="tabs-input-1-1" data-tabpos="1">Béluga</label><wbr /><input type="radio" form="tabs-inputform" id="tabs-input-1-2" name="tabs-1" class="tabs-input tabs-input-2" /><label class="tabs-label" for="tabs-input-1-2" data-tabpos="2">Cedar</label><wbr /><input type="radio" form="tabs-inputform" id="tabs-input-1-3" name="tabs-1" class="tabs-input tabs-input-3" /><label class="tabs-label" for="tabs-input-1-3" data-tabpos="3">Graham</label><wbr /><input type="radio" form="tabs-inputform" id="tabs-input-1-4" name="tabs-1" class="tabs-input tabs-input-4" /><label class="tabs-label" for="tabs-input-1-4" data-tabpos="4">Narval</label><wbr /><input type="radio" form="tabs-inputform" id="tabs-input-1-5" name="tabs-1" class="tabs-input tabs-input-5" /><label class="tabs-label" for="tabs-input-1-5" data-tabpos="5">Niagara</label><wbr /><div class="tabs-container" style="">
<div class="tabs-content tabs-content-1">
<p>La durée maximale d'une tâche est de 168 heures (7 jours) et le nombre maximum de tâches en exécution ou en attente dans la queue est de 1000 par utilisateur. La durée d'une tâche en production devrait être d'au moins une heure. 
</p>
</div>
<div class="tabs-content tabs-content-2">
<p>Les tâches ne peuvent pas être exécutées à partir de répertoires du système de fichiers <code>/home</code>; ceci a pour but de diminuer la charge et d'améliorer le temps de réponse en mode interactif. La durée maximale d'une tâche est de 28 jours. Si la commande <code>readlink -f $(pwd) | cut -d/ -f2</code> retourne le message <code>you are not permitted to submit jobs from that directory</code>, transférez les fichiers vers un répertoire <code>/project</code> ou <code>/scratch</code> et soumettez la tâche à partir du nouvel emplacement.
</p>
</div>
<div class="tabs-content tabs-content-3">
<p>La durée maximale d'une tâche est de 168 heures (7 jours) et le nombre maximum de tâches en exécution ou en attente dans la queue est de 1000 par utilisateur. La durée d'une tâche en production devrait être d'au moins une heure. 
</p>
</div>
<div class="tabs-content tabs-content-4">
<p>La durée maximale d'une tâche est de 168 heures (7 jours) et le nombre maximum de tâches en exécution ou en attente dans la queue est de 1000 par utilisateur. La durée d'une tâche en production devrait être d'au moins une heure. 
</p>
</div>
<div class="tabs-content tabs-content-5">
<ul>
<li><p>L'ordonnancement se fait par nœud, donc en multiples de 40 cœurs.</p></li>
<li><p> La durée d'exécution maximale d'une tâche est de 24 heures.</p></li>
<li><p>L'écriture doit se faire dans les répertoires <i>scratch</i> ou <i>project</i> (sur les nœuds de calcul, <i>home</i> est en lecture seulement).</p></li>
<li><p>Les nœuds de calcul n'ont pas d'accès internet.</p>
<p><a href="/wiki/Data_management_at_Niagara/fr#Déplacer_des_données" title="Data management at Niagara/fr">Déplacez vos données</a> vers Niagara avant de soumettre votre tâche.</p></li></ul>
</div>
</div></div>
<h2><span id="D.C3.A9pannage"></span><span class="mw-headline" id="Dépannage">Dépannage</span></h2>
<h4><span id="Pour_.C3.A9viter_les_caract.C3.A8res_cach.C3.A9s"></span><span class="mw-headline" id="Pour_éviter_les_caractères_cachés">Pour éviter les caractères cachés</span></h4>
<p>Le fait d'utiliser un logiciel de traitement de texte plutôt qu'un éditeur de texte peut causer des problèmes à vos scripts. En travaillant sur la grappe directement, il est préférable d'utiliser un éditeur comme nano, vim ou emacs. Si vous préparez vos scripts hors ligne,
</p>
<ul><li><b>sous Windows</b>
<ul><li>utilisez un éditeur de texte comme Notepad  ou <a rel="nofollow" class="external text" href="https://notepad-plus-plus.org/">Notepad++</a></li>
<li>téléversez le script et changez les codes de fin de ligne Windows pour des codes de fin de ligne Linux avec <code>dos2unix</code></li></ul></li>
<li><b>sous Mac</b>
<ul><li>dans une fenêtre de terminal, utilisez un éditeur comme nano, vim ou emacs</li></ul></li></ul>
<h4><span id="Annulation_de_t.C3.A2ches_dont_les_conditions_de_d.C3.A9pendance_ne_sont_pas_satisfaites"></span><span class="mw-headline" id="Annulation_de_tâches_dont_les_conditions_de_dépendance_ne_sont_pas_satisfaites">Annulation de tâches dont les conditions de dépendance ne sont pas satisfaites</span></h4>
<p>Une tâche dépendante soumise avec <code>--dependency=afterok:&lt;jobid&gt;</code> attend que la tâche parent soit terminée avant de s'exécuter. Si la tâche parent s'arrête avant sa fin (c'est-à-dire qu'elle produit un code de sortie non nul), la tâche dépendante ne sera jamais exécutée et elle est automatiquement annulée. Pour plus d'information sur la dépendance, voir <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sbatch.html#OPT_dependency">sbatch</a>.
</p>
<h4><span id="Module_non_charg.C3.A9_par_une_t.C3.A2che"></span><span class="mw-headline" id="Module_non_chargé_par_une_tâche">Module non chargé par une tâche</span></h4>
<p>L'erreur suivante peut survenir si une condition n'est pas satisfaite&#160;:
</p>
<pre>Lmod has detected the following error: These module(s) exist but cannot be
loaded as requested: "&lt;module-name&gt;/&lt;version&gt;"
   Try: "module spider &lt;module-name&gt;/&lt;version&gt;" to see how to load the module(s).
</pre>
<p>Par exemple,
</p>
<div class="mw-highlight mw-highlight-lang-console mw-content-ltr" dir="ltr"><pre><span></span><span class="gp">$ </span>module<span class="w"> </span>load<span class="w"> </span>gcc
<span class="gp">$ </span>module<span class="w"> </span>load<span class="w"> </span>quantumespresso/6.1
<span class="go">Lmod has detected the following error:  These module(s) exist but cannot be loaded as requested: &quot;quantumespresso/6.1&quot;</span>
<span class="go">   Try: &quot;module spider quantumespresso/6.1&quot; to see how to load the module(s).</span>
<span class="gp">$ </span>module<span class="w"> </span>spider<span class="w"> </span>quantumespresso/6.1

<span class="go">-----------------------------------------</span>
<span class="go">  quantumespresso: quantumespresso/6.1</span>
<span class="go">------------------------------------------</span>
<span class="go">    Description:</span>
<span class="go">      Quantum ESPRESSO is an integrated suite of computer codes for electronic-structure calculations and materials modeling at the nanoscale. It is based on density-functional theory, plane waves, and pseudopotentials (both</span>
<span class="go">      norm-conserving and ultrasoft).</span>

<span class="go">    Properties:</span>
<span class="go">      Chemistry libraries/apps / Logiciels de chimie</span>

<span class="go">    You will need to load all module(s) on any one of the lines below before the &quot;quantumespresso/6.1&quot; module is available to load.</span>

<span class="go">      nixpkgs/16.09  intel/2016.4  openmpi/2.1.1</span>

<span class="go">    Help:</span>

<span class="go">      Description</span>
<span class="go">      ===========</span>
<span class="go">      Quantum ESPRESSO  is an integrated suite of computer codes</span>
<span class="go">       for electronic-structure calculations and materials modeling at the nanoscale.</span>
<span class="go">       It is based on density-functional theory, plane waves, and pseudopotentials</span>
<span class="go">        (both norm-conserving and ultrasoft).</span>


<span class="go">      More information</span>
<span class="go">      ================</span>
<span class="go">       - Homepage: http://www.pwscf.org/</span>
</pre></div>
<p>Pour résoudre ce problème, ajoutez au script la ligne <code>module load nixpkgs/16.09 intel/2016.4 openmpi/2.1.1</code> avant de charger quantumespresso/6.1
</p>
<h4><span id="Propagation_de_variables_d.E2.80.99environnement"></span><span class="mw-headline" id="Propagation_de_variables_d’environnement">Propagation de variables d’environnement</span></h4>
<p>Par défaut, une tâche hérite des variables d’environnement de l’interpréteur (<i>shell</i>) duquel elle a été lancée. La commande de <a href="/wiki/Utiliser_des_modules" title="Utiliser des modules">chargement d’un module</a> modifie et configure les variables d’environnement qui se propagent ensuite aux tâches soumises à partir de l’interpréteur. Une tâche pourrait donc se trouver incapable de charger des modules si toutes les conditions ne sont pas satisfaites. Il est donc recommandé d’ajouter au script la ligne <code>module purge</code> avant le chargement des modules dont vous avez besoin pour faire en sorte que les tâches soient soumises de manière uniforme et qu’elles ne soient pas affectées par les modifications faites dans l’interpréteur.
</p><p>Les problèmes sont quelquefois difficiles à diagnostiquer quand les paramètres de l'environnement sont hérités de l'interpréteur qui soumet la tâche; la directive <code>--export=none</code> empêche ce type d'héritage.
</p>
<h4><span id="T.C3.A2che_g.C3.A8le_.2F_pas_de_r.C3.A9sultats_.2F_r.C3.A9sultats_incomplets"></span><span class="mw-headline" id="Tâche_gèle_/_pas_de_résultats_/_résultats_incomplets">Tâche gèle / pas de résultats / résultats incomplets</span></h4>
<p>Il arrive qu'aucun résultat (ou seulement une partie) ne soit enregistré dans le fichier <code>.out</code> pour une tâche qui a été soumise, et qu'il semble qu'elle soit arrêtée. Ceci se produit surtout parce que la <a href="#Résultats_en_mémoire_tampon">mise en mémoire tampon</a> effectuée par l'ordonnanceur Slurm est agressive, car il regroupe plusieurs lignes de résultat avant de les acheminer vers le fichier, et souvent celui-ci n'est produit que quand la tâche se termine. Pire encore, si une tâche est annulée ou manque de temps, une partie des résultats peut être perdue. Si vous voulez suivre le progrès de la tâche en cours au fur et à mesure de son exécution, vous pouvez le faire avec une <a href="#Tâches_interactives">tâche interactive</a>. C'est aussi une bonne façon d'observer combien de temps la tâche a besoin.
</p>
<h2><span id=".C3.89tat_des_t.C3.A2ches_et_priorit.C3.A9"></span><span class="mw-headline" id="État_des_tâches_et_priorité">État des tâches et priorité</span></h2>
<ul><li>Consultez <a href="/wiki/Job_scheduling_policies/fr" title="Job scheduling policies/fr">Politique d'ordonnancement des tâches</a> pour des renseignements sur la politique de priorisation des tâches sur Cedar et Graham et connaître les éléments pouvant influer sur l'ordonnancement de vos tâches.</li>
<li>Si des tâches <b>dans votre groupe de recherche</b> sont en concurrence entre elles, consultez <a href="/wiki/Managing_Slurm_accounts/fr" title="Managing Slurm accounts/fr">Gestion des comptes Slurm</a>.</li></ul>
<h2><span id="Pour_plus_d.27information"></span><span class="mw-headline" id="Pour_plus_d'information">Pour plus d'information</span></h2>
<ul><li>SchedMD&#160;: <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/documentation.html">documentation Slurm</a> et <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/tutorials.html">tutoriels</a>
<ul><li>options pour la commande <a rel="nofollow" class="external text" href="https://slurm.schedmd.com/sbatch.html">sbatch</a></li></ul></li>
<li><a rel="nofollow" class="external text" href="https://slurm.schedmd.com/rosetta.pdf">correspondance de commandes et directives</a> Slurm avec PBS/Torque, LSF, SGE et LoadLeveler</li>
<li>CÉCI, Belgique&#160;: <a rel="nofollow" class="external text" href="http://www.ceci-hpc.be/slurm_tutorial.html">tutoriel Slurm</a></li>
<li>Bright Computing&#160;: tutoriel concis <a rel="nofollow" class="external text" href="http://www.brightcomputing.com/blog/bid/174099/slurm-101-basic-slurm-usage-for-linux-clusters">Slurm sous Unix</a></li></ul>
<p><a href="/mediawiki/index.php?title=Categorie:SLURM&amp;action=edit&amp;redlink=1" class="new" title="Categorie:SLURM (page does not exist)">Categorie:SLURM</a>
</p>
<!-- 
NewPP limit report
Cached time: 20250530235136
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.065 seconds
Real time usage: 0.370 seconds
Preprocessor visited node count: 519/1000000
Post‐expand include size: 5949/2097152 bytes
Template argument size: 6890/2097152 bytes
Highest expansion depth: 6/100
Expensive parser function count: 9/100
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 22049/5000000 bytes
ExtLoops count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  314.867      1 -total
 99.52%  313.368      6 Template:File
  0.13%    0.404      1 Template:Box
-->

<!-- Saved in parser cache with key ccwiki:pcache:idhash:2540-0!canonical and timestamp 20250530235136 and revision id 173016. Rendering was triggered because: page-view
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://docs.alliancecan.ca/mediawiki/index.php?title=Running_jobs/fr&amp;oldid=173016">https://docs.alliancecan.ca/mediawiki/index.php?title=Running_jobs/fr&amp;oldid=173016</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/mediawiki/index.php?title=Category:Pages_using_deprecated_source_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using deprecated source tags (page does not exist)">Pages using deprecated source tags</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		
<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-uls" class="mw-list-item active"><a class="uls-trigger" href="#"><span>English</span></a></li><li id="pt-login" class="mw-list-item"><a href="/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Running+jobs%2Ffr" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li>
		</ul>
		
	</div>
</nav>

		<div id="left-navigation">
			
<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy vector-menu" aria-labelledby="p-namespaces-label"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-main" class="selected mw-list-item"><a href="/wiki/Running_jobs/fr" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="new mw-list-item"><a href="/mediawiki/index.php?title=Talk:Running_jobs/fr&amp;action=edit&amp;redlink=1" rel="discussion" class="new" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
		</ul>
		
	</div>
</nav>

			
<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown vector-menu" aria-labelledby="p-variants-label"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	>
	<label
		id="p-variants-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">français</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			
<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy vector-menu" aria-labelledby="p-views-label"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected mw-list-item"><a href="/wiki/Running_jobs/fr"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="/mediawiki/index.php?title=Running_jobs/fr&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="/mediawiki/index.php?title=Running_jobs/fr&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</nav>

			
<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-menu" aria-labelledby="p-cactions-label"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<h3 >Search</h3>
	<form action="/mediawiki/index.php" id="searchform" class="vector-search-box-form">
		<div id="simpleSearch"
			class="vector-search-box-inner"
			 data-search-loc="header-navigation">
			<input class="vector-search-box-input"
				 type="search" name="search" placeholder="Search Alliance Doc" aria-label="Search Alliance Doc" autocapitalize="sentences" title="Search Alliance Doc [f]" accesskey="f" id="searchInput"
			>
			<input type="hidden" name="title" value="Special:Search">
			<input id="mw-searchButton"
				 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
			<input id="searchButton"
				 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel" class="vector-legacy-sidebar">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Technical_documentation"
			title="Visit the main page"></a>
	</div>
	
<nav id="p-navigation" class="mw-portlet mw-portlet-navigation vector-menu-portal portal vector-menu" aria-labelledby="p-navigation-label"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-wiki-main-page" class="mw-list-item"><a href="/wiki/Technical_documentation"><span>Wiki Main Page</span></a></li>
		</ul>
		
	</div>
</nav>

	
<nav id="p-sidebar-support" class="mw-portlet mw-portlet-sidebar-support vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-support-label"  >
	<h3
		id="p-sidebar-support-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Support</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-getting-started" class="mw-list-item"><a href="/wiki/Getting_started"><span>Getting started</span></a></li><li id="n-sidebar-technical-support" class="mw-list-item"><a href="/wiki/Technical_support"><span>Getting help</span></a></li><li id="n-sidebar-running-jobs" class="mw-list-item"><a href="/wiki/Running_jobs"><span>Running jobs</span></a></li><li id="n-sidebar-known-issues" class="mw-list-item"><a href="/wiki/Known_issues"><span>Known issues</span></a></li><li id="n-sidebar-system-status" class="mw-list-item"><a href="http://status.computecanada.ca" rel="nofollow"><span>System status</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-resources" class="mw-portlet mw-portlet-sidebar-resources vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-resources-label"  >
	<h3
		id="p-sidebar-resources-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Resources</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-Béluga" class="mw-list-item"><a href="/wiki/B%C3%A9luga/en"><span>Béluga</span></a></li><li id="n-Cedar" class="mw-list-item"><a href="/wiki/Cedar"><span>Cedar</span></a></li><li id="n-Graham" class="mw-list-item"><a href="/wiki/Graham"><span>Graham</span></a></li><li id="n-Narval" class="mw-list-item"><a href="/wiki/Narval/en"><span>Narval</span></a></li><li id="n-Niagara" class="mw-list-item"><a href="/wiki/Niagara"><span>Niagara</span></a></li><li id="n-sidebar-cloud" class="mw-list-item"><a href="/wiki/CC-Cloud"><span>Cloud</span></a></li><li id="n-tamIA" class="mw-list-item"><a href="/wiki/TamIA/en"><span>tamIA</span></a></li><li id="n-Killarney" class="mw-list-item"><a href="/wiki/Killarney"><span>Killarney</span></a></li><li id="n-sidebar-quantum-computing" class="mw-list-item"><a href="/wiki/Services_d%27informatique_quantique/en"><span>Quantum computing</span></a></li><li id="n-sidebar-available-software" class="mw-list-item"><a href="/wiki/Available_software"><span>Available software</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-alliance" class="mw-portlet mw-portlet-sidebar-alliance vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-alliance-label"  >
	<h3
		id="p-sidebar-alliance-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">The Alliance</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-alliance-main-page" class="mw-list-item"><a href="https://alliancecan.ca/en" rel="nofollow"><span>Alliance main page</span></a></li><li id="n-sidebar-ccdb" class="mw-list-item"><a href="https://ccdb.computecanada.ca/security/login" rel="nofollow"><span>CCDB</span></a></li><li id="n-sidebar-getting-an-account" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/account-management/apply-account" rel="nofollow"><span>Getting An Account</span></a></li><li id="n-sidebar-acknowledging-alliance" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/research-portal/acknowledging-alliance" rel="nofollow"><span>Acknowledging the Alliance</span></a></li><li id="n-sidebar-aup" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/account-management/policies" rel="nofollow"><span>Acceptable Use Policy</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-authoring" class="mw-portlet mw-portlet-sidebar-authoring vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-authoring-label"  >
	<h3
		id="p-sidebar-authoring-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Authoring</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-guidelines" class="mw-list-item"><a href="/wiki/Authoring_guidelines"><span>Guidelines</span></a></li><li id="n-sidebar-mediawiki-help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu-portal portal vector-menu" aria-labelledby="p-tb-label"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/Running_jobs/fr" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/Running_jobs/fr" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/mediawiki/index.php?title=Running_jobs/fr&amp;oldid=173016" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/mediawiki/index.php?title=Running_jobs/fr&amp;action=info" title="More information about this page"><span>Page information</span></a></li>
		</ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 19 February 2025, at 21:37.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="/wiki/CCWiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/CCWiki:About">About Alliance Doc</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/CCWiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://docs.alliancecan.ca/mediawiki/index.php?title=Running_jobs/fr&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/mediawiki/resources/assets/poweredby_mediawiki.svg" alt="Powered by MediaWiki" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.log.warn("This page is using the deprecated ResourceLoader module \"codex-search-styles\".\n[1.43] Use a CodexModule with codexComponents to set your specific components used: https://www.mediawiki.org/wiki/Codex#Using_a_limited_subset_of_components");});</script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-TVBPRD78K4" async=""></script><script>
window.dataLayer = window.dataLayer || [];

function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-TVBPRD78K4', {});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":489,"wgPageParseReport":{"limitreport":{"cputime":"0.065","walltime":"0.370","ppvisitednodes":{"value":519,"limit":1000000},"postexpandincludesize":{"value":5949,"limit":2097152},"templateargumentsize":{"value":6890,"limit":2097152},"expansiondepth":{"value":6,"limit":100},"expensivefunctioncount":{"value":9,"limit":100},"unstrip-depth":{"value":1,"limit":20},"unstrip-size":{"value":22049,"limit":5000000},"timingprofile":["100.00%  314.867      1 -total"," 99.52%  313.368      6 Template:File","  0.13%    0.404      1 Template:Box"]},"loops":{"limitreport-count-limited":{"value":0,"limit":100}},"cachereport":{"timestamp":"20250530235136","ttl":86400,"transientcontent":false}}});});</script>
</body>
</html>