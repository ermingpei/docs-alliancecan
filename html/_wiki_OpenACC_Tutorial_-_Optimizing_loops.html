<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>OpenACC Tutorial - Optimizing loops - Alliance Doc</title>
<script>(function(){var className="client-js";var cookie=document.cookie.match(/(?:^|; )ccwikimwclientpreferences=([^;]+)/);if(cookie){cookie[1].split('%2C').forEach(function(pref){className=className.replace(new RegExp('(^| )'+pref.replace(/-clientpref-\w+$|[^\w-]+/g,'')+'-clientpref-\\w+( |$)'),'$1'+pref+'$2');});}document.documentElement.className=className;}());RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"aDpE2KdG8FmGoo1wBErE8wAAAxA","wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OpenACC_Tutorial_-_Optimizing_loops","wgTitle":"OpenACC Tutorial - Optimizing loops","wgCurRevisionId":14358,"wgRevisionId":14358,"wgArticleId":194,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"
],"wgCategories":[],"wgPageViewLanguage":"en","wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"OpenACC_Tutorial_-_Optimizing_loops","wgRelevantArticleId":194,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgULSAcceptLanguageList":[],"wgMFDisplayWikibaseDescriptions":{"search":false,"watchlist":false,"tagline":false},"wgCiteReferencePreviewsActive":true,"wgTranslatePageTranslation":"source","wgULSPosition":"personal","wgULSisCompactLinksEnabled":true,"wgVector2022LanguageInHeader":false,"wgULSisLanguageSelectorEmpty":false};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.translate.tag.languages":"ready","ext.pygments":"ready","skins.vector.styles.legacy":"ready","ext.translate.edit.documentation.styles":"ready","ext.translate":"ready","codex-search-styles":"ready","ext.uls.pt":"ready"};RLPAGEMODULES=["ext.pygments.view",
"mediawiki.page.media","site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js","ext.languageSelector","ext.translate.pagetranslation.uls","ext.uls.compactlinks","ext.uls.geoclient","ext.uls.interface","ext.moderation.notify","ext.moderation.notify.desktop"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
<link rel="stylesheet" href="/mediawiki/load.php?lang=en&amp;modules=codex-search-styles%7Cext.pygments%2Ctranslate%7Cext.translate.edit.documentation.styles%7Cext.translate.tag.languages%7Cext.uls.pt%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector">
<script async="" src="/mediawiki/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="/mediawiki/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector">
<meta name="generator" content="MediaWiki 1.43.0">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=1120">
<link rel="icon" href="/mediawiki/resources/assets/Alliance_favicon.png">
<link rel="search" type="application/opensearchdescription+xml" href="/mediawiki/rest.php/v1/search" title="Alliance Doc (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://docs.alliancecan.ca/mediawiki/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="Alliance Doc Atom feed" href="/mediawiki/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="skin-vector-legacy mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-OpenACC_Tutorial_-_Optimizing_loops rootpage-OpenACC_Tutorial_-_Optimizing_loops skin-vector action-view"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	<div id="mw-indicator-languageselector" class="mw-indicator"><span id="languageselector-box-1" class="languageselector " style=""><form name="languageselector-form-1" id="languageselector-form-1" method="get" action="/mediawiki/index.php" style="display:inline;"><input type="hidden" value="OpenACC_Tutorial_-_Optimizing_loops" name="title"><select name="setlang" id="languageselector-select-1" style=""><option value="aae">Arbërisht</option><option value="ab">аԥсшәа</option><option value="abs">bahasa ambon</option><option value="ace">Acèh</option><option value="acf">Kwéyòl Sent Lisi</option><option value="acm">عراقي</option><option value="ady">адыгабзэ</option><option value="ady-cyrl">адыгабзэ</option><option value="aeb">تونسي / Tûnsî</option><option value="aeb-arab">تونسي</option><option value="aeb-latn">Tûnsî</option><option value="af">Afrikaans</option><option value="aln">Gegë</option><option value="alt">алтай тил</option><option value="am">አማርኛ</option><option value="ami">Pangcah</option><option value="an">aragonés</option><option value="ang">Ænglisc</option><option value="ann">Obolo</option><option value="anp">अंगिका</option><option value="apc">شامي</option><option value="ar">العربية</option><option value="arc">ܐܪܡܝܐ</option><option value="arn">mapudungun</option><option value="arq">جازايرية</option><option value="ary">الدارجة</option><option value="arz">مصرى</option><option value="as">অসমীয়া</option><option value="ase">American sign language</option><option value="ast">asturianu</option><option value="atj">Atikamekw</option><option value="av">авар</option><option value="avk">Kotava</option><option value="awa">अवधी</option><option value="ay">Aymar aru</option><option value="az">azərbaycanca</option><option value="azb">تۆرکجه</option><option value="ba">башҡортса</option><option value="ban">Basa Bali</option><option value="ban-bali">ᬩᬲᬩᬮᬶ</option><option value="bar">Boarisch</option><option value="bbc">Batak Toba</option><option value="bbc-latn">Batak Toba</option><option value="bcc">جهلسری بلوچی</option><option value="bci">wawle</option><option value="bcl">Bikol Central</option><option value="bdr">Bajau Sama</option><option value="be">беларуская</option><option value="be-tarask">беларуская (тарашкевіца)</option><option value="bew">Betawi</option><option value="bg">български</option><option value="bgc">हरियाणवी</option><option value="bgn">روچ کپتین بلوچی</option><option value="bh">भोजपुरी</option><option value="bho">भोजपुरी</option><option value="bi">Bislama</option><option value="bjn">Banjar</option><option value="blk">ပအိုဝ်ႏဘာႏသာႏ</option><option value="bm">bamanankan</option><option value="bn">বাংলা</option><option value="bo">བོད་ཡིག</option><option value="bpy">বিষ্ণুপ্রিয়া মণিপুরী</option><option value="bqi">بختیاری</option><option value="br">brezhoneg</option><option value="brh">Bráhuí</option><option value="bs">bosanski</option><option value="btm">Batak Mandailing</option><option value="bto">Iriga Bicolano</option><option value="bug">Basa Ugi</option><option value="bxr">буряад</option><option value="ca">català</option><option value="cbk-zam">Chavacano de Zamboanga</option><option value="ccp">𑄌𑄋𑄴𑄟𑄳𑄦</option><option value="cdo">閩東語 / Mìng-dĕ̤ng-ngṳ̄</option><option value="ce">нохчийн</option><option value="ceb">Cebuano</option><option value="ch">Chamoru</option><option value="chn">chinuk wawa</option><option value="chr">ᏣᎳᎩ</option><option value="chy">Tsetsêhestâhese</option><option value="ckb">کوردی</option><option value="co">corsu</option><option value="cps">Capiceño</option><option value="cpx">莆仙語 / Pó-sing-gṳ̂</option><option value="cpx-hans">莆仙语（简体）</option><option value="cpx-hant">莆仙語（繁體）</option><option value="cr">Nēhiyawēwin / ᓀᐦᐃᔭᐍᐏᐣ</option><option value="crh">qırımtatarca</option><option value="crh-cyrl">къырымтатарджа (Кирилл)</option><option value="crh-latn">qırımtatarca (Latin)</option><option value="crh-ro">tatarşa</option><option value="cs">čeština</option><option value="csb">kaszëbsczi</option><option value="cu">словѣньскъ / ⰔⰎⰑⰂⰡⰐⰠⰔⰍⰟ</option><option value="cv">чӑвашла</option><option value="cy">Cymraeg</option><option value="da">dansk</option><option value="dag">dagbanli</option><option value="de">Deutsch</option><option value="de-at">Österreichisches Deutsch</option><option value="de-ch">Schweizer Hochdeutsch</option><option value="de-formal">Deutsch (Sie-Form)</option><option value="dga">Dagaare</option><option value="din">Thuɔŋjäŋ</option><option value="diq">Zazaki</option><option value="dsb">dolnoserbski</option><option value="dtp">Kadazandusun</option><option value="dty">डोटेली</option><option value="dua">Duálá</option><option value="dv">ދިވެހިބަސް</option><option value="dz">ཇོང་ཁ</option><option value="ee">eʋegbe</option><option value="efi">Efịk</option><option value="egl">emiliàn e rumagnòl</option><option value="el">Ελληνικά</option><option value="eml">emiliàn e rumagnòl</option><option value="en" selected="">English</option><option value="en-ca">Canadian English</option><option value="en-gb">British English</option><option value="eo">Esperanto</option><option value="es">español</option><option value="es-formal">español (formal)</option><option value="et">eesti</option><option value="eu">euskara</option><option value="ext">estremeñu</option><option value="fa">فارسی</option><option value="fat">mfantse</option><option value="ff">Fulfulde</option><option value="fi">suomi</option><option value="fit">meänkieli</option><option value="fj">Na Vosa Vakaviti</option><option value="fo">føroyskt</option><option value="fon">fɔ̀ngbè</option><option value="fr">français</option><option value="frc">français cadien</option><option value="frp">arpetan</option><option value="frr">Nordfriisk</option><option value="fur">furlan</option><option value="fy">Frysk</option><option value="ga">Gaeilge</option><option value="gaa">Ga</option><option value="gag">Gagauz</option><option value="gan">贛語</option><option value="gan-hans">赣语（简体）</option><option value="gan-hant">贛語（繁體）</option><option value="gcf">kréyòl Gwadloup</option><option value="gcr">kriyòl gwiyannen</option><option value="gd">Gàidhlig</option><option value="gl">galego</option><option value="gld">на̄ни</option><option value="glk">گیلکی</option><option value="gn">Avañe'ẽ</option><option value="gom">गोंयची कोंकणी / Gõychi Konknni</option><option value="gom-deva">गोंयची कोंकणी</option><option value="gom-latn">Gõychi Konknni</option><option value="gor">Bahasa Hulontalo</option><option value="got">𐌲𐌿𐍄𐌹𐍃𐌺</option><option value="gpe">Ghanaian Pidgin</option><option value="grc">Ἀρχαία ἑλληνικὴ</option><option value="gsw">Alemannisch</option><option value="gu">ગુજરાતી</option><option value="guc">wayuunaiki</option><option value="gur">farefare</option><option value="guw">gungbe</option><option value="gv">Gaelg</option><option value="ha">Hausa</option><option value="hak">客家語 / Hak-kâ-ngî</option><option value="haw">Hawaiʻi</option><option value="he">עברית</option><option value="hi">हिन्दी</option><option value="hif">Fiji Hindi</option><option value="hif-latn">Fiji Hindi</option><option value="hil">Ilonggo</option><option value="hno">ہندکو</option><option value="hr">hrvatski</option><option value="hrx">Hunsrik</option><option value="hsb">hornjoserbsce</option><option value="hsn">湘語</option><option value="ht">Kreyòl ayisyen</option><option value="hu">magyar</option><option value="hu-formal">magyar (formal)</option><option value="hy">հայերեն</option><option value="hyw">Արեւմտահայերէն</option><option value="ia">interlingua</option><option value="iba">Jaku Iban</option><option value="ibb">ibibio</option><option value="id">Bahasa Indonesia</option><option value="ie">Interlingue</option><option value="ig">Igbo</option><option value="igl">Igala</option><option value="ii">ꆇꉙ</option><option value="ik">Iñupiatun</option><option value="ike-cans">ᐃᓄᒃᑎᑐᑦ</option><option value="ike-latn">inuktitut</option><option value="ilo">Ilokano</option><option value="inh">гӀалгӀай</option><option value="io">Ido</option><option value="is">íslenska</option><option value="isv-cyrl">меджусловјанскы</option><option value="isv-latn">medžuslovjansky</option><option value="it">italiano</option><option value="iu">ᐃᓄᒃᑎᑐᑦ / inuktitut</option><option value="ja">日本語</option><option value="jam">Patois</option><option value="jbo">la .lojban.</option><option value="jut">jysk</option><option value="jv">Jawa</option><option value="ka">ქართული</option><option value="kaa">Qaraqalpaqsha</option><option value="kab">Taqbaylit</option><option value="kai">Karai-karai</option><option value="kbd">адыгэбзэ</option><option value="kbd-cyrl">адыгэбзэ</option><option value="kbp">Kabɩyɛ</option><option value="kcg">Tyap</option><option value="kea">kabuverdianu</option><option value="kg">Kongo</option><option value="kge">Kumoring</option><option value="khw">کھوار</option><option value="ki">Gĩkũyũ</option><option value="kiu">Kırmancki</option><option value="kjh">хакас</option><option value="kjp">ဖၠုံလိက်</option><option value="kk">қазақша</option><option value="kk-arab">قازاقشا (تٴوتە)</option><option value="kk-cn">قازاقشا (جۇنگو)</option><option value="kk-cyrl">қазақша (кирил)</option><option value="kk-kz">қазақша (Қазақстан)</option><option value="kk-latn">qazaqşa (latın)</option><option value="kk-tr">qazaqşa (Türkïya)</option><option value="kl">kalaallisut</option><option value="km">ភាសាខ្មែរ</option><option value="kn">ಕನ್ನಡ</option><option value="knc">Yerwa Kanuri</option><option value="ko">한국어</option><option value="ko-kp">조선말</option><option value="koi">перем коми</option><option value="kr">kanuri</option><option value="krc">къарачай-малкъар</option><option value="kri">Krio</option><option value="krj">Kinaray-a</option><option value="krl">karjal</option><option value="ks">कॉशुर / کٲشُر</option><option value="ks-arab">کٲشُر</option><option value="ks-deva">कॉशुर</option><option value="ksh">Ripoarisch</option><option value="ksw">စှီၤ</option><option value="ku">kurdî</option><option value="ku-arab">کوردی (عەرەبی)</option><option value="ku-latn">kurdî (latînî)</option><option value="kum">къумукъ</option><option value="kus">Kʋsaal</option><option value="kv">коми</option><option value="kw">kernowek</option><option value="ky">кыргызча</option><option value="la">Latina</option><option value="lad">Ladino</option><option value="lb">Lëtzebuergesch</option><option value="lbe">лакку</option><option value="lez">лезги</option><option value="lfn">Lingua Franca Nova</option><option value="lg">Luganda</option><option value="li">Limburgs</option><option value="lij">Ligure</option><option value="liv">Līvõ kēļ</option><option value="lki">لەکی</option><option value="lld">Ladin</option><option value="lmo">lombard</option><option value="ln">lingála</option><option value="lo">ລາວ</option><option value="loz">Silozi</option><option value="lrc">لۊری شومالی</option><option value="lt">lietuvių</option><option value="ltg">latgaļu</option><option value="lua">ciluba</option><option value="lus">Mizo ţawng</option><option value="luz">لئری دوٙمینی</option><option value="lv">latviešu</option><option value="lzh">文言</option><option value="lzz">Lazuri</option><option value="mad">Madhurâ</option><option value="mag">मगही</option><option value="mai">मैथिली</option><option value="map-bms">Basa Banyumasan</option><option value="mdf">мокшень</option><option value="mg">Malagasy</option><option value="mhr">олык марий</option><option value="mi">Māori</option><option value="min">Minangkabau</option><option value="mk">македонски</option><option value="ml">മലയാളം</option><option value="mn">монгол</option><option value="mnc">manju gisun</option><option value="mnc-latn">manju gisun</option><option value="mnc-mong">ᠮᠠᠨᠵᡠ ᡤᡳᠰᡠᠨ</option><option value="mni">ꯃꯤꯇꯩ ꯂꯣꯟ</option><option value="mnw">ဘာသာမန်</option><option value="mo">молдовеняскэ</option><option value="mos">moore</option><option value="mr">मराठी</option><option value="mrh">Mara</option><option value="mrj">кырык мары</option><option value="ms">Bahasa Melayu</option><option value="ms-arab">بهاس ملايو</option><option value="mt">Malti</option><option value="mui">Baso Palembang</option><option value="mwl">Mirandés</option><option value="my">မြန်မာဘာသာ</option><option value="myv">эрзянь</option><option value="mzn">مازِرونی</option><option value="na">Dorerin Naoero</option><option value="nah">Nāhuatl</option><option value="nan">閩南語 / Bân-lâm-gú</option><option value="nan-hant">閩南語（傳統漢字）</option><option value="nan-latn-pehoeji">Bân-lâm-gú (Pe̍h-ōe-jī)</option><option value="nan-latn-tailo">Bân-lâm-gú (Tâi-lô)</option><option value="nap">Napulitano</option><option value="nb">norsk bokmål</option><option value="nds">Plattdüütsch</option><option value="nds-nl">Nedersaksies</option><option value="ne">नेपाली</option><option value="new">नेपाल भाषा</option><option value="nia">Li Niha</option><option value="nit">కొలామి</option><option value="niu">Niuē</option><option value="nl">Nederlands</option><option value="nl-informal">Nederlands (informeel)</option><option value="nmz">nawdm</option><option value="nn">norsk nynorsk</option><option value="nod">ᨣᩤᩴᨾᩮᩬᩥᨦ</option><option value="nog">ногайша</option><option value="nov">Novial</option><option value="nqo">ߒߞߏ</option><option value="nr">isiNdebele seSewula</option><option value="nrm">Nouormand</option><option value="nso">Sesotho sa Leboa</option><option value="nup">Nupe</option><option value="nv">Diné bizaad</option><option value="ny">Chi-Chewa</option><option value="nyn">runyankore</option><option value="nyo">Orunyoro</option><option value="nys">Nyunga</option><option value="oc">occitan</option><option value="ojb">Ojibwemowin</option><option value="olo">livvinkarjala</option><option value="om">Oromoo</option><option value="or">ଓଡ଼ିଆ</option><option value="os">ирон</option><option value="pa">ਪੰਜਾਬੀ</option><option value="pag">Pangasinan</option><option value="pam">Kapampangan</option><option value="pap">Papiamentu</option><option value="pcd">Picard</option><option value="pcm">Naijá</option><option value="pdc">Deitsch</option><option value="pdt">Plautdietsch</option><option value="pfl">Pälzisch</option><option value="pi">पालि</option><option value="pih">Norfuk / Pitkern</option><option value="pl">polski</option><option value="pms">Piemontèis</option><option value="pnb">پنجابی</option><option value="pnt">Ποντιακά</option><option value="prg">prūsiskan</option><option value="ps">پښتو</option><option value="pt">português</option><option value="pt-br">português do Brasil</option><option value="pwn">pinayuanan</option><option value="qqq">Message documentation</option><option value="qu">Runa Simi</option><option value="qug">Runa shimi</option><option value="rgn">Rumagnôl</option><option value="rif">Tarifit</option><option value="rki">ရခိုင်</option><option value="rm">rumantsch</option><option value="rmc">romaňi čhib</option><option value="rmy">romani čhib</option><option value="rn">ikirundi</option><option value="ro">română</option><option value="roa-tara">tarandíne</option><option value="rsk">руски</option><option value="ru">русский</option><option value="rue">русиньскый</option><option value="rup">armãneashti</option><option value="ruq">Vlăheşte</option><option value="ruq-cyrl">Влахесте</option><option value="ruq-latn">Vlăheşte</option><option value="rut">мыхаӀбишды</option><option value="rw">Ikinyarwanda</option><option value="ryu">うちなーぐち</option><option value="sa">संस्कृतम्</option><option value="sah">саха тыла</option><option value="sat">ᱥᱟᱱᱛᱟᱲᱤ</option><option value="sc">sardu</option><option value="scn">sicilianu</option><option value="sco">Scots</option><option value="sd">سنڌي</option><option value="sdc">Sassaresu</option><option value="sdh">کوردی خوارگ</option><option value="se">davvisámegiella</option><option value="se-fi">davvisámegiella (Suoma bealde)</option><option value="se-no">davvisámegiella (Norgga bealde)</option><option value="se-se">davvisámegiella (Ruoŧa bealde)</option><option value="sei">Cmique Itom</option><option value="ses">Koyraboro Senni</option><option value="sg">Sängö</option><option value="sgs">žemaitėška</option><option value="sh">srpskohrvatski / српскохрватски</option><option value="sh-cyrl">српскохрватски (ћирилица)</option><option value="sh-latn">srpskohrvatski (latinica)</option><option value="shi">Taclḥit</option><option value="shn">ၽႃႇသႃႇတႆး </option><option value="shy">tacawit</option><option value="shy-latn">tacawit</option><option value="si">සිංහල</option><option value="sjd">кӣллт са̄мь кӣлл</option><option value="sje">bidumsámegiella</option><option value="sk">slovenčina</option><option value="skr">سرائیکی</option><option value="skr-arab">سرائیکی</option><option value="sl">slovenščina</option><option value="sli">Schläsch</option><option value="sm">Gagana Samoa</option><option value="sma">åarjelsaemien</option><option value="smn">anarâškielâ</option><option value="sms">nuõrttsääʹmǩiõll</option><option value="sn">chiShona</option><option value="so">Soomaaliga</option><option value="sq">shqip</option><option value="sr">српски / srpski</option><option value="sr-ec">српски (ћирилица)</option><option value="sr-el">srpski (latinica)</option><option value="srn">Sranantongo</option><option value="sro">sardu campidanesu</option><option value="ss">SiSwati</option><option value="st">Sesotho</option><option value="stq">Seeltersk</option><option value="sty">себертатар</option><option value="su">Sunda</option><option value="sv">svenska</option><option value="sw">Kiswahili</option><option value="syl">ꠍꠤꠟꠐꠤ</option><option value="szl">ślůnski</option><option value="szy">Sakizaya</option><option value="ta">தமிழ்</option><option value="tay">Tayal</option><option value="tcy">ತುಳು</option><option value="tdd">ᥖᥭᥰ ᥖᥬᥲ ᥑᥨᥒᥰ</option><option value="te">తెలుగు</option><option value="tet">tetun</option><option value="tg">тоҷикӣ</option><option value="tg-cyrl">тоҷикӣ</option><option value="tg-latn">tojikī</option><option value="th">ไทย</option><option value="ti">ትግርኛ</option><option value="tig">ትግሬ</option><option value="tk">Türkmençe</option><option value="tl">Tagalog</option><option value="tly">tolışi</option><option value="tn">Setswana</option><option value="to">lea faka-Tonga</option><option value="tok">toki pona</option><option value="tpi">Tok Pisin</option><option value="tr">Türkçe</option><option value="tru">Ṫuroyo</option><option value="trv">Seediq</option><option value="ts">Xitsonga</option><option value="tt">татарча / tatarça</option><option value="tt-cyrl">татарча</option><option value="tt-latn">tatarça</option><option value="ttj">Orutooro</option><option value="tum">chiTumbuka</option><option value="tw">Twi</option><option value="ty">reo tahiti</option><option value="tyv">тыва дыл</option><option value="tzm">ⵜⴰⵎⴰⵣⵉⵖⵜ</option><option value="udm">удмурт</option><option value="ug">ئۇيغۇرچە / Uyghurche</option><option value="ug-arab">ئۇيغۇرچە</option><option value="ug-latn">Uyghurche</option><option value="uk">українська</option><option value="ur">اردو</option><option value="uz">oʻzbekcha / ўзбекча</option><option value="ve">Tshivenda</option><option value="vec">vèneto</option><option value="vep">vepsän kel’</option><option value="vi">Tiếng Việt</option><option value="vls">West-Vlams</option><option value="vmf">Mainfränkisch</option><option value="vmw">emakhuwa</option><option value="vo">Volapük</option><option value="vot">Vaďďa</option><option value="vro">võro</option><option value="wa">walon</option><option value="wal">wolaytta</option><option value="war">Winaray</option><option value="wls">Fakaʻuvea</option><option value="wo">Wolof</option><option value="wuu">吴语</option><option value="wuu-hans">吴语（简体）</option><option value="wuu-hant">吳語（正體）</option><option value="xal">хальмг</option><option value="xh">isiXhosa</option><option value="xmf">მარგალური</option><option value="xsy">saisiyat</option><option value="yi">ייִדיש</option><option value="yo">Yorùbá</option><option value="yrl">Nhẽẽgatú</option><option value="yue">粵語</option><option value="yue-hans">粵语（简体）</option><option value="yue-hant">粵語（繁體）</option><option value="za">Vahcuengh</option><option value="zea">Zeêuws</option><option value="zgh">ⵜⴰⵎⴰⵣⵉⵖⵜ ⵜⴰⵏⴰⵡⴰⵢⵜ</option><option value="zh">中文</option><option value="zh-cn">中文（中国大陆）</option><option value="zh-hans">中文（简体）</option><option value="zh-hant">中文（繁體）</option><option value="zh-hk">中文（香港）</option><option value="zh-mo">中文（澳門）</option><option value="zh-my">中文（马来西亚）</option><option value="zh-sg">中文（新加坡）</option><option value="zh-tw">中文（臺灣）</option><option value="zu">isiZulu</option></select><input id="languageselector-commit-1" style="" type="submit" value="set"></form></span></div>
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">OpenACC Tutorial - Optimizing loops</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Alliance Doc</div>
		<div id="contentSub"><div id="mw-content-subtitle"></div></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content"><div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="en" dir="ltr">English</span></li>
<li><a href="/wiki/OpenACC_Tutorial_-_Optimizing_loops/fr" class="mw-pt-progress mw-pt-progress--complete" title="Tutoriel OpenACC : Optimisation des boucles (100% translated)" lang="fr" dir="ltr">français</a></li></ul></div>
<p><br />
</p>
<div class="panel objectives"><div class="panel-heading objectives"><div class="panel-heading-icon objectives"></div><div class="panel-heading-title">Learning objectives</div></div>
<div class="panel-body objectives">
<ul><li>Understand the various levels of parallelism on a GPU</li>
<li>Understand compiler messages telling how parallelization was performed.</li>
<li>Learn how to get optimization advices out of the visual profiler</li>
<li>Learn how to tell the compiler what parameters to user for parallelization.</li></ul>
</div></div>
<p><br />
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Being_smarter_than_the_compiler"><span class="tocnumber">1</span> <span class="toctext">Being smarter than the compiler</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Levels_of_parallelism_OpenACC"><span class="tocnumber">2</span> <span class="toctext">Levels of parallelism OpenACC</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#OpenACC_clauses_to_control_parallelism"><span class="tocnumber">3</span> <span class="toctext">OpenACC clauses to control parallelism</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Specifying_the_type_of_device_the_clause_applies_to"><span class="tocnumber">3.1</span> <span class="toctext">Specifying the type of device the clause applies to</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Specifying_the_size_of_each_level_of_parallelism"><span class="tocnumber">3.2</span> <span class="toctext">Specifying the size of each level of parallelism</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Controlling_vector_length"><span class="tocnumber">4</span> <span class="toctext">Controlling vector length</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Guided_analysis_with_the_NVidia_Visual_Profiler"><span class="tocnumber">5</span> <span class="toctext">Guided analysis with the NVidia Visual Profiler</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Adding_more_workers"><span class="tocnumber">6</span> <span class="toctext">Adding more workers</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Other_optimization_clauses"><span class="tocnumber">7</span> <span class="toctext">Other optimization clauses</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Bonus_exercise"><span class="tocnumber">8</span> <span class="toctext">Bonus exercise</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Being_smarter_than_the_compiler">Being smarter than the compiler</span></h2>
<p>So far, the compiler did a pretty good job. We obtained a gain of about 3 in performance in the previous steps, compared to the CPU performance. It is now time to look more closely at how the compiler parallelized our code and see if we can give it some tips. In order to do so, we will need to understand the different levels of parallelism that can be used in OpenACC, and more specifically with an NVidia GPU. But first, lets look at some compiler feedback that we got while compiling the latest version (in steps2.kernels). 
</p>
<div>
<div style="float:right; margin-left:8px">
<p><span typeof="mw:File"><a href="https://explainshell.com/explain?cmd=pgc%2B%2B+-fast+-ta%3Dtesla%2Clineinfo+-Minfo%3Dall%2Cintensity%2Cccff+++-c+-o+main.o+main.cpp" rel="nofollow"><img src="/mediawiki/images/thumb/3/30/Question.png/40px-Question.png" decoding="async" width="40" height="40" class="mw-file-element" srcset="/mediawiki/images/thumb/3/30/Question.png/60px-Question.png 1.5x, /mediawiki/images/thumb/3/30/Question.png/80px-Question.png 2x" /></a></span>
</p>
</div>
<div class="command">
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="o">[</span>name@server<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>pgc++<span class="w"> </span>-fast<span class="w"> </span>-ta<span class="o">=</span>tesla,lineinfo<span class="w"> </span>-Minfo<span class="o">=</span>all,intensity,ccff<span class="w">   </span>-c<span class="w"> </span>-o<span class="w"> </span>main.o<span class="w"> </span>main.cpp
...
initialize_vector<span class="o">(</span>vector<span class="w"> </span><span class="p">&amp;</span>,<span class="w"> </span>double<span class="o">)</span>:
...
<span class="w">          </span><span class="m">42</span>,<span class="w"> </span><span class="nv">Intensity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0
<span class="w">              </span>Loop<span class="w"> </span>is<span class="w"> </span>parallelizable
<span class="w">              </span>Accelerator<span class="w"> </span>kernel<span class="w"> </span>generated
<span class="w">              </span>Generating<span class="w"> </span>Tesla<span class="w"> </span>code
<span class="w">              </span><span class="m">42</span>,<span class="w"> </span><span class="c1">#pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */</span>
dot<span class="o">(</span>const<span class="w"> </span>vector<span class="w"> </span><span class="p">&amp;</span>,<span class="w"> </span>const<span class="w"> </span>vector<span class="w"> </span><span class="p">&amp;</span><span class="o">)</span>:
...
<span class="w">          </span><span class="m">29</span>,<span class="w"> </span><span class="nv">Intensity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.00<span class="w">    </span>
<span class="w">              </span>Loop<span class="w"> </span>is<span class="w"> </span>parallelizable
<span class="w">              </span>Accelerator<span class="w"> </span>kernel<span class="w"> </span>generated
<span class="w">              </span>Generating<span class="w"> </span>Tesla<span class="w"> </span>code
<span class="w">              </span><span class="m">29</span>,<span class="w"> </span><span class="c1">#pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */</span>
<span class="w">              </span><span class="m">30</span>,<span class="w"> </span>Sum<span class="w"> </span>reduction<span class="w"> </span>generated<span class="w"> </span><span class="k">for</span><span class="w"> </span>sum
waxpby<span class="o">(</span>double,<span class="w"> </span>const<span class="w"> </span>vector<span class="w"> </span><span class="p">&amp;</span>,<span class="w"> </span>double,<span class="w"> </span>const<span class="w"> </span>vector<span class="w"> </span><span class="p">&amp;</span>,<span class="w"> </span>const<span class="w"> </span>vector<span class="w"> </span><span class="p">&amp;</span><span class="o">)</span>:
...
<span class="w">          </span><span class="m">44</span>,<span class="w"> </span><span class="nv">Intensity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.00<span class="w">    </span>
<span class="w">              </span>Loop<span class="w"> </span>is<span class="w"> </span>parallelizable
<span class="w">              </span>Accelerator<span class="w"> </span>kernel<span class="w"> </span>generated
<span class="w">              </span>Generating<span class="w"> </span>Tesla<span class="w"> </span>code
<span class="w">              </span><span class="m">44</span>,<span class="w"> </span><span class="c1">#pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */</span>
</pre></div>
</div>
</div>
<p>Note that each loop is parallelized using <tt>vector(128)</tt>. This means that the compiler generated instructions for chunk of data of length 128. This is where the programmer has an advantage over the compiler. Indeed, if you look in the file <tt>matrix.h</tt>, you will see that each row of the matrix has 27 elements. This means that the compiler generated instructions which waste computation on 101 elements. We will see how to fix that below.
</p>
<h2><span class="mw-headline" id="Levels_of_parallelism_OpenACC">Levels of parallelism OpenACC</span></h2>
<p>There are three levels of parallelism that can be used in OpenACC. They are called <tt>vector</tt>, <tt>worker</tt>, and <tt>gang</tt>. 
</p>
<ul><li><tt>vector</tt> threads perform a single operation on multiple data (SIMD) in a single step. If there are fewer data than the length of the vector, the operation is still performed on null values and the result is discarded.</li>
<li>A <tt>worker</tt> computes one <tt>vector</tt></li>
<li>A <tt>gang</tt> comprises of one or multiple <tt>worker</tt>s. All <tt>worker</tt>s within a <tt>gang</tt> can share resources, such as cache memory or processor.</li></ul>
<p>Multiple <tt>gang</tt>s run completely independently. 
</p><p><br />
</p>
<div class="panel callout"><div class="panel-heading callout"><div class="panel-heading-icon callout"></div><div class="panel-heading-title">Correspondance between OpenACC and CUDA</div></div>
<div class="panel-body callout">
<p>Because OpenACC is meant as a language for generic accelerators, there is no direct mapping to CUDA's threads, blocks and warps. Version 2.0 of the standard only states that <tt>gang</tt> must be the outermost level of parallelism, while <tt>vector</tt> must be the innermost level. The mapping is actually left to the compiler. However, while knowing there may be exceptions, you can think of the following mapping to be applicable:
</p>
<ul><li>OpenACC <tt>vector</tt> =&gt; CUDA threads</li>
<li>OpenACC <tt>worker</tt> =&gt; CUDA warps</li>
<li>OpenACC <tt>gang</tt> =&gt; CUDA thread blocks</li></ul>
</div></div>
<p><br />
</p>
<h2><span class="mw-headline" id="OpenACC_clauses_to_control_parallelism">OpenACC clauses to control parallelism</span></h2>
<p>The <tt>loop</tt> can be used with specific clauses to control the level of parallelism that the compiler should use to parallelize the next loop. The following clauses can be used:
</p>
<ul><li><tt>gang</tt> will apply <tt>gang</tt>-level parallelism to the loop</li>
<li><tt>worker</tt> will apply <tt>worker</tt>-level parallelism to the loop</li>
<li><tt>vector</tt> will apply <tt>vector</tt>-level parallelism to the loop</li>
<li><tt>seq</tt> will run the loop sequentially, without parallelism</li></ul>
<p>Multiple of these clauses can be applied to a given loop, but they must be specified in a top-down order (<tt>gang</tt> first, <tt>vector</tt> last). 
</p>
<h3><span class="mw-headline" id="Specifying_the_type_of_device_the_clause_applies_to">Specifying the type of device the clause applies to</span></h3>
<p>Since different accelerators may perform differently depending on how the parallelization is done, OpenACC provides a clause to specify which type of accelerators the following clause applies to. This clause is called <tt>device_type</tt>. For example, the clauses <tt>device_type(nvidia) vector</tt> would apply vector parallelism to the loop only if the code is compiled for NVidia GPUs. 
</p>
<h3><span class="mw-headline" id="Specifying_the_size_of_each_level_of_parallelism">Specifying the size of each level of parallelism</span></h3>
<p>Each of the <tt>vector</tt>, <tt>worker</tt> and <tt>gang</tt> clauses can take a parameter to explicitly states the their size. For example, the clause <tt>worker(32) vector(32)</tt> would create 32 workers to perform computations on vectors of size 32. 
</p><p><br />
</p>
<div class="panel callout"><div class="panel-heading callout"><div class="panel-heading-icon callout"></div><div class="panel-heading-title">Size limitations</div></div>
<div class="panel-body callout">
<p>Accelerators may have limitations on how many <tt>vector</tt>, <tt>worker</tt> and <tt>gang</tt> a loop can be parallelized on. For NVidia GPUs for example, the following limitations apply:
</p>
<ul><li><tt>vector</tt> length must be a multiple of 32 (up to 1024)</li>
<li><tt>gang</tt> size is given by the number of <tt>worker</tt>s times the size of a <tt>vector</tt>. This number cannot be larger than 1024.</li></ul>
</div></div>
<p><br />
</p>
<h2><span class="mw-headline" id="Controlling_vector_length">Controlling <tt>vector</tt> length</span></h2>
<p>Going back to our example, remember that we noticed the <tt>vector</tt> length was set to 128 by the compiler. Since we know that our rows contain 27 elements, we can reduce the <tt>vector</tt> length to 32. With a <tt>kernels</tt> directive, this is done with the following code:
</p>
<div class="mw-highlight mw-highlight-lang-cpp mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span class="linenos" data-line="1"></span><span class="cp">#pragma acc kernels present(row_offsets,cols,Acoefs,xcoefs,ycoefs)</span>
<span class="linenos" data-line="2"></span><span class="w">  </span><span class="p">{</span>
<span class="linenos" data-line="3"></span><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">num_rows</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="4"></span><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos" data-line="5"></span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">row_start</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos" data-line="6"></span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">row_end</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
<span class="hll"><span class="linenos" data-line="7"></span><span class="cp">#pragma acc loop device_type(nvidia) vector(32)</span>
</span><span class="linenos" data-line="8"></span><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">row_start</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">row_end</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="9"></span><span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Acol</span><span class="o">=</span><span class="n">cols</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="10"></span><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">Acoef</span><span class="o">=</span><span class="n">Acoefs</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="11"></span><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">xcoef</span><span class="o">=</span><span class="n">xcoefs</span><span class="p">[</span><span class="n">Acol</span><span class="p">];</span>
<span class="linenos" data-line="12"></span><span class="w">        </span><span class="n">sum</span><span class="o">+=</span><span class="n">Acoef</span><span class="o">*</span><span class="n">xcoef</span><span class="p">;</span>
<span class="linenos" data-line="13"></span><span class="w">      </span><span class="p">}</span>
<span class="linenos" data-line="14"></span><span class="w">      </span><span class="n">ycoefs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sum</span><span class="p">;</span>
<span class="linenos" data-line="15"></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-line="16"></span><span class="w">  </span><span class="p">}</span>
</pre></div>
<p>If you prefer the <tt>parallel loop</tt> directive, the <tt>vector</tt> length is specified at the level of the top loop with the <tt>vector_length</tt> clause. The <tt>vector</tt> clause is then used to specify to parallelize an inner loop over vector. The example becomes:
</p>
<div class="mw-highlight mw-highlight-lang-cpp mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span class="linenos" data-line="1"></span><span class="cp">#pragma acc parallel loop present(row_offsets,cols,Acoefs,xcoefs,ycoefs) \</span>
<span class="hll"><span class="linenos" data-line="2"></span><span class="cp">        device_type(nvidia) vector_length(32)</span>
</span><span class="linenos" data-line="3"></span><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">num_rows</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="4"></span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos" data-line="5"></span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">row_start</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos" data-line="6"></span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">row_end</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
<span class="linenos" data-line="7"></span><span class="cp">#pragma acc loop reduction(+:sum) \</span>
<span class="hll"><span class="linenos" data-line="8"></span><span class="cp">        device_type(nvidia) vector</span>
</span><span class="linenos" data-line="9"></span><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">row_start</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">row_end</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="10"></span><span class="w">      </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Acol</span><span class="o">=</span><span class="n">cols</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="11"></span><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">Acoef</span><span class="o">=</span><span class="n">Acoefs</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="12"></span><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">xcoef</span><span class="o">=</span><span class="n">xcoefs</span><span class="p">[</span><span class="n">Acol</span><span class="p">];</span>
<span class="linenos" data-line="13"></span><span class="w">      </span><span class="n">sum</span><span class="o">+=</span><span class="n">Acoef</span><span class="o">*</span><span class="n">xcoef</span><span class="p">;</span>
<span class="linenos" data-line="14"></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-line="15"></span><span class="w">    </span><span class="n">ycoefs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sum</span><span class="p">;</span>
<span class="linenos" data-line="16"></span><span class="w">  </span><span class="p">}</span>
</pre></div>
<p>If you actually make this change, you will see that, on a K20, the run time actually goes up, from about 10 seconds to about 15 seconds. This is because the compiler is doing something clever. 
</p>
<h2><span class="mw-headline" id="Guided_analysis_with_the_NVidia_Visual_Profiler">Guided analysis with the NVidia Visual Profiler</span></h2>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:0-guided_analysis.png" class="mw-file-description"><img src="/mediawiki/images/thumb/3/38/0-guided_analysis.png/300px-0-guided_analysis.png" decoding="async" width="300" height="170" class="mw-file-element" srcset="/mediawiki/images/thumb/3/38/0-guided_analysis.png/450px-0-guided_analysis.png 1.5x, /mediawiki/images/thumb/3/38/0-guided_analysis.png/600px-0-guided_analysis.png 2x" /></a><figcaption>First step of guided analysis</figcaption></figure>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:1-guided_analysis.png" class="mw-file-description"><img src="/mediawiki/images/thumb/4/49/1-guided_analysis.png/300px-1-guided_analysis.png" decoding="async" width="300" height="168" class="mw-file-element" srcset="/mediawiki/images/thumb/4/49/1-guided_analysis.png/450px-1-guided_analysis.png 1.5x, /mediawiki/images/thumb/4/49/1-guided_analysis.png/600px-1-guided_analysis.png 2x" /></a><figcaption>Second step of guided analysis</figcaption></figure>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:2-guided_analysis.png" class="mw-file-description"><img src="/mediawiki/images/thumb/6/6c/2-guided_analysis.png/300px-2-guided_analysis.png" decoding="async" width="300" height="170" class="mw-file-element" srcset="/mediawiki/images/thumb/6/6c/2-guided_analysis.png/450px-2-guided_analysis.png 1.5x, /mediawiki/images/thumb/6/6c/2-guided_analysis.png/600px-2-guided_analysis.png 2x" /></a><figcaption>Third step of guided analysis</figcaption></figure>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:3-guided_analysis.png" class="mw-file-description"><img src="/mediawiki/images/thumb/4/4c/3-guided_analysis.png/300px-3-guided_analysis.png" decoding="async" width="300" height="168" class="mw-file-element" srcset="/mediawiki/images/thumb/4/4c/3-guided_analysis.png/450px-3-guided_analysis.png 1.5x, /mediawiki/images/thumb/4/4c/3-guided_analysis.png/600px-3-guided_analysis.png 2x" /></a><figcaption>Fourth step of guided analysis</figcaption></figure>
<p>As instructed in the <a href="/wiki/OpenACC_Tutorial_-_Adding_directives#How_is_ported_code_performing_.3F" title="OpenACC Tutorial - Adding directives"> third section</a> of this tutorial, open the NVidia Visual Profiler and start a new session with the latest executable we have built. Then, follow the following steps (see beside for screenshots of each step):
</p>
<ol><li>Go in in the "Analysis" tab, and click on "Examine GPU Usage". Once the analysis is run, the profiler gives you a series of warning. This gives you indications on what it might be possible to improve upon.</li>
<li>Then click on "Examine Individual Kernels". This will show you a list of kernels.</li>
<li>Select the top one, and click on "Perform Kernel Analysis". The profiler will show you a more detailed analysis of this specific kernel, highlighting the most likely bottleneck. In this case, the performance is limited by memory latency.</li>
<li>Click on "Perform Latency Analysis"</li></ol>
<p>Once you have performed those steps, you should have the following information displayed.
<span typeof="mw:File"><a href="/wiki/File:4-guided_analysis.png" class="mw-file-description" title="Fifth step of guided analysis"><img alt="Fifth step of guided analysis" src="/mediawiki/images/thumb/c/ce/4-guided_analysis.png/800px-4-guided_analysis.png" decoding="async" width="800" height="454" class="mw-file-element" srcset="/mediawiki/images/thumb/c/ce/4-guided_analysis.png/1200px-4-guided_analysis.png 1.5x, /mediawiki/images/thumb/c/ce/4-guided_analysis.png/1600px-4-guided_analysis.png 2x" /></a></span>
This screenshot gives us a number of important information. First, the text tells us clearly that the performance is limited by the size of the blocks, which in OpenACC corresponds to the size of the gangs. Second, the "Active Threads" line tells us that the GPU is running 512 threads, while it could be running 2048. The occupancy line correspondingly states that the GPU is only used at 25% of its capacity. Occupancy is the ratio of how much the GPU <b>is</b> utilized over how much the GPU <b>could be</b> utilized.  Note that 100% occupancy does not necessarily yield the best performance. However, 25% is quite low. 
</p><p>The most important answers comes from the "Warps" table. This table tells us that the GPU is running 32 threads per block (OpenACC: vector threads per gang) while it could be running 1024. It also tells us that it is running 1 warp per block (OpenACC: worker per gang), while it could be running 32. Finally, the last line tells us that in order to fill the device, we would need to run 64 gangs, but the device can only hold 16. The conclusion to draw is that we need bigger gangs. We can do this by adding more workers while keeping the vector size to 32. 
</p>
<h2><span class="mw-headline" id="Adding_more_workers">Adding more <tt>worker</tt>s</span></h2>
<p>Since we know that on NVidia GPUs, the maximum size of a <tt>gang</tt> is 1024, and is given by the size of the <tt>vector</tt> times the number of <tt>worker</tt>s, we want to have 32 <tt>worker</tt> per gang. Using the <tt>kernels</tt> directive, this is done with the following code:
</p>
<div class="mw-highlight mw-highlight-lang-cpp mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span class="linenos" data-line="1"></span><span class="cp">#pragma acc kernels present(row_offsets,cols,Acoefs,xcoefs,ycoefs)</span>
<span class="linenos" data-line="2"></span><span class="w">  </span><span class="p">{</span>
<span class="hll"><span class="linenos" data-line="3"></span><span class="cp">#pragma acc loop device_type(nvidia) gang worker(32)</span>
</span><span class="linenos" data-line="4"></span><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">num_rows</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="5"></span><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos" data-line="6"></span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">row_start</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos" data-line="7"></span><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">row_end</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
<span class="linenos" data-line="8"></span><span class="cp">#pragma acc loop device_type(nvidia) vector(32)</span>
<span class="linenos" data-line="9"></span><span class="w">      </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">row_start</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">row_end</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="10"></span><span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Acol</span><span class="o">=</span><span class="n">cols</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="11"></span><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">Acoef</span><span class="o">=</span><span class="n">Acoefs</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="12"></span><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">xcoef</span><span class="o">=</span><span class="n">xcoefs</span><span class="p">[</span><span class="n">Acol</span><span class="p">];</span>
<span class="linenos" data-line="13"></span><span class="w">        </span><span class="n">sum</span><span class="o">+=</span><span class="n">Acoef</span><span class="o">*</span><span class="n">xcoef</span><span class="p">;</span>
<span class="linenos" data-line="14"></span><span class="w">      </span><span class="p">}</span>
<span class="linenos" data-line="15"></span><span class="w">      </span><span class="n">ycoefs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sum</span><span class="p">;</span>
<span class="linenos" data-line="16"></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-line="17"></span><span class="w">  </span><span class="p">}</span>
</pre></div>
<p>Note that we parallelize the <b>outer</b> loop on workers, since the inner loop is already using the <tt>vector</tt> level of parallelism. 
</p><p>Correspondingly, giving this information to the compiler with the <tt>parallel loop</tt> directive is done with the following code:
</p>
<div class="mw-highlight mw-highlight-lang-cpp mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span class="linenos" data-line="1"></span><span class="cp">#pragma acc parallel loop present(row_offsets,cols,Acoefs,xcoefs,ycoefs) \</span>
<span class="linenos" data-line="2"></span><span class="cp">        device_type(nvidia) vector_length(32) \</span>
<span class="hll"><span class="linenos" data-line="3"></span><span class="cp">        gang worker num_workers(32)</span>
</span><span class="linenos" data-line="4"></span><span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">num_rows</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="5"></span><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="linenos" data-line="6"></span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">row_start</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="linenos" data-line="7"></span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">row_end</span><span class="o">=</span><span class="n">row_offsets</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
<span class="linenos" data-line="8"></span><span class="cp">#pragma acc loop reduction(+:sum) \</span>
<span class="linenos" data-line="9"></span><span class="cp">        device_type(nvidia) vector</span>
<span class="linenos" data-line="10"></span><span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">row_start</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">row_end</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="11"></span><span class="w">      </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Acol</span><span class="o">=</span><span class="n">cols</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="12"></span><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">Acoef</span><span class="o">=</span><span class="n">Acoefs</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="linenos" data-line="13"></span><span class="w">      </span><span class="kt">double</span><span class="w"> </span><span class="n">xcoef</span><span class="o">=</span><span class="n">xcoefs</span><span class="p">[</span><span class="n">Acol</span><span class="p">];</span>
<span class="linenos" data-line="14"></span><span class="w">      </span><span class="n">sum</span><span class="o">+=</span><span class="n">Acoef</span><span class="o">*</span><span class="n">xcoef</span><span class="p">;</span>
<span class="linenos" data-line="15"></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-line="16"></span><span class="w">    </span><span class="n">ycoefs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">sum</span><span class="p">;</span>
<span class="linenos" data-line="17"></span><span class="w">  </span><span class="p">}</span>
</pre></div>
<p>Doing this additional step gave us a gain of performance of a factor of almost two compared to what the compiler did by itself. The code ran in roughly 10 seconds on a K20 before and now runs in about 6 seconds. 
</p>
<h2><span class="mw-headline" id="Other_optimization_clauses">Other optimization clauses</span></h2>
<p>There are two clauses which we did not use in the examples, and which may be useful in optimizing loops. The first one is the <tt>collapse(N)</tt> clause. This clause is applied to a loop directive, and will cause the next N loops to be collapsed into a single, flattened loop. This is useful if you have many nested loops or when you have really short loops. The second clause is the <tt>tile(N,[M,...])</tt> clause. This will break the next loops into tiles before parallelizing, and it can be useful if your algorithm has high locality because the device can then use data from nearby tiles. 
</p>
<h2><span class="mw-headline" id="Bonus_exercise">Bonus exercise</span></h2>
<div class="panel challenge"><div class="panel-heading challenge"><div class="panel-heading-icon challenge"></div><div class="panel-heading-title">Jacobi iterations</div></div>
<div class="panel-body challenge">
<p>The <tt>bonus</tt> folder contains a code which solves the <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Laplace%27s_equation">Laplace Equation</a> using the <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Jacobi_method">Jacobi method</a>. Use what you have learned in this tutorial to port it to GPU using OpenACC and see what performance gain you are able to get.
</p>
</div></div>
<p><br />
<a href="/wiki/OpenACC_Tutorial" title="OpenACC Tutorial">Back to the lesson plan</a>
</p>
<!-- 
NewPP limit report
Cached time: 20250530235257
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.060 seconds
Real time usage: 0.615 seconds
Preprocessor visited node count: 215/1000000
Post‐expand include size: 5384/2097152 bytes
Template argument size: 4489/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 20850/5000000 bytes
ExtLoops count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  564.135      1 -total
 20.14%  113.644      1 Template:Command
  0.15%    0.868      1 Template:Objectives
  0.14%    0.798      1 Template:Challenge
  0.11%    0.647      4 Template:Panel
  0.11%    0.634      2 Template:Callout
-->

<!-- Saved in parser cache with key ccwiki:pcache:idhash:194-0!canonical and timestamp 20250530235257 and revision id 14358. Rendering was triggered because: page-view
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://docs.alliancecan.ca/mediawiki/index.php?title=OpenACC_Tutorial_-_Optimizing_loops&amp;oldid=14358">https://docs.alliancecan.ca/mediawiki/index.php?title=OpenACC_Tutorial_-_Optimizing_loops&amp;oldid=14358</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		
<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-uls" class="mw-list-item active"><a class="uls-trigger" href="#"><span>English</span></a></li><li id="pt-login" class="mw-list-item"><a href="/mediawiki/index.php?title=Special:UserLogin&amp;returnto=OpenACC+Tutorial+-+Optimizing+loops" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o"><span>Log in</span></a></li>
		</ul>
		
	</div>
</nav>

		<div id="left-navigation">
			
<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy vector-menu" aria-labelledby="p-namespaces-label"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-main" class="selected mw-list-item"><a href="/wiki/OpenACC_Tutorial_-_Optimizing_loops" title="View the content page [c]" accesskey="c"><span>Page</span></a></li><li id="ca-talk" class="new mw-list-item"><a href="/mediawiki/index.php?title=Talk:OpenACC_Tutorial_-_Optimizing_loops&amp;action=edit&amp;redlink=1" rel="discussion" class="new" title="Discussion about the content page (page does not exist) [t]" accesskey="t"><span>Discussion</span></a></li>
		</ul>
		
	</div>
</nav>

			
<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown vector-menu" aria-labelledby="p-variants-label"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	>
	<label
		id="p-variants-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			
<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy vector-menu" aria-labelledby="p-views-label"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected mw-list-item"><a href="/wiki/OpenACC_Tutorial_-_Optimizing_loops"><span>Read</span></a></li><li id="ca-viewsource" class="mw-list-item"><a href="/mediawiki/index.php?title=OpenACC_Tutorial_-_Optimizing_loops&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="mw-list-item"><a href="/mediawiki/index.php?title=OpenACC_Tutorial_-_Optimizing_loops&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</nav>

			
<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown vector-menu" aria-labelledby="p-cactions-label"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<h3 >Search</h3>
	<form action="/mediawiki/index.php" id="searchform" class="vector-search-box-form">
		<div id="simpleSearch"
			class="vector-search-box-inner"
			 data-search-loc="header-navigation">
			<input class="vector-search-box-input"
				 type="search" name="search" placeholder="Search Alliance Doc" aria-label="Search Alliance Doc" autocapitalize="sentences" title="Search Alliance Doc [f]" accesskey="f" id="searchInput"
			>
			<input type="hidden" name="title" value="Special:Search">
			<input id="mw-searchButton"
				 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
			<input id="searchButton"
				 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel" class="vector-legacy-sidebar">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Technical_documentation"
			title="Visit the main page"></a>
	</div>
	
<nav id="p-navigation" class="mw-portlet mw-portlet-navigation vector-menu-portal portal vector-menu" aria-labelledby="p-navigation-label"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-wiki-main-page" class="mw-list-item"><a href="/wiki/Technical_documentation"><span>Wiki Main Page</span></a></li>
		</ul>
		
	</div>
</nav>

	
<nav id="p-sidebar-support" class="mw-portlet mw-portlet-sidebar-support vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-support-label"  >
	<h3
		id="p-sidebar-support-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Support</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-getting-started" class="mw-list-item"><a href="/wiki/Getting_started"><span>Getting started</span></a></li><li id="n-sidebar-technical-support" class="mw-list-item"><a href="/wiki/Technical_support"><span>Getting help</span></a></li><li id="n-sidebar-running-jobs" class="mw-list-item"><a href="/wiki/Running_jobs"><span>Running jobs</span></a></li><li id="n-sidebar-known-issues" class="mw-list-item"><a href="/wiki/Known_issues"><span>Known issues</span></a></li><li id="n-sidebar-system-status" class="mw-list-item"><a href="http://status.computecanada.ca" rel="nofollow"><span>System status</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-resources" class="mw-portlet mw-portlet-sidebar-resources vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-resources-label"  >
	<h3
		id="p-sidebar-resources-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Resources</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-Béluga" class="mw-list-item"><a href="/wiki/B%C3%A9luga/en"><span>Béluga</span></a></li><li id="n-Cedar" class="mw-list-item"><a href="/wiki/Cedar"><span>Cedar</span></a></li><li id="n-Graham" class="mw-list-item"><a href="/wiki/Graham"><span>Graham</span></a></li><li id="n-Narval" class="mw-list-item"><a href="/wiki/Narval/en"><span>Narval</span></a></li><li id="n-Niagara" class="mw-list-item"><a href="/wiki/Niagara"><span>Niagara</span></a></li><li id="n-sidebar-cloud" class="mw-list-item"><a href="/wiki/CC-Cloud"><span>Cloud</span></a></li><li id="n-tamIA" class="mw-list-item"><a href="/wiki/TamIA/en"><span>tamIA</span></a></li><li id="n-Killarney" class="mw-list-item"><a href="/wiki/Killarney"><span>Killarney</span></a></li><li id="n-sidebar-quantum-computing" class="mw-list-item"><a href="/wiki/Services_d%27informatique_quantique/en"><span>Quantum computing</span></a></li><li id="n-sidebar-available-software" class="mw-list-item"><a href="/wiki/Available_software"><span>Available software</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-alliance" class="mw-portlet mw-portlet-sidebar-alliance vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-alliance-label"  >
	<h3
		id="p-sidebar-alliance-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">The Alliance</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-alliance-main-page" class="mw-list-item"><a href="https://alliancecan.ca/en" rel="nofollow"><span>Alliance main page</span></a></li><li id="n-sidebar-ccdb" class="mw-list-item"><a href="https://ccdb.computecanada.ca/security/login" rel="nofollow"><span>CCDB</span></a></li><li id="n-sidebar-getting-an-account" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/account-management/apply-account" rel="nofollow"><span>Getting An Account</span></a></li><li id="n-sidebar-acknowledging-alliance" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/research-portal/acknowledging-alliance" rel="nofollow"><span>Acknowledging the Alliance</span></a></li><li id="n-sidebar-aup" class="mw-list-item"><a href="https://alliancecan.ca/en/services/advanced-research-computing/account-management/policies" rel="nofollow"><span>Acceptable Use Policy</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-sidebar-authoring" class="mw-portlet mw-portlet-sidebar-authoring vector-menu-portal portal vector-menu" aria-labelledby="p-sidebar-authoring-label"  >
	<h3
		id="p-sidebar-authoring-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Authoring</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-sidebar-guidelines" class="mw-list-item"><a href="/wiki/Authoring_guidelines"><span>Guidelines</span></a></li><li id="n-sidebar-mediawiki-help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r"><span>Recent changes</span></a></li>
		</ul>
		
	</div>
</nav>

<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu-portal portal vector-menu" aria-labelledby="p-tb-label"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/OpenACC_Tutorial_-_Optimizing_loops" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/OpenACC_Tutorial_-_Optimizing_loops" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/mediawiki/index.php?title=OpenACC_Tutorial_-_Optimizing_loops&amp;oldid=14358" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/mediawiki/index.php?title=OpenACC_Tutorial_-_Optimizing_loops&amp;action=info" title="More information about this page"><span>Page information</span></a></li>
		</ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 12 May 2017, at 14:16.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="/wiki/CCWiki:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/CCWiki:About">About Alliance Doc</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/CCWiki:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-mobileview"><a href="https://docs.alliancecan.ca/mediawiki/index.php?title=OpenACC_Tutorial_-_Optimizing_loops&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><img src="/mediawiki/resources/assets/poweredby_mediawiki.svg" alt="Powered by MediaWiki" width="88" height="31" loading="lazy"></a></li>
</ul>

</footer>

<script>(RLQ=window.RLQ||[]).push(function(){mw.log.warn("This page is using the deprecated ResourceLoader module \"codex-search-styles\".\n[1.43] Use a CodexModule with codexComponents to set your specific components used: https://www.mediawiki.org/wiki/Codex#Using_a_limited_subset_of_components");});</script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-TVBPRD78K4" async=""></script><script>
window.dataLayer = window.dataLayer || [];

function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-TVBPRD78K4', {});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":716,"wgPageParseReport":{"limitreport":{"cputime":"0.060","walltime":"0.615","ppvisitednodes":{"value":215,"limit":1000000},"postexpandincludesize":{"value":5384,"limit":2097152},"templateargumentsize":{"value":4489,"limit":2097152},"expansiondepth":{"value":5,"limit":100},"expensivefunctioncount":{"value":5,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":20850,"limit":5000000},"timingprofile":["100.00%  564.135      1 -total"," 20.14%  113.644      1 Template:Command","  0.15%    0.868      1 Template:Objectives","  0.14%    0.798      1 Template:Challenge","  0.11%    0.647      4 Template:Panel","  0.11%    0.634      2 Template:Callout"]},"loops":{"limitreport-count-limited":{"value":0,"limit":100}},"cachereport":{"timestamp":"20250530235257","ttl":86400,"transientcontent":false}}});});</script>
</body>
</html>